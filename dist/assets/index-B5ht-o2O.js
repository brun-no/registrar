var o8=Object.defineProperty;var a8=(n,e,t)=>e in n?o8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Et=(n,e,t)=>a8(n,typeof e!="symbol"?e+"":e,t);function l8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function c8(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Zk={exports:{}},Q2={},eI={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=Symbol.for("react.element"),u8=Symbol.for("react.portal"),h8=Symbol.for("react.fragment"),f8=Symbol.for("react.strict_mode"),d8=Symbol.for("react.profiler"),p8=Symbol.for("react.provider"),m8=Symbol.for("react.context"),g8=Symbol.for("react.forward_ref"),v8=Symbol.for("react.suspense"),y8=Symbol.for("react.memo"),_8=Symbol.for("react.lazy"),Zb=Symbol.iterator;function w8(n){return n===null||typeof n!="object"?null:(n=Zb&&n[Zb]||n["@@iterator"],typeof n=="function"?n:null)}var tI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nI=Object.assign,rI={};function lp(n,e,t){this.props=n,this.context=e,this.refs=rI,this.updater=t||tI}lp.prototype.isReactComponent={};lp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};lp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function iI(){}iI.prototype=lp.prototype;function hE(n,e,t){this.props=n,this.context=e,this.refs=rI,this.updater=t||tI}var fE=hE.prototype=new iI;fE.constructor=hE;nI(fE,lp.prototype);fE.isPureReactComponent=!0;var e4=Array.isArray,sI=Object.prototype.hasOwnProperty,dE={current:null},oI={key:!0,ref:!0,__self:!0,__source:!0};function aI(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sI.call(e,r)&&!oI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xm,type:n,key:s,ref:o,props:i,_owner:dE.current}}function x8(n,e){return{$$typeof:Xm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function pE(n){return typeof n=="object"&&n!==null&&n.$$typeof===Xm}function E8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var t4=/\/+/g;function M_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?E8(""+n.key):e.toString(36)}function V1(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Xm:case u8:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+M_(o,0):r,e4(i)?(t="",n!=null&&(t=n.replace(t4,"$&/")+"/"),V1(i,e,t,"",function(c){return c})):i!=null&&(pE(i)&&(i=x8(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(t4,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",e4(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+M_(s,a);o+=V1(s,e,t,l,i)}else if(l=w8(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+M_(s,a++),o+=V1(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jg(n,e,t){if(n==null)return n;var r=[],i=0;return V1(n,r,"","",function(s){return e.call(t,s,i++)}),r}function S8(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var _s={current:null},W1={transition:null},T8={ReactCurrentDispatcher:_s,ReactCurrentBatchConfig:W1,ReactCurrentOwner:dE};function lI(){throw Error("act(...) is not supported in production builds of React.")}sn.Children={map:Jg,forEach:function(n,e,t){Jg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jg(n,function(){e++}),e},toArray:function(n){return Jg(n,function(e){return e})||[]},only:function(n){if(!pE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};sn.Component=lp;sn.Fragment=h8;sn.Profiler=d8;sn.PureComponent=hE;sn.StrictMode=f8;sn.Suspense=v8;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T8;sn.act=lI;sn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=nI({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dE.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)sI.call(e,l)&&!oI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xm,type:n.type,key:i,ref:s,props:r,_owner:o}};sn.createContext=function(n){return n={$$typeof:m8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:p8,_context:n},n.Consumer=n};sn.createElement=aI;sn.createFactory=function(n){var e=aI.bind(null,n);return e.type=n,e};sn.createRef=function(){return{current:null}};sn.forwardRef=function(n){return{$$typeof:g8,render:n}};sn.isValidElement=pE;sn.lazy=function(n){return{$$typeof:_8,_payload:{_status:-1,_result:n},_init:S8}};sn.memo=function(n,e){return{$$typeof:y8,type:n,compare:e===void 0?null:e}};sn.startTransition=function(n){var e=W1.transition;W1.transition={};try{n()}finally{W1.transition=e}};sn.unstable_act=lI;sn.useCallback=function(n,e){return _s.current.useCallback(n,e)};sn.useContext=function(n){return _s.current.useContext(n)};sn.useDebugValue=function(){};sn.useDeferredValue=function(n){return _s.current.useDeferredValue(n)};sn.useEffect=function(n,e){return _s.current.useEffect(n,e)};sn.useId=function(){return _s.current.useId()};sn.useImperativeHandle=function(n,e,t){return _s.current.useImperativeHandle(n,e,t)};sn.useInsertionEffect=function(n,e){return _s.current.useInsertionEffect(n,e)};sn.useLayoutEffect=function(n,e){return _s.current.useLayoutEffect(n,e)};sn.useMemo=function(n,e){return _s.current.useMemo(n,e)};sn.useReducer=function(n,e,t){return _s.current.useReducer(n,e,t)};sn.useRef=function(n){return _s.current.useRef(n)};sn.useState=function(n){return _s.current.useState(n)};sn.useSyncExternalStore=function(n,e,t){return _s.current.useSyncExternalStore(n,e,t)};sn.useTransition=function(){return _s.current.useTransition()};sn.version="18.3.1";eI.exports=sn;var je=eI.exports;const Le=Jk(je),b8=l8({__proto__:null,default:Le},[je]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=je,C8=Symbol.for("react.element"),k8=Symbol.for("react.fragment"),I8=Object.prototype.hasOwnProperty,N8=A8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P8={key:!0,ref:!0,__self:!0,__source:!0};function cI(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)I8.call(e,r)&&!P8.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:C8,type:n,key:s,ref:o,props:i,_owner:N8.current}}Q2.Fragment=k8;Q2.jsx=cI;Q2.jsxs=cI;Zk.exports=Q2;var ae=Zk.exports,uI={exports:{}},fo={},hI={exports:{}},fI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(K,Z){var me=K.length;K.push(Z);e:for(;0<me;){var Ae=me-1>>>1,N=K[Ae];if(0<i(N,Z))K[Ae]=Z,K[me]=N,me=Ae;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],me=K.pop();if(me!==Z){K[0]=me;e:for(var Ae=0,N=K.length,M=N>>>1;Ae<M;){var j=2*(Ae+1)-1,U=K[j],Q=j+1,ie=K[Q];if(0>i(U,me))Q<N&&0>i(ie,U)?(K[Ae]=ie,K[Q]=me,Ae=Q):(K[Ae]=U,K[j]=me,Ae=j);else if(Q<N&&0>i(ie,me))K[Ae]=ie,K[Q]=me,Ae=Q;else break e}}return Z}function i(K,Z){var me=K.sortIndex-Z.sortIndex;return me!==0?me:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,v=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(K){for(var Z=t(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=K)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function R(K){if(g=!1,x(K),!v)if(t(l)!==null)v=!0,ne(B);else{var Z=t(c);Z!==null&&ee(R,Z.startTime-K)}}function B(K,Z){v=!1,g&&(g=!1,_(b),b=-1),f=!0;var me=d;try{for(x(Z),h=t(l);h!==null&&(!(h.expirationTime>Z)||K&&!A());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,d=h.priorityLevel;var N=Ae(h.expirationTime<=Z);Z=n.unstable_now(),typeof N=="function"?h.callback=N:h===t(l)&&r(l),x(Z)}else r(l);h=t(l)}if(h!==null)var M=!0;else{var j=t(c);j!==null&&ee(R,j.startTime-Z),M=!1}return M}finally{h=null,d=me,f=!1}}var V=!1,T=null,b=-1,I=5,L=-1;function A(){return!(n.unstable_now()-L<I)}function C(){if(T!==null){var K=n.unstable_now();L=K;var Z=!0;try{Z=T(!0,K)}finally{Z?D():(V=!1,T=null)}}else V=!1}var D;if(typeof w=="function")D=function(){w(C)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,he=q.port2;q.port1.onmessage=C,D=function(){he.postMessage(null)}}else D=function(){E(C,0)};function ne(K){T=K,V||(V=!0,D())}function ee(K,Z){b=E(function(){K(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){v||f||(v=!0,ne(B))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(K){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var me=d;d=Z;try{return K()}finally{d=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=d;d=K;try{return Z()}finally{d=me}},n.unstable_scheduleCallback=function(K,Z,me){var Ae=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ae+me:Ae):me=Ae,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,K={id:u++,callback:Z,priorityLevel:K,startTime:me,expirationTime:N,sortIndex:-1},me>Ae?(K.sortIndex=me,e(c,K),t(l)===null&&K===t(c)&&(g?(_(b),b=-1):g=!0,ee(R,me-Ae))):(K.sortIndex=N,e(l,K),v||f||(v=!0,ne(B))),K},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(K){var Z=d;return function(){var me=d;d=Z;try{return K.apply(this,arguments)}finally{d=me}}}})(fI);hI.exports=fI;var D8=hI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R8=je,uo=D8;function rt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dI=new Set,Z0={};function ef(n,e){Ld(n,e),Ld(n+"Capture",e)}function Ld(n,e){for(Z0[n]=e,n=0;n<e.length;n++)dI.add(e[n])}var jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rx=Object.prototype.hasOwnProperty,L8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n4={},r4={};function O8(n){return rx.call(r4,n)?!0:rx.call(n4,n)?!1:L8.test(n)?r4[n]=!0:(n4[n]=!0,!1)}function F8(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function M8(n,e,t,r){if(e===null||typeof e>"u"||F8(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ws(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Fi[n]=new ws(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Fi[e]=new ws(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Fi[n]=new ws(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Fi[n]=new ws(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Fi[n]=new ws(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Fi[n]=new ws(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Fi[n]=new ws(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Fi[n]=new ws(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Fi[n]=new ws(n,5,!1,n.toLowerCase(),null,!1,!1)});var mE=/[\-:]([a-z])/g;function gE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(mE,gE);Fi[e]=new ws(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(mE,gE);Fi[e]=new ws(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(mE,gE);Fi[e]=new ws(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Fi[n]=new ws(n,1,!1,n.toLowerCase(),null,!1,!1)});Fi.xlinkHref=new ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Fi[n]=new ws(n,1,!1,n.toLowerCase(),null,!0,!0)});function vE(n,e,t,r){var i=Fi.hasOwnProperty(e)?Fi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M8(e,t,i,r)&&(t=null),r||i===null?O8(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Zl=R8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zg=Symbol.for("react.element"),Zf=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),yE=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),pI=Symbol.for("react.provider"),mI=Symbol.for("react.context"),_E=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ox=Symbol.for("react.suspense_list"),wE=Symbol.for("react.memo"),Oc=Symbol.for("react.lazy"),gI=Symbol.for("react.offscreen"),i4=Symbol.iterator;function Wp(n){return n===null||typeof n!="object"?null:(n=i4&&n[i4]||n["@@iterator"],typeof n=="function"?n:null)}var yr=Object.assign,B_;function l0(n){if(B_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);B_=e&&e[1]||""}return`
`+B_+n}var j_=!1;function U_(n,e){if(!n||j_)return"";j_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{j_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?l0(n):""}function B8(n){switch(n.tag){case 5:return l0(n.type);case 16:return l0("Lazy");case 13:return l0("Suspense");case 19:return l0("SuspenseList");case 0:case 2:case 15:return n=U_(n.type,!1),n;case 11:return n=U_(n.type.render,!1),n;case 1:return n=U_(n.type,!0),n;default:return""}}function ax(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ed:return"Fragment";case Zf:return"Portal";case ix:return"Profiler";case yE:return"StrictMode";case sx:return"Suspense";case ox:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case mI:return(n.displayName||"Context")+".Consumer";case pI:return(n._context.displayName||"Context")+".Provider";case _E:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case wE:return e=n.displayName||null,e!==null?e:ax(n.type)||"Memo";case Oc:e=n._payload,n=n._init;try{return ax(n(e))}catch{}}return null}function j8(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ax(e);case 8:return e===yE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vI(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U8(n){var e=vI(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function e1(n){n._valueTracker||(n._valueTracker=U8(n))}function yI(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=vI(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function gv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function lx(n,e){var t=e.checked;return yr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function s4(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=mu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _I(n,e){e=e.checked,e!=null&&vE(n,"checked",e,!1)}function cx(n,e){_I(n,e);var t=mu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ux(n,e.type,t):e.hasOwnProperty("defaultValue")&&ux(n,e.type,mu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function o4(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ux(n,e,t){(e!=="number"||gv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var c0=Array.isArray;function pd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+mu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function hx(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return yr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function a4(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(rt(92));if(c0(t)){if(1<t.length)throw Error(rt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:mu(t)}}function wI(n,e){var t=mu(e.value),r=mu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function l4(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function xI(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?xI(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var t1,EI=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(t1=t1||document.createElement("div"),t1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=t1.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function em(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var E0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V8=["Webkit","ms","Moz","O"];Object.keys(E0).forEach(function(n){V8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),E0[e]=E0[n]})});function SI(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||E0.hasOwnProperty(n)&&E0[n]?(""+e).trim():e+"px"}function TI(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=SI(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var W8=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dx(n,e){if(e){if(W8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function px(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mx=null;function xE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gx=null,md=null,gd=null;function c4(n){if(n=eg(n)){if(typeof gx!="function")throw Error(rt(280));var e=n.stateNode;e&&(e=ty(e),gx(n.stateNode,n.type,e))}}function bI(n){md?gd?gd.push(n):gd=[n]:md=n}function AI(){if(md){var n=md,e=gd;if(gd=md=null,c4(n),e)for(n=0;n<e.length;n++)c4(e[n])}}function CI(n,e){return n(e)}function kI(){}var V_=!1;function II(n,e,t){if(V_)return n(e,t);V_=!0;try{return CI(n,e,t)}finally{V_=!1,(md!==null||gd!==null)&&(kI(),AI())}}function tm(n,e){var t=n.stateNode;if(t===null)return null;var r=ty(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(rt(231,e,typeof t));return t}var vx=!1;if(jl)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){vx=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{vx=!1}function H8(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var S0=!1,vv=null,yv=!1,yx=null,z8={onError:function(n){S0=!0,vv=n}};function q8(n,e,t,r,i,s,o,a,l){S0=!1,vv=null,H8.apply(z8,arguments)}function $8(n,e,t,r,i,s,o,a,l){if(q8.apply(this,arguments),S0){if(S0){var c=vv;S0=!1,vv=null}else throw Error(rt(198));yv||(yv=!0,yx=c)}}function tf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function NI(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function u4(n){if(tf(n)!==n)throw Error(rt(188))}function Y8(n){var e=n.alternate;if(!e){if(e=tf(n),e===null)throw Error(rt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return u4(i),n;if(s===r)return u4(i),e;s=s.sibling}throw Error(rt(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(rt(189))}}if(t.alternate!==r)throw Error(rt(190))}if(t.tag!==3)throw Error(rt(188));return t.stateNode.current===t?n:e}function PI(n){return n=Y8(n),n!==null?DI(n):null}function DI(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=DI(n);if(e!==null)return e;n=n.sibling}return null}var RI=uo.unstable_scheduleCallback,h4=uo.unstable_cancelCallback,G8=uo.unstable_shouldYield,K8=uo.unstable_requestPaint,Pr=uo.unstable_now,Q8=uo.unstable_getCurrentPriorityLevel,EE=uo.unstable_ImmediatePriority,LI=uo.unstable_UserBlockingPriority,_v=uo.unstable_NormalPriority,X8=uo.unstable_LowPriority,OI=uo.unstable_IdlePriority,X2=null,Ma=null;function J8(n){if(Ma&&typeof Ma.onCommitFiberRoot=="function")try{Ma.onCommitFiberRoot(X2,n,void 0,(n.current.flags&128)===128)}catch{}}var sa=Math.clz32?Math.clz32:tM,Z8=Math.log,eM=Math.LN2;function tM(n){return n>>>=0,n===0?32:31-(Z8(n)/eM|0)|0}var n1=64,r1=4194304;function u0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=u0(a):(s&=o,s!==0&&(r=u0(s)))}else o=t&~i,o!==0?r=u0(o):s!==0&&(r=u0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-sa(e),i=1<<t,r|=n[t],e&=~i;return r}function nM(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rM(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-sa(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=nM(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function _x(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function FI(){var n=n1;return n1<<=1,!(n1&4194240)&&(n1=64),n}function W_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Jm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-sa(e),n[e]=t}function iM(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-sa(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function SE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-sa(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Mn=0;function MI(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var BI,TE,jI,UI,VI,wx=!1,i1=[],Jc=null,Zc=null,eu=null,nm=new Map,rm=new Map,Bc=[],sM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f4(n,e){switch(n){case"focusin":case"focusout":Jc=null;break;case"dragenter":case"dragleave":Zc=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":nm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rm.delete(e.pointerId)}}function zp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eg(e),e!==null&&TE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function oM(n,e,t,r,i){switch(e){case"focusin":return Jc=zp(Jc,n,e,t,r,i),!0;case"dragenter":return Zc=zp(Zc,n,e,t,r,i),!0;case"mouseover":return eu=zp(eu,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return nm.set(s,zp(nm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rm.set(s,zp(rm.get(s)||null,n,e,t,r,i)),!0}return!1}function WI(n){var e=ph(n.target);if(e!==null){var t=tf(e);if(t!==null){if(e=t.tag,e===13){if(e=NI(t),e!==null){n.blockedOn=e,VI(n.priority,function(){jI(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function H1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=xx(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);mx=r,t.target.dispatchEvent(r),mx=null}else return e=eg(t),e!==null&&TE(e),n.blockedOn=t,!1;e.shift()}return!0}function d4(n,e,t){H1(n)&&t.delete(e)}function aM(){wx=!1,Jc!==null&&H1(Jc)&&(Jc=null),Zc!==null&&H1(Zc)&&(Zc=null),eu!==null&&H1(eu)&&(eu=null),nm.forEach(d4),rm.forEach(d4)}function qp(n,e){n.blockedOn===e&&(n.blockedOn=null,wx||(wx=!0,uo.unstable_scheduleCallback(uo.unstable_NormalPriority,aM)))}function im(n){function e(i){return qp(i,n)}if(0<i1.length){qp(i1[0],n);for(var t=1;t<i1.length;t++){var r=i1[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Jc!==null&&qp(Jc,n),Zc!==null&&qp(Zc,n),eu!==null&&qp(eu,n),nm.forEach(e),rm.forEach(e),t=0;t<Bc.length;t++)r=Bc[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Bc.length&&(t=Bc[0],t.blockedOn===null);)WI(t),t.blockedOn===null&&Bc.shift()}var vd=Zl.ReactCurrentBatchConfig,xv=!0;function lM(n,e,t,r){var i=Mn,s=vd.transition;vd.transition=null;try{Mn=1,bE(n,e,t,r)}finally{Mn=i,vd.transition=s}}function cM(n,e,t,r){var i=Mn,s=vd.transition;vd.transition=null;try{Mn=4,bE(n,e,t,r)}finally{Mn=i,vd.transition=s}}function bE(n,e,t,r){if(xv){var i=xx(n,e,t,r);if(i===null)J_(n,e,r,Ev,t),f4(n,r);else if(oM(i,n,e,t,r))r.stopPropagation();else if(f4(n,r),e&4&&-1<sM.indexOf(n)){for(;i!==null;){var s=eg(i);if(s!==null&&BI(s),s=xx(n,e,t,r),s===null&&J_(n,e,r,Ev,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else J_(n,e,r,null,t)}}var Ev=null;function xx(n,e,t,r){if(Ev=null,n=xE(r),n=ph(n),n!==null)if(e=tf(n),e===null)n=null;else if(t=e.tag,t===13){if(n=NI(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ev=n,null}function HI(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q8()){case EE:return 1;case LI:return 4;case _v:case X8:return 16;case OI:return 536870912;default:return 16}default:return 16}}var qc=null,AE=null,z1=null;function zI(){if(z1)return z1;var n,e=AE,t=e.length,r,i="value"in qc?qc.value:qc.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return z1=i.slice(n,1<r?1-r:void 0)}function q1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function s1(){return!0}function p4(){return!1}function po(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?s1:p4,this.isPropagationStopped=p4,this}return yr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=s1)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=s1)},persist:function(){},isPersistent:s1}),e}var cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CE=po(cp),Zm=yr({},cp,{view:0,detail:0}),uM=po(Zm),H_,z_,$p,J2=yr({},Zm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$p&&($p&&n.type==="mousemove"?(H_=n.screenX-$p.screenX,z_=n.screenY-$p.screenY):z_=H_=0,$p=n),H_)},movementY:function(n){return"movementY"in n?n.movementY:z_}}),m4=po(J2),hM=yr({},J2,{dataTransfer:0}),fM=po(hM),dM=yr({},Zm,{relatedTarget:0}),q_=po(dM),pM=yr({},cp,{animationName:0,elapsedTime:0,pseudoElement:0}),mM=po(pM),gM=yr({},cp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vM=po(gM),yM=yr({},cp,{data:0}),g4=po(yM),_M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EM(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=xM[n])?!!e[n]:!1}function kE(){return EM}var SM=yr({},Zm,{key:function(n){if(n.key){var e=_M[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=q1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kE,charCode:function(n){return n.type==="keypress"?q1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?q1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TM=po(SM),bM=yr({},J2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v4=po(bM),AM=yr({},Zm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kE}),CM=po(AM),kM=yr({},cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),IM=po(kM),NM=yr({},J2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),PM=po(NM),DM=[9,13,27,32],IE=jl&&"CompositionEvent"in window,T0=null;jl&&"documentMode"in document&&(T0=document.documentMode);var RM=jl&&"TextEvent"in window&&!T0,qI=jl&&(!IE||T0&&8<T0&&11>=T0),y4=" ",_4=!1;function $I(n,e){switch(n){case"keyup":return DM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YI(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var td=!1;function LM(n,e){switch(n){case"compositionend":return YI(e);case"keypress":return e.which!==32?null:(_4=!0,y4);case"textInput":return n=e.data,n===y4&&_4?null:n;default:return null}}function OM(n,e){if(td)return n==="compositionend"||!IE&&$I(n,e)?(n=zI(),z1=AE=qc=null,td=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qI&&e.locale!=="ko"?null:e.data;default:return null}}var FM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w4(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!FM[n.type]:e==="textarea"}function GI(n,e,t,r){bI(r),e=Sv(e,"onChange"),0<e.length&&(t=new CE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var b0=null,sm=null;function MM(n){sN(n,0)}function Z2(n){var e=id(n);if(yI(e))return n}function BM(n,e){if(n==="change")return e}var KI=!1;if(jl){var $_;if(jl){var Y_="oninput"in document;if(!Y_){var x4=document.createElement("div");x4.setAttribute("oninput","return;"),Y_=typeof x4.oninput=="function"}$_=Y_}else $_=!1;KI=$_&&(!document.documentMode||9<document.documentMode)}function E4(){b0&&(b0.detachEvent("onpropertychange",QI),sm=b0=null)}function QI(n){if(n.propertyName==="value"&&Z2(sm)){var e=[];GI(e,sm,n,xE(n)),II(MM,e)}}function jM(n,e,t){n==="focusin"?(E4(),b0=e,sm=t,b0.attachEvent("onpropertychange",QI)):n==="focusout"&&E4()}function UM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Z2(sm)}function VM(n,e){if(n==="click")return Z2(e)}function WM(n,e){if(n==="input"||n==="change")return Z2(e)}function HM(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ua=typeof Object.is=="function"?Object.is:HM;function om(n,e){if(ua(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!rx.call(e,i)||!ua(n[i],e[i]))return!1}return!0}function S4(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function T4(n,e){var t=S4(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=S4(t)}}function XI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?XI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function JI(){for(var n=window,e=gv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=gv(n.document)}return e}function NE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function zM(n){var e=JI(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&XI(t.ownerDocument.documentElement,t)){if(r!==null&&NE(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=T4(t,s);var o=T4(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qM=jl&&"documentMode"in document&&11>=document.documentMode,nd=null,Ex=null,A0=null,Sx=!1;function b4(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Sx||nd==null||nd!==gv(r)||(r=nd,"selectionStart"in r&&NE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),A0&&om(A0,r)||(A0=r,r=Sv(Ex,"onSelect"),0<r.length&&(e=new CE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=nd)))}function o1(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var rd={animationend:o1("Animation","AnimationEnd"),animationiteration:o1("Animation","AnimationIteration"),animationstart:o1("Animation","AnimationStart"),transitionend:o1("Transition","TransitionEnd")},G_={},ZI={};jl&&(ZI=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function ey(n){if(G_[n])return G_[n];if(!rd[n])return n;var e=rd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ZI)return G_[n]=e[t];return n}var eN=ey("animationend"),tN=ey("animationiteration"),nN=ey("animationstart"),rN=ey("transitionend"),iN=new Map,A4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ru(n,e){iN.set(n,e),ef(e,[n])}for(var K_=0;K_<A4.length;K_++){var Q_=A4[K_],$M=Q_.toLowerCase(),YM=Q_[0].toUpperCase()+Q_.slice(1);Ru($M,"on"+YM)}Ru(eN,"onAnimationEnd");Ru(tN,"onAnimationIteration");Ru(nN,"onAnimationStart");Ru("dblclick","onDoubleClick");Ru("focusin","onFocus");Ru("focusout","onBlur");Ru(rN,"onTransitionEnd");Ld("onMouseEnter",["mouseout","mouseover"]);Ld("onMouseLeave",["mouseout","mouseover"]);Ld("onPointerEnter",["pointerout","pointerover"]);Ld("onPointerLeave",["pointerout","pointerover"]);ef("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ef("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ef("onBeforeInput",["compositionend","keypress","textInput","paste"]);ef("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ef("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ef("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var h0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GM=new Set("cancel close invalid load scroll toggle".split(" ").concat(h0));function C4(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,$8(r,e,void 0,n),n.currentTarget=null}function sN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;C4(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;C4(i,a,c),s=l}}}if(yv)throw n=yx,yv=!1,yx=null,n}function rr(n,e){var t=e[kx];t===void 0&&(t=e[kx]=new Set);var r=n+"__bubble";t.has(r)||(oN(e,n,2,!1),t.add(r))}function X_(n,e,t){var r=0;e&&(r|=4),oN(t,n,r,e)}var a1="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[a1]){n[a1]=!0,dI.forEach(function(t){t!=="selectionchange"&&(GM.has(t)||X_(t,!1,n),X_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[a1]||(e[a1]=!0,X_("selectionchange",!1,e))}}function oN(n,e,t,r){switch(HI(e)){case 1:var i=lM;break;case 4:i=cM;break;default:i=bE}t=i.bind(null,e,t,n),i=void 0,!vx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function J_(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ph(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}II(function(){var c=s,u=xE(t),h=[];e:{var d=iN.get(n);if(d!==void 0){var f=CE,v=n;switch(n){case"keypress":if(q1(t)===0)break e;case"keydown":case"keyup":f=TM;break;case"focusin":v="focus",f=q_;break;case"focusout":v="blur",f=q_;break;case"beforeblur":case"afterblur":f=q_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=m4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=fM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=CM;break;case eN:case tN:case nN:f=mM;break;case rN:f=IM;break;case"scroll":f=uM;break;case"wheel":f=PM;break;case"copy":case"cut":case"paste":f=vM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=v4}var g=(e&4)!==0,E=!g&&n==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var w=c,x;w!==null;){x=w;var R=x.stateNode;if(x.tag===5&&R!==null&&(x=R,_!==null&&(R=tm(w,_),R!=null&&g.push(lm(w,R,x)))),E)break;w=w.return}0<g.length&&(d=new f(d,v,null,t,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==mx&&(v=t.relatedTarget||t.fromElement)&&(ph(v)||v[Ul]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(v=t.relatedTarget||t.toElement,f=c,v=v?ph(v):null,v!==null&&(E=tf(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(g=m4,R="onMouseLeave",_="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=v4,R="onPointerLeave",_="onPointerEnter",w="pointer"),E=f==null?d:id(f),x=v==null?d:id(v),d=new g(R,w+"leave",f,t,u),d.target=E,d.relatedTarget=x,R=null,ph(u)===c&&(g=new g(_,w+"enter",v,t,u),g.target=x,g.relatedTarget=E,R=g),E=R,f&&v)t:{for(g=f,_=v,w=0,x=g;x;x=Bf(x))w++;for(x=0,R=_;R;R=Bf(R))x++;for(;0<w-x;)g=Bf(g),w--;for(;0<x-w;)_=Bf(_),x--;for(;w--;){if(g===_||_!==null&&g===_.alternate)break t;g=Bf(g),_=Bf(_)}g=null}else g=null;f!==null&&k4(h,d,f,g,!1),v!==null&&E!==null&&k4(h,E,v,g,!0)}}e:{if(d=c?id(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var B=BM;else if(w4(d))if(KI)B=WM;else{B=UM;var V=jM}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(B=VM);if(B&&(B=B(n,c))){GI(h,B,t,u);break e}V&&V(n,d,c),n==="focusout"&&(V=d._wrapperState)&&V.controlled&&d.type==="number"&&ux(d,"number",d.value)}switch(V=c?id(c):window,n){case"focusin":(w4(V)||V.contentEditable==="true")&&(nd=V,Ex=c,A0=null);break;case"focusout":A0=Ex=nd=null;break;case"mousedown":Sx=!0;break;case"contextmenu":case"mouseup":case"dragend":Sx=!1,b4(h,t,u);break;case"selectionchange":if(qM)break;case"keydown":case"keyup":b4(h,t,u)}var T;if(IE)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else td?$I(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(qI&&t.locale!=="ko"&&(td||b!=="onCompositionStart"?b==="onCompositionEnd"&&td&&(T=zI()):(qc=u,AE="value"in qc?qc.value:qc.textContent,td=!0)),V=Sv(c,b),0<V.length&&(b=new g4(b,n,null,t,u),h.push({event:b,listeners:V}),T?b.data=T:(T=YI(t),T!==null&&(b.data=T)))),(T=RM?LM(n,t):OM(n,t))&&(c=Sv(c,"onBeforeInput"),0<c.length&&(u=new g4("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=T))}sN(h,e)})}function lm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Sv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tm(n,t),s!=null&&r.unshift(lm(n,s,i)),s=tm(n,e),s!=null&&r.push(lm(n,s,i))),n=n.return}return r}function Bf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function k4(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=tm(t,s),l!=null&&o.unshift(lm(t,l,a))):i||(l=tm(t,s),l!=null&&o.push(lm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var KM=/\r\n?/g,QM=/\u0000|\uFFFD/g;function I4(n){return(typeof n=="string"?n:""+n).replace(KM,`
`).replace(QM,"")}function l1(n,e,t){if(e=I4(e),I4(n)!==e&&t)throw Error(rt(425))}function Tv(){}var Tx=null,bx=null;function Ax(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cx=typeof setTimeout=="function"?setTimeout:void 0,XM=typeof clearTimeout=="function"?clearTimeout:void 0,N4=typeof Promise=="function"?Promise:void 0,JM=typeof queueMicrotask=="function"?queueMicrotask:typeof N4<"u"?function(n){return N4.resolve(null).then(n).catch(ZM)}:Cx;function ZM(n){setTimeout(function(){throw n})}function Z_(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),im(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);im(e)}function tu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function P4(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var up=Math.random().toString(36).slice(2),Da="__reactFiber$"+up,cm="__reactProps$"+up,Ul="__reactContainer$"+up,kx="__reactEvents$"+up,e7="__reactListeners$"+up,t7="__reactHandles$"+up;function ph(n){var e=n[Da];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ul]||t[Da]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=P4(n);n!==null;){if(t=n[Da])return t;n=P4(n)}return e}n=t,t=n.parentNode}return null}function eg(n){return n=n[Da]||n[Ul],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function id(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(rt(33))}function ty(n){return n[cm]||null}var Ix=[],sd=-1;function Lu(n){return{current:n}}function or(n){0>sd||(n.current=Ix[sd],Ix[sd]=null,sd--)}function Zn(n,e){sd++,Ix[sd]=n.current,n.current=e}var gu={},ts=Lu(gu),Ls=Lu(!1),Rh=gu;function Od(n,e){var t=n.type.contextTypes;if(!t)return gu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Os(n){return n=n.childContextTypes,n!=null}function bv(){or(Ls),or(ts)}function D4(n,e,t){if(ts.current!==gu)throw Error(rt(168));Zn(ts,e),Zn(Ls,t)}function aN(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(rt(108,j8(n)||"Unknown",i));return yr({},t,r)}function Av(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||gu,Rh=ts.current,Zn(ts,n),Zn(Ls,Ls.current),!0}function R4(n,e,t){var r=n.stateNode;if(!r)throw Error(rt(169));t?(n=aN(n,e,Rh),r.__reactInternalMemoizedMergedChildContext=n,or(Ls),or(ts),Zn(ts,n)):or(Ls),Zn(Ls,t)}var xl=null,ny=!1,ew=!1;function lN(n){xl===null?xl=[n]:xl.push(n)}function n7(n){ny=!0,lN(n)}function Ou(){if(!ew&&xl!==null){ew=!0;var n=0,e=Mn;try{var t=xl;for(Mn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}xl=null,ny=!1}catch(i){throw xl!==null&&(xl=xl.slice(n+1)),RI(EE,Ou),i}finally{Mn=e,ew=!1}}return null}var od=[],ad=0,Cv=null,kv=0,Ao=[],Co=0,Lh=null,Tl=1,bl="";function oh(n,e){od[ad++]=kv,od[ad++]=Cv,Cv=n,kv=e}function cN(n,e,t){Ao[Co++]=Tl,Ao[Co++]=bl,Ao[Co++]=Lh,Lh=n;var r=Tl;n=bl;var i=32-sa(r)-1;r&=~(1<<i),t+=1;var s=32-sa(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tl=1<<32-sa(e)+i|t<<i|r,bl=s+n}else Tl=1<<s|t<<i|r,bl=n}function PE(n){n.return!==null&&(oh(n,1),cN(n,1,0))}function DE(n){for(;n===Cv;)Cv=od[--ad],od[ad]=null,kv=od[--ad],od[ad]=null;for(;n===Lh;)Lh=Ao[--Co],Ao[Co]=null,bl=Ao[--Co],Ao[Co]=null,Tl=Ao[--Co],Ao[Co]=null}var oo=null,ro=null,hr=!1,ea=null;function uN(n,e){var t=ko(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function L4(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,oo=n,ro=tu(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,oo=n,ro=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Lh!==null?{id:Tl,overflow:bl}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ko(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,oo=n,ro=null,!0):!1;default:return!1}}function Nx(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Px(n){if(hr){var e=ro;if(e){var t=e;if(!L4(n,e)){if(Nx(n))throw Error(rt(418));e=tu(t.nextSibling);var r=oo;e&&L4(n,e)?uN(r,t):(n.flags=n.flags&-4097|2,hr=!1,oo=n)}}else{if(Nx(n))throw Error(rt(418));n.flags=n.flags&-4097|2,hr=!1,oo=n}}}function O4(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;oo=n}function c1(n){if(n!==oo)return!1;if(!hr)return O4(n),hr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ax(n.type,n.memoizedProps)),e&&(e=ro)){if(Nx(n))throw hN(),Error(rt(418));for(;e;)uN(n,e),e=tu(e.nextSibling)}if(O4(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(rt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ro=tu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ro=null}}else ro=oo?tu(n.stateNode.nextSibling):null;return!0}function hN(){for(var n=ro;n;)n=tu(n.nextSibling)}function Fd(){ro=oo=null,hr=!1}function RE(n){ea===null?ea=[n]:ea.push(n)}var r7=Zl.ReactCurrentBatchConfig;function Yp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(rt(309));var r=t.stateNode}if(!r)throw Error(rt(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(rt(284));if(!t._owner)throw Error(rt(290,n))}return n}function u1(n,e){throw n=Object.prototype.toString.call(e),Error(rt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function F4(n){var e=n._init;return e(n._payload)}function fN(n){function e(_,w){if(n){var x=_.deletions;x===null?(_.deletions=[w],_.flags|=16):x.push(w)}}function t(_,w){if(!n)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=su(_,w),_.index=0,_.sibling=null,_}function s(_,w,x){return _.index=x,n?(x=_.alternate,x!==null?(x=x.index,x<w?(_.flags|=2,w):x):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,w,x,R){return w===null||w.tag!==6?(w=aw(x,_.mode,R),w.return=_,w):(w=i(w,x),w.return=_,w)}function l(_,w,x,R){var B=x.type;return B===ed?u(_,w,x.props.children,R,x.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Oc&&F4(B)===w.type)?(R=i(w,x.props),R.ref=Yp(_,w,x),R.return=_,R):(R=J1(x.type,x.key,x.props,null,_.mode,R),R.ref=Yp(_,w,x),R.return=_,R)}function c(_,w,x,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=lw(x,_.mode,R),w.return=_,w):(w=i(w,x.children||[]),w.return=_,w)}function u(_,w,x,R,B){return w===null||w.tag!==7?(w=Sh(x,_.mode,R,B),w.return=_,w):(w=i(w,x),w.return=_,w)}function h(_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=aw(""+w,_.mode,x),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zg:return x=J1(w.type,w.key,w.props,null,_.mode,x),x.ref=Yp(_,null,w),x.return=_,x;case Zf:return w=lw(w,_.mode,x),w.return=_,w;case Oc:var R=w._init;return h(_,R(w._payload),x)}if(c0(w)||Wp(w))return w=Sh(w,_.mode,x,null),w.return=_,w;u1(_,w)}return null}function d(_,w,x,R){var B=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return B!==null?null:a(_,w,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zg:return x.key===B?l(_,w,x,R):null;case Zf:return x.key===B?c(_,w,x,R):null;case Oc:return B=x._init,d(_,w,B(x._payload),R)}if(c0(x)||Wp(x))return B!==null?null:u(_,w,x,R,null);u1(_,x)}return null}function f(_,w,x,R,B){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(x)||null,a(w,_,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Zg:return _=_.get(R.key===null?x:R.key)||null,l(w,_,R,B);case Zf:return _=_.get(R.key===null?x:R.key)||null,c(w,_,R,B);case Oc:var V=R._init;return f(_,w,x,V(R._payload),B)}if(c0(R)||Wp(R))return _=_.get(x)||null,u(w,_,R,B,null);u1(w,R)}return null}function v(_,w,x,R){for(var B=null,V=null,T=w,b=w=0,I=null;T!==null&&b<x.length;b++){T.index>b?(I=T,T=null):I=T.sibling;var L=d(_,T,x[b],R);if(L===null){T===null&&(T=I);break}n&&T&&L.alternate===null&&e(_,T),w=s(L,w,b),V===null?B=L:V.sibling=L,V=L,T=I}if(b===x.length)return t(_,T),hr&&oh(_,b),B;if(T===null){for(;b<x.length;b++)T=h(_,x[b],R),T!==null&&(w=s(T,w,b),V===null?B=T:V.sibling=T,V=T);return hr&&oh(_,b),B}for(T=r(_,T);b<x.length;b++)I=f(T,_,b,x[b],R),I!==null&&(n&&I.alternate!==null&&T.delete(I.key===null?b:I.key),w=s(I,w,b),V===null?B=I:V.sibling=I,V=I);return n&&T.forEach(function(A){return e(_,A)}),hr&&oh(_,b),B}function g(_,w,x,R){var B=Wp(x);if(typeof B!="function")throw Error(rt(150));if(x=B.call(x),x==null)throw Error(rt(151));for(var V=B=null,T=w,b=w=0,I=null,L=x.next();T!==null&&!L.done;b++,L=x.next()){T.index>b?(I=T,T=null):I=T.sibling;var A=d(_,T,L.value,R);if(A===null){T===null&&(T=I);break}n&&T&&A.alternate===null&&e(_,T),w=s(A,w,b),V===null?B=A:V.sibling=A,V=A,T=I}if(L.done)return t(_,T),hr&&oh(_,b),B;if(T===null){for(;!L.done;b++,L=x.next())L=h(_,L.value,R),L!==null&&(w=s(L,w,b),V===null?B=L:V.sibling=L,V=L);return hr&&oh(_,b),B}for(T=r(_,T);!L.done;b++,L=x.next())L=f(T,_,b,L.value,R),L!==null&&(n&&L.alternate!==null&&T.delete(L.key===null?b:L.key),w=s(L,w,b),V===null?B=L:V.sibling=L,V=L);return n&&T.forEach(function(C){return e(_,C)}),hr&&oh(_,b),B}function E(_,w,x,R){if(typeof x=="object"&&x!==null&&x.type===ed&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zg:e:{for(var B=x.key,V=w;V!==null;){if(V.key===B){if(B=x.type,B===ed){if(V.tag===7){t(_,V.sibling),w=i(V,x.props.children),w.return=_,_=w;break e}}else if(V.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Oc&&F4(B)===V.type){t(_,V.sibling),w=i(V,x.props),w.ref=Yp(_,V,x),w.return=_,_=w;break e}t(_,V);break}else e(_,V);V=V.sibling}x.type===ed?(w=Sh(x.props.children,_.mode,R,x.key),w.return=_,_=w):(R=J1(x.type,x.key,x.props,null,_.mode,R),R.ref=Yp(_,w,x),R.return=_,_=R)}return o(_);case Zf:e:{for(V=x.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){t(_,w.sibling),w=i(w,x.children||[]),w.return=_,_=w;break e}else{t(_,w);break}else e(_,w);w=w.sibling}w=lw(x,_.mode,R),w.return=_,_=w}return o(_);case Oc:return V=x._init,E(_,w,V(x._payload),R)}if(c0(x))return v(_,w,x,R);if(Wp(x))return g(_,w,x,R);u1(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(t(_,w.sibling),w=i(w,x),w.return=_,_=w):(t(_,w),w=aw(x,_.mode,R),w.return=_,_=w),o(_)):t(_,w)}return E}var Md=fN(!0),dN=fN(!1),Iv=Lu(null),Nv=null,ld=null,LE=null;function OE(){LE=ld=Nv=null}function FE(n){var e=Iv.current;or(Iv),n._currentValue=e}function Dx(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function yd(n,e){Nv=n,LE=ld=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ps=!0),n.firstContext=null)}function Do(n){var e=n._currentValue;if(LE!==n)if(n={context:n,memoizedValue:e,next:null},ld===null){if(Nv===null)throw Error(rt(308));ld=n,Nv.dependencies={lanes:0,firstContext:n}}else ld=ld.next=n;return e}var mh=null;function ME(n){mh===null?mh=[n]:mh.push(n)}function pN(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,ME(e)):(t.next=i.next,i.next=t),e.interleaved=t,Vl(n,r)}function Vl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Fc=!1;function BE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Nl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function nu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,gn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vl(n,t)}return i=r.interleaved,i===null?(e.next=e,ME(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vl(n,t)}function $1(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,SE(n,t)}}function M4(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Pv(n,e,t,r){var i=n.updateQueue;Fc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,g=a;switch(d=e,f=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(f,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,d=typeof v=="function"?v.call(f,h,d):v,d==null)break e;h=yr({},h,d);break e;case 2:Fc=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fh|=o,n.lanes=o,n.memoizedState=h}}function B4(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var tg={},Ba=Lu(tg),um=Lu(tg),hm=Lu(tg);function gh(n){if(n===tg)throw Error(rt(174));return n}function jE(n,e){switch(Zn(hm,e),Zn(um,n),Zn(Ba,tg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=fx(e,n)}or(Ba),Zn(Ba,e)}function Bd(){or(Ba),or(um),or(hm)}function gN(n){gh(hm.current);var e=gh(Ba.current),t=fx(e,n.type);e!==t&&(Zn(um,n),Zn(Ba,t))}function UE(n){um.current===n&&(or(Ba),or(um))}var pr=Lu(0);function Dv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tw=[];function VE(){for(var n=0;n<tw.length;n++)tw[n]._workInProgressVersionPrimary=null;tw.length=0}var Y1=Zl.ReactCurrentDispatcher,nw=Zl.ReactCurrentBatchConfig,Oh=0,vr=null,Zr=null,li=null,Rv=!1,C0=!1,fm=0,i7=0;function Vi(){throw Error(rt(321))}function WE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ua(n[t],e[t]))return!1;return!0}function HE(n,e,t,r,i,s){if(Oh=s,vr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y1.current=n===null||n.memoizedState===null?l7:c7,n=t(r,i),C0){s=0;do{if(C0=!1,fm=0,25<=s)throw Error(rt(301));s+=1,li=Zr=null,e.updateQueue=null,Y1.current=u7,n=t(r,i)}while(C0)}if(Y1.current=Lv,e=Zr!==null&&Zr.next!==null,Oh=0,li=Zr=vr=null,Rv=!1,e)throw Error(rt(300));return n}function zE(){var n=fm!==0;return fm=0,n}function Ia(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?vr.memoizedState=li=n:li=li.next=n,li}function Ro(){if(Zr===null){var n=vr.alternate;n=n!==null?n.memoizedState:null}else n=Zr.next;var e=li===null?vr.memoizedState:li.next;if(e!==null)li=e,Zr=n;else{if(n===null)throw Error(rt(310));Zr=n,n={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},li===null?vr.memoizedState=li=n:li=li.next=n}return li}function dm(n,e){return typeof e=="function"?e(n):e}function rw(n){var e=Ro(),t=e.queue;if(t===null)throw Error(rt(311));t.lastRenderedReducer=n;var r=Zr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Oh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,vr.lanes|=u,Fh|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ua(r,e.memoizedState)||(Ps=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,vr.lanes|=s,Fh|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function iw(n){var e=Ro(),t=e.queue;if(t===null)throw Error(rt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);ua(s,e.memoizedState)||(Ps=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function vN(){}function yN(n,e){var t=vr,r=Ro(),i=e(),s=!ua(r.memoizedState,i);if(s&&(r.memoizedState=i,Ps=!0),r=r.queue,qE(xN.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||li!==null&&li.memoizedState.tag&1){if(t.flags|=2048,pm(9,wN.bind(null,t,r,i,e),void 0,null),pi===null)throw Error(rt(349));Oh&30||_N(t,e,i)}return i}function _N(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=vr.updateQueue,e===null?(e={lastEffect:null,stores:null},vr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function wN(n,e,t,r){e.value=t,e.getSnapshot=r,EN(e)&&SN(n)}function xN(n,e,t){return t(function(){EN(e)&&SN(n)})}function EN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ua(n,t)}catch{return!0}}function SN(n){var e=Vl(n,1);e!==null&&oa(e,n,1,-1)}function j4(n){var e=Ia();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:n},e.queue=n,n=n.dispatch=a7.bind(null,vr,n),[e.memoizedState,n]}function pm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=vr.updateQueue,e===null?(e={lastEffect:null,stores:null},vr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function TN(){return Ro().memoizedState}function G1(n,e,t,r){var i=Ia();vr.flags|=n,i.memoizedState=pm(1|e,t,void 0,r===void 0?null:r)}function ry(n,e,t,r){var i=Ro();r=r===void 0?null:r;var s=void 0;if(Zr!==null){var o=Zr.memoizedState;if(s=o.destroy,r!==null&&WE(r,o.deps)){i.memoizedState=pm(e,t,s,r);return}}vr.flags|=n,i.memoizedState=pm(1|e,t,s,r)}function U4(n,e){return G1(8390656,8,n,e)}function qE(n,e){return ry(2048,8,n,e)}function bN(n,e){return ry(4,2,n,e)}function AN(n,e){return ry(4,4,n,e)}function CN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function kN(n,e,t){return t=t!=null?t.concat([n]):null,ry(4,4,CN.bind(null,e,n),t)}function $E(){}function IN(n,e){var t=Ro();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&WE(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function NN(n,e){var t=Ro();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&WE(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function PN(n,e,t){return Oh&21?(ua(t,e)||(t=FI(),vr.lanes|=t,Fh|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ps=!0),n.memoizedState=t)}function s7(n,e){var t=Mn;Mn=t!==0&&4>t?t:4,n(!0);var r=nw.transition;nw.transition={};try{n(!1),e()}finally{Mn=t,nw.transition=r}}function DN(){return Ro().memoizedState}function o7(n,e,t){var r=iu(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},RN(n))LN(e,t);else if(t=pN(n,e,t,r),t!==null){var i=vs();oa(t,n,r,i),ON(t,e,r)}}function a7(n,e,t){var r=iu(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(RN(n))LN(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,ua(a,o)){var l=e.interleaved;l===null?(i.next=i,ME(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=pN(n,e,i,r),t!==null&&(i=vs(),oa(t,n,r,i),ON(t,e,r))}}function RN(n){var e=n.alternate;return n===vr||e!==null&&e===vr}function LN(n,e){C0=Rv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ON(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,SE(n,t)}}var Lv={readContext:Do,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useInsertionEffect:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useMutableSource:Vi,useSyncExternalStore:Vi,useId:Vi,unstable_isNewReconciler:!1},l7={readContext:Do,useCallback:function(n,e){return Ia().memoizedState=[n,e===void 0?null:e],n},useContext:Do,useEffect:U4,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,G1(4194308,4,CN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return G1(4194308,4,n,e)},useInsertionEffect:function(n,e){return G1(4,2,n,e)},useMemo:function(n,e){var t=Ia();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ia();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=o7.bind(null,vr,n),[r.memoizedState,n]},useRef:function(n){var e=Ia();return n={current:n},e.memoizedState=n},useState:j4,useDebugValue:$E,useDeferredValue:function(n){return Ia().memoizedState=n},useTransition:function(){var n=j4(!1),e=n[0];return n=s7.bind(null,n[1]),Ia().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=vr,i=Ia();if(hr){if(t===void 0)throw Error(rt(407));t=t()}else{if(t=e(),pi===null)throw Error(rt(349));Oh&30||_N(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,U4(xN.bind(null,r,s,n),[n]),r.flags|=2048,pm(9,wN.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ia(),e=pi.identifierPrefix;if(hr){var t=bl,r=Tl;t=(r&~(1<<32-sa(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=fm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=i7++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},c7={readContext:Do,useCallback:IN,useContext:Do,useEffect:qE,useImperativeHandle:kN,useInsertionEffect:bN,useLayoutEffect:AN,useMemo:NN,useReducer:rw,useRef:TN,useState:function(){return rw(dm)},useDebugValue:$E,useDeferredValue:function(n){var e=Ro();return PN(e,Zr.memoizedState,n)},useTransition:function(){var n=rw(dm)[0],e=Ro().memoizedState;return[n,e]},useMutableSource:vN,useSyncExternalStore:yN,useId:DN,unstable_isNewReconciler:!1},u7={readContext:Do,useCallback:IN,useContext:Do,useEffect:qE,useImperativeHandle:kN,useInsertionEffect:bN,useLayoutEffect:AN,useMemo:NN,useReducer:iw,useRef:TN,useState:function(){return iw(dm)},useDebugValue:$E,useDeferredValue:function(n){var e=Ro();return Zr===null?e.memoizedState=n:PN(e,Zr.memoizedState,n)},useTransition:function(){var n=iw(dm)[0],e=Ro().memoizedState;return[n,e]},useMutableSource:vN,useSyncExternalStore:yN,useId:DN,unstable_isNewReconciler:!1};function Xo(n,e){if(n&&n.defaultProps){e=yr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Rx(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:yr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var iy={isMounted:function(n){return(n=n._reactInternals)?tf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=vs(),i=iu(n),s=Nl(r,i);s.payload=e,t!=null&&(s.callback=t),e=nu(n,s,i),e!==null&&(oa(e,n,i,r),$1(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=vs(),i=iu(n),s=Nl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=nu(n,s,i),e!==null&&(oa(e,n,i,r),$1(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vs(),r=iu(n),i=Nl(t,r);i.tag=2,e!=null&&(i.callback=e),e=nu(n,i,r),e!==null&&(oa(e,n,r,t),$1(e,n,r))}};function V4(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!om(t,r)||!om(i,s):!0}function FN(n,e,t){var r=!1,i=gu,s=e.contextType;return typeof s=="object"&&s!==null?s=Do(s):(i=Os(e)?Rh:ts.current,r=e.contextTypes,s=(r=r!=null)?Od(n,i):gu),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iy,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function W4(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&iy.enqueueReplaceState(e,e.state,null)}function Lx(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},BE(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Do(s):(s=Os(e)?Rh:ts.current,i.context=Od(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rx(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&iy.enqueueReplaceState(i,i.state,null),Pv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function jd(n,e){try{var t="",r=e;do t+=B8(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function sw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Ox(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var h7=typeof WeakMap=="function"?WeakMap:Map;function MN(n,e,t){t=Nl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Fv||(Fv=!0,qx=r),Ox(n,e)},t}function BN(n,e,t){t=Nl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Ox(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Ox(n,e),typeof r!="function"&&(ru===null?ru=new Set([this]):ru.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function H4(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new h7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=b7.bind(null,n,e,t),e.then(n,n))}function z4(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function q4(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Nl(-1,1),e.tag=2,nu(t,e,1))),t.lanes|=1),n)}var f7=Zl.ReactCurrentOwner,Ps=!1;function hs(n,e,t,r){e.child=n===null?dN(e,null,t,r):Md(e,n.child,t,r)}function $4(n,e,t,r,i){t=t.render;var s=e.ref;return yd(e,i),r=HE(n,e,t,r,s,i),t=zE(),n!==null&&!Ps?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wl(n,e,i)):(hr&&t&&PE(e),e.flags|=1,hs(n,e,r,i),e.child)}function Y4(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!eS(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,jN(n,e,s,r,i)):(n=J1(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:om,t(o,r)&&n.ref===e.ref)return Wl(n,e,i)}return e.flags|=1,n=su(s,r),n.ref=e.ref,n.return=e,e.child=n}function jN(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(om(s,r)&&n.ref===e.ref)if(Ps=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ps=!0);else return e.lanes=n.lanes,Wl(n,e,i)}return Fx(n,e,t,r,i)}function UN(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(ud,Js),Js|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zn(ud,Js),Js|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Zn(ud,Js),Js|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Zn(ud,Js),Js|=r;return hs(n,e,i,t),e.child}function VN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Fx(n,e,t,r,i){var s=Os(t)?Rh:ts.current;return s=Od(e,s),yd(e,i),t=HE(n,e,t,r,s,i),r=zE(),n!==null&&!Ps?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wl(n,e,i)):(hr&&r&&PE(e),e.flags|=1,hs(n,e,t,i),e.child)}function G4(n,e,t,r,i){if(Os(t)){var s=!0;Av(e)}else s=!1;if(yd(e,i),e.stateNode===null)K1(n,e),FN(e,t,r),Lx(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Do(c):(c=Os(t)?Rh:ts.current,c=Od(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&W4(e,o,r,c),Fc=!1;var d=e.memoizedState;o.state=d,Pv(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ls.current||Fc?(typeof u=="function"&&(Rx(e,t,u,r),l=e.memoizedState),(a=Fc||V4(e,t,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mN(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xo(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Do(l):(l=Os(t)?Rh:ts.current,l=Od(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&W4(e,o,r,l),Fc=!1,d=e.memoizedState,o.state=d,Pv(e,r,o,i);var v=e.memoizedState;a!==h||d!==v||Ls.current||Fc?(typeof f=="function"&&(Rx(e,t,f,r),v=e.memoizedState),(c=Fc||V4(e,t,c,r,d,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return Mx(n,e,t,r,s,i)}function Mx(n,e,t,r,i,s){VN(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&R4(e,t,!1),Wl(n,e,s);r=e.stateNode,f7.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Md(e,n.child,null,s),e.child=Md(e,null,a,s)):hs(n,e,a,s),e.memoizedState=r.state,i&&R4(e,t,!0),e.child}function WN(n){var e=n.stateNode;e.pendingContext?D4(n,e.pendingContext,e.pendingContext!==e.context):e.context&&D4(n,e.context,!1),jE(n,e.containerInfo)}function K4(n,e,t,r,i){return Fd(),RE(i),e.flags|=256,hs(n,e,t,r),e.child}var Bx={dehydrated:null,treeContext:null,retryLane:0};function jx(n){return{baseLanes:n,cachePool:null,transitions:null}}function HN(n,e,t){var r=e.pendingProps,i=pr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Zn(pr,i&1),n===null)return Px(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ay(o,r,0,null),n=Sh(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=jx(t),e.memoizedState=Bx,n):YE(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return d7(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=su(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=su(a,s):(s=Sh(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?jx(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Bx,r}return s=n.child,n=s.sibling,r=su(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function YE(n,e){return e=ay({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function h1(n,e,t,r){return r!==null&&RE(r),Md(e,n.child,null,t),n=YE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function d7(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=sw(Error(rt(422))),h1(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ay({mode:"visible",children:r.children},i,0,null),s=Sh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Md(e,n.child,null,o),e.child.memoizedState=jx(o),e.memoizedState=Bx,s);if(!(e.mode&1))return h1(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(rt(419)),r=sw(s,r,void 0),h1(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ps||a){if(r=pi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vl(n,i),oa(r,n,i,-1))}return ZE(),r=sw(Error(rt(421))),h1(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=A7.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ro=tu(i.nextSibling),oo=e,hr=!0,ea=null,n!==null&&(Ao[Co++]=Tl,Ao[Co++]=bl,Ao[Co++]=Lh,Tl=n.id,bl=n.overflow,Lh=e),e=YE(e,r.children),e.flags|=4096,e)}function Q4(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Dx(n.return,e,t)}function ow(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function zN(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hs(n,e,r.children,t),r=pr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Q4(n,t,e);else if(n.tag===19)Q4(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Zn(pr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Dv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),ow(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Dv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}ow(e,!0,t,null,s);break;case"together":ow(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function K1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Wl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Fh|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(rt(153));if(e.child!==null){for(n=e.child,t=su(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=su(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function p7(n,e,t){switch(e.tag){case 3:WN(e),Fd();break;case 5:gN(e);break;case 1:Os(e.type)&&Av(e);break;case 4:jE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zn(Iv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zn(pr,pr.current&1),e.flags|=128,null):t&e.child.childLanes?HN(n,e,t):(Zn(pr,pr.current&1),n=Wl(n,e,t),n!==null?n.sibling:null);Zn(pr,pr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return zN(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zn(pr,pr.current),r)break;return null;case 22:case 23:return e.lanes=0,UN(n,e,t)}return Wl(n,e,t)}var qN,Ux,$N,YN;qN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ux=function(){};$N=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,gh(Ba.current);var s=null;switch(t){case"input":i=lx(n,i),r=lx(n,r),s=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),s=[];break;case"textarea":i=hx(n,i),r=hx(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Tv)}dx(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Z0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Z0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};YN=function(n,e,t,r){t!==r&&(e.flags|=4)};function Gp(n,e){if(!hr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Wi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function m7(n,e,t){var r=e.pendingProps;switch(DE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(e),null;case 1:return Os(e.type)&&bv(),Wi(e),null;case 3:return r=e.stateNode,Bd(),or(Ls),or(ts),VE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(c1(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(Gx(ea),ea=null))),Ux(n,e),Wi(e),null;case 5:UE(e);var i=gh(hm.current);if(t=e.type,n!==null&&e.stateNode!=null)$N(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(rt(166));return Wi(e),null}if(n=gh(Ba.current),c1(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Da]=e,r[cm]=s,n=(e.mode&1)!==0,t){case"dialog":rr("cancel",r),rr("close",r);break;case"iframe":case"object":case"embed":rr("load",r);break;case"video":case"audio":for(i=0;i<h0.length;i++)rr(h0[i],r);break;case"source":rr("error",r);break;case"img":case"image":case"link":rr("error",r),rr("load",r);break;case"details":rr("toggle",r);break;case"input":s4(r,s),rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rr("invalid",r);break;case"textarea":a4(r,s),rr("invalid",r)}dx(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&l1(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&l1(r.textContent,a,n),i=["children",""+a]):Z0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rr("scroll",r)}switch(t){case"input":e1(r),o4(r,s,!0);break;case"textarea":e1(r),l4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=xI(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Da]=e,n[cm]=r,qN(n,e,!1,!1),e.stateNode=n;e:{switch(o=px(t,r),t){case"dialog":rr("cancel",n),rr("close",n),i=r;break;case"iframe":case"object":case"embed":rr("load",n),i=r;break;case"video":case"audio":for(i=0;i<h0.length;i++)rr(h0[i],n);i=r;break;case"source":rr("error",n),i=r;break;case"img":case"image":case"link":rr("error",n),rr("load",n),i=r;break;case"details":rr("toggle",n),i=r;break;case"input":s4(n,r),i=lx(n,r),rr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),rr("invalid",n);break;case"textarea":a4(n,r),i=hx(n,r),rr("invalid",n);break;default:i=r}dx(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TI(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EI(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&em(n,l):typeof l=="number"&&em(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Z0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rr("scroll",n):l!=null&&vE(n,s,l,o))}switch(t){case"input":e1(n),o4(n,r,!1);break;case"textarea":e1(n),l4(n);break;case"option":r.value!=null&&n.setAttribute("value",""+mu(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?pd(n,!!r.multiple,s,!1):r.defaultValue!=null&&pd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Tv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wi(e),null;case 6:if(n&&e.stateNode!=null)YN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(rt(166));if(t=gh(hm.current),gh(Ba.current),c1(e)){if(r=e.stateNode,t=e.memoizedProps,r[Da]=e,(s=r.nodeValue!==t)&&(n=oo,n!==null))switch(n.tag){case 3:l1(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&l1(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Da]=e,e.stateNode=r}return Wi(e),null;case 13:if(or(pr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(hr&&ro!==null&&e.mode&1&&!(e.flags&128))hN(),Fd(),e.flags|=98560,s=!1;else if(s=c1(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[Da]=e}else Fd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wi(e),s=!1}else ea!==null&&(Gx(ea),ea=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||pr.current&1?ti===0&&(ti=3):ZE())),e.updateQueue!==null&&(e.flags|=4),Wi(e),null);case 4:return Bd(),Ux(n,e),n===null&&am(e.stateNode.containerInfo),Wi(e),null;case 10:return FE(e.type._context),Wi(e),null;case 17:return Os(e.type)&&bv(),Wi(e),null;case 19:if(or(pr),s=e.memoizedState,s===null)return Wi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Gp(s,!1);else{if(ti!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Dv(n),o!==null){for(e.flags|=128,Gp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zn(pr,pr.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pr()>Ud&&(e.flags|=128,r=!0,Gp(s,!1),e.lanes=4194304)}else{if(!r)if(n=Dv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Gp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!hr)return Wi(e),null}else 2*Pr()-s.renderingStartTime>Ud&&t!==1073741824&&(e.flags|=128,r=!0,Gp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pr(),e.sibling=null,t=pr.current,Zn(pr,r?t&1|2:t&1),e):(Wi(e),null);case 22:case 23:return JE(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Js&1073741824&&(Wi(e),e.subtreeFlags&6&&(e.flags|=8192)):Wi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function g7(n,e){switch(DE(e),e.tag){case 1:return Os(e.type)&&bv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bd(),or(Ls),or(ts),VE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return UE(e),null;case 13:if(or(pr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));Fd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return or(pr),null;case 4:return Bd(),null;case 10:return FE(e.type._context),null;case 22:case 23:return JE(),null;case 24:return null;default:return null}}var f1=!1,Ki=!1,v7=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function cd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Tr(n,e,r)}else t.current=null}function Vx(n,e,t){try{t()}catch(r){Tr(n,e,r)}}var X4=!1;function y7(n,e){if(Tx=xv,n=JI(),NE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var f;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(bx={focusedElem:n,selectionRange:t},xv=!1,Tt=e;Tt!==null;)if(e=Tt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Tt=n;else for(;Tt!==null;){e=Tt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,E=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Xo(e.type,g),E);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(R){Tr(e,e.return,R)}if(n=e.sibling,n!==null){n.return=e.return,Tt=n;break}Tt=e.return}return v=X4,X4=!1,v}function k0(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vx(e,t,s)}i=i.next}while(i!==r)}}function sy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Wx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function GN(n){var e=n.alternate;e!==null&&(n.alternate=null,GN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Da],delete e[cm],delete e[kx],delete e[e7],delete e[t7])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function KN(n){return n.tag===5||n.tag===3||n.tag===4}function J4(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||KN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hx(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Tv));else if(r!==4&&(n=n.child,n!==null))for(Hx(n,e,t),n=n.sibling;n!==null;)Hx(n,e,t),n=n.sibling}function zx(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(zx(n,e,t),n=n.sibling;n!==null;)zx(n,e,t),n=n.sibling}var Ai=null,Zo=!1;function Ic(n,e,t){for(t=t.child;t!==null;)QN(n,e,t),t=t.sibling}function QN(n,e,t){if(Ma&&typeof Ma.onCommitFiberUnmount=="function")try{Ma.onCommitFiberUnmount(X2,t)}catch{}switch(t.tag){case 5:Ki||cd(t,e);case 6:var r=Ai,i=Zo;Ai=null,Ic(n,e,t),Ai=r,Zo=i,Ai!==null&&(Zo?(n=Ai,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ai.removeChild(t.stateNode));break;case 18:Ai!==null&&(Zo?(n=Ai,t=t.stateNode,n.nodeType===8?Z_(n.parentNode,t):n.nodeType===1&&Z_(n,t),im(n)):Z_(Ai,t.stateNode));break;case 4:r=Ai,i=Zo,Ai=t.stateNode.containerInfo,Zo=!0,Ic(n,e,t),Ai=r,Zo=i;break;case 0:case 11:case 14:case 15:if(!Ki&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vx(t,e,o),i=i.next}while(i!==r)}Ic(n,e,t);break;case 1:if(!Ki&&(cd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Tr(t,e,a)}Ic(n,e,t);break;case 21:Ic(n,e,t);break;case 22:t.mode&1?(Ki=(r=Ki)||t.memoizedState!==null,Ic(n,e,t),Ki=r):Ic(n,e,t);break;default:Ic(n,e,t)}}function Z4(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new v7),e.forEach(function(r){var i=C7.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function $o(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ai=a.stateNode,Zo=!1;break e;case 3:Ai=a.stateNode.containerInfo,Zo=!0;break e;case 4:Ai=a.stateNode.containerInfo,Zo=!0;break e}a=a.return}if(Ai===null)throw Error(rt(160));QN(s,o,i),Ai=null,Zo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XN(e,n),e=e.sibling}function XN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if($o(e,n),ba(n),r&4){try{k0(3,n,n.return),sy(3,n)}catch(g){Tr(n,n.return,g)}try{k0(5,n,n.return)}catch(g){Tr(n,n.return,g)}}break;case 1:$o(e,n),ba(n),r&512&&t!==null&&cd(t,t.return);break;case 5:if($o(e,n),ba(n),r&512&&t!==null&&cd(t,t.return),n.flags&32){var i=n.stateNode;try{em(i,"")}catch(g){Tr(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_I(i,s),px(a,o);var c=px(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?TI(i,h):u==="dangerouslySetInnerHTML"?EI(i,h):u==="children"?em(i,h):vE(i,u,h,c)}switch(a){case"input":cx(i,s);break;case"textarea":wI(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?pd(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?pd(i,!!s.multiple,s.defaultValue,!0):pd(i,!!s.multiple,s.multiple?[]:"",!1))}i[cm]=s}catch(g){Tr(n,n.return,g)}}break;case 6:if($o(e,n),ba(n),r&4){if(n.stateNode===null)throw Error(rt(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){Tr(n,n.return,g)}}break;case 3:if($o(e,n),ba(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{im(e.containerInfo)}catch(g){Tr(n,n.return,g)}break;case 4:$o(e,n),ba(n);break;case 13:$o(e,n),ba(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(QE=Pr())),r&4&&Z4(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ki=(c=Ki)||u,$o(e,n),Ki=c):$o(e,n),ba(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Tt=n,u=n.child;u!==null;){for(h=Tt=u;Tt!==null;){switch(d=Tt,f=d.child,d.tag){case 0:case 11:case 14:case 15:k0(4,d,d.return);break;case 1:cd(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Tr(r,t,g)}}break;case 5:cd(d,d.return);break;case 22:if(d.memoizedState!==null){tA(h);continue}}f!==null?(f.return=d,Tt=f):tA(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SI("display",o))}catch(g){Tr(n,n.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Tr(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$o(e,n),ba(n),r&4&&Z4(n);break;case 21:break;default:$o(e,n),ba(n)}}function ba(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(KN(t)){var r=t;break e}t=t.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(em(i,""),r.flags&=-33);var s=J4(n);zx(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=J4(n);Hx(n,a,o);break;default:throw Error(rt(161))}}catch(l){Tr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function _7(n,e,t){Tt=n,JN(n)}function JN(n,e,t){for(var r=(n.mode&1)!==0;Tt!==null;){var i=Tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||f1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ki;a=f1;var c=Ki;if(f1=o,(Ki=l)&&!c)for(Tt=i;Tt!==null;)o=Tt,l=o.child,o.tag===22&&o.memoizedState!==null?nA(i):l!==null?(l.return=o,Tt=l):nA(i);for(;s!==null;)Tt=s,JN(s),s=s.sibling;Tt=i,f1=a,Ki=c}eA(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Tt=s):eA(n)}}function eA(n){for(;Tt!==null;){var e=Tt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ki||sy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ki)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Xo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}B4(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&im(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Ki||e.flags&512&&Wx(e)}catch(d){Tr(e,e.return,d)}}if(e===n){Tt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Tt=t;break}Tt=e.return}}function tA(n){for(;Tt!==null;){var e=Tt;if(e===n){Tt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Tt=t;break}Tt=e.return}}function nA(n){for(;Tt!==null;){var e=Tt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{sy(4,e)}catch(l){Tr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tr(e,i,l)}}var s=e.return;try{Wx(e)}catch(l){Tr(e,s,l)}break;case 5:var o=e.return;try{Wx(e)}catch(l){Tr(e,o,l)}}}catch(l){Tr(e,e.return,l)}if(e===n){Tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Tt=a;break}Tt=e.return}}var w7=Math.ceil,Ov=Zl.ReactCurrentDispatcher,GE=Zl.ReactCurrentOwner,No=Zl.ReactCurrentBatchConfig,gn=0,pi=null,zr=null,Di=0,Js=0,ud=Lu(0),ti=0,mm=null,Fh=0,oy=0,KE=0,I0=null,Is=null,QE=0,Ud=1/0,wl=null,Fv=!1,qx=null,ru=null,d1=!1,$c=null,Mv=0,N0=0,$x=null,Q1=-1,X1=0;function vs(){return gn&6?Pr():Q1!==-1?Q1:Q1=Pr()}function iu(n){return n.mode&1?gn&2&&Di!==0?Di&-Di:r7.transition!==null?(X1===0&&(X1=FI()),X1):(n=Mn,n!==0||(n=window.event,n=n===void 0?16:HI(n.type)),n):1}function oa(n,e,t,r){if(50<N0)throw N0=0,$x=null,Error(rt(185));Jm(n,t,r),(!(gn&2)||n!==pi)&&(n===pi&&(!(gn&2)&&(oy|=t),ti===4&&jc(n,Di)),Fs(n,r),t===1&&gn===0&&!(e.mode&1)&&(Ud=Pr()+500,ny&&Ou()))}function Fs(n,e){var t=n.callbackNode;rM(n,e);var r=wv(n,n===pi?Di:0);if(r===0)t!==null&&h4(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&h4(t),e===1)n.tag===0?n7(rA.bind(null,n)):lN(rA.bind(null,n)),JM(function(){!(gn&6)&&Ou()}),t=null;else{switch(MI(r)){case 1:t=EE;break;case 4:t=LI;break;case 16:t=_v;break;case 536870912:t=OI;break;default:t=_v}t=oP(t,ZN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function ZN(n,e){if(Q1=-1,X1=0,gn&6)throw Error(rt(327));var t=n.callbackNode;if(_d()&&n.callbackNode!==t)return null;var r=wv(n,n===pi?Di:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Bv(n,r);else{e=r;var i=gn;gn|=2;var s=tP();(pi!==n||Di!==e)&&(wl=null,Ud=Pr()+500,Eh(n,e));do try{S7();break}catch(a){eP(n,a)}while(!0);OE(),Ov.current=s,gn=i,zr!==null?e=0:(pi=null,Di=0,e=ti)}if(e!==0){if(e===2&&(i=_x(n),i!==0&&(r=i,e=Yx(n,i))),e===1)throw t=mm,Eh(n,0),jc(n,r),Fs(n,Pr()),t;if(e===6)jc(n,r);else{if(i=n.current.alternate,!(r&30)&&!x7(i)&&(e=Bv(n,r),e===2&&(s=_x(n),s!==0&&(r=s,e=Yx(n,s))),e===1))throw t=mm,Eh(n,0),jc(n,r),Fs(n,Pr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(rt(345));case 2:ah(n,Is,wl);break;case 3:if(jc(n,r),(r&130023424)===r&&(e=QE+500-Pr(),10<e)){if(wv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){vs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Cx(ah.bind(null,n,Is,wl),e);break}ah(n,Is,wl);break;case 4:if(jc(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-sa(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w7(r/1960))-r,10<r){n.timeoutHandle=Cx(ah.bind(null,n,Is,wl),r);break}ah(n,Is,wl);break;case 5:ah(n,Is,wl);break;default:throw Error(rt(329))}}}return Fs(n,Pr()),n.callbackNode===t?ZN.bind(null,n):null}function Yx(n,e){var t=I0;return n.current.memoizedState.isDehydrated&&(Eh(n,e).flags|=256),n=Bv(n,e),n!==2&&(e=Is,Is=t,e!==null&&Gx(e)),n}function Gx(n){Is===null?Is=n:Is.push.apply(Is,n)}function x7(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ua(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jc(n,e){for(e&=~KE,e&=~oy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-sa(e),r=1<<t;n[t]=-1,e&=~r}}function rA(n){if(gn&6)throw Error(rt(327));_d();var e=wv(n,0);if(!(e&1))return Fs(n,Pr()),null;var t=Bv(n,e);if(n.tag!==0&&t===2){var r=_x(n);r!==0&&(e=r,t=Yx(n,r))}if(t===1)throw t=mm,Eh(n,0),jc(n,e),Fs(n,Pr()),t;if(t===6)throw Error(rt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ah(n,Is,wl),Fs(n,Pr()),null}function XE(n,e){var t=gn;gn|=1;try{return n(e)}finally{gn=t,gn===0&&(Ud=Pr()+500,ny&&Ou())}}function Mh(n){$c!==null&&$c.tag===0&&!(gn&6)&&_d();var e=gn;gn|=1;var t=No.transition,r=Mn;try{if(No.transition=null,Mn=1,n)return n()}finally{Mn=r,No.transition=t,gn=e,!(gn&6)&&Ou()}}function JE(){Js=ud.current,or(ud)}function Eh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,XM(t)),zr!==null)for(t=zr.return;t!==null;){var r=t;switch(DE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bv();break;case 3:Bd(),or(Ls),or(ts),VE();break;case 5:UE(r);break;case 4:Bd();break;case 13:or(pr);break;case 19:or(pr);break;case 10:FE(r.type._context);break;case 22:case 23:JE()}t=t.return}if(pi=n,zr=n=su(n.current,null),Di=Js=e,ti=0,mm=null,KE=oy=Fh=0,Is=I0=null,mh!==null){for(e=0;e<mh.length;e++)if(t=mh[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}mh=null}return n}function eP(n,e){do{var t=zr;try{if(OE(),Y1.current=Lv,Rv){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rv=!1}if(Oh=0,li=Zr=vr=null,C0=!1,fm=0,GE.current=null,t===null||t.return===null){ti=1,mm=e,zr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Di,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=z4(o);if(f!==null){f.flags&=-257,q4(f,o,a,s,e),f.mode&1&&H4(s,c,e),e=f,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){H4(s,c,e),ZE();break e}l=Error(rt(426))}}else if(hr&&a.mode&1){var E=z4(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),q4(E,o,a,s,e),RE(jd(l,a));break e}}s=l=jd(l,a),ti!==4&&(ti=2),I0===null?I0=[s]:I0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=MN(s,l,e);M4(s,_);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ru===null||!ru.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=BN(s,a,e);M4(s,R);break e}}s=s.return}while(s!==null)}rP(t)}catch(B){e=B,zr===t&&t!==null&&(zr=t=t.return);continue}break}while(!0)}function tP(){var n=Ov.current;return Ov.current=Lv,n===null?Lv:n}function ZE(){(ti===0||ti===3||ti===2)&&(ti=4),pi===null||!(Fh&268435455)&&!(oy&268435455)||jc(pi,Di)}function Bv(n,e){var t=gn;gn|=2;var r=tP();(pi!==n||Di!==e)&&(wl=null,Eh(n,e));do try{E7();break}catch(i){eP(n,i)}while(!0);if(OE(),gn=t,Ov.current=r,zr!==null)throw Error(rt(261));return pi=null,Di=0,ti}function E7(){for(;zr!==null;)nP(zr)}function S7(){for(;zr!==null&&!G8();)nP(zr)}function nP(n){var e=sP(n.alternate,n,Js);n.memoizedProps=n.pendingProps,e===null?rP(n):zr=e,GE.current=null}function rP(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=g7(t,e),t!==null){t.flags&=32767,zr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ti=6,zr=null;return}}else if(t=m7(t,e,Js),t!==null){zr=t;return}if(e=e.sibling,e!==null){zr=e;return}zr=e=n}while(e!==null);ti===0&&(ti=5)}function ah(n,e,t){var r=Mn,i=No.transition;try{No.transition=null,Mn=1,T7(n,e,t,r)}finally{No.transition=i,Mn=r}return null}function T7(n,e,t,r){do _d();while($c!==null);if(gn&6)throw Error(rt(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(rt(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(iM(n,s),n===pi&&(zr=pi=null,Di=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||d1||(d1=!0,oP(_v,function(){return _d(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=No.transition,No.transition=null;var o=Mn;Mn=1;var a=gn;gn|=4,GE.current=null,y7(n,t),XN(t,n),zM(bx),xv=!!Tx,bx=Tx=null,n.current=t,_7(t),K8(),gn=a,Mn=o,No.transition=s}else n.current=t;if(d1&&(d1=!1,$c=n,Mv=i),s=n.pendingLanes,s===0&&(ru=null),J8(t.stateNode),Fs(n,Pr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fv)throw Fv=!1,n=qx,qx=null,n;return Mv&1&&n.tag!==0&&_d(),s=n.pendingLanes,s&1?n===$x?N0++:(N0=0,$x=n):N0=0,Ou(),null}function _d(){if($c!==null){var n=MI(Mv),e=No.transition,t=Mn;try{if(No.transition=null,Mn=16>n?16:n,$c===null)var r=!1;else{if(n=$c,$c=null,Mv=0,gn&6)throw Error(rt(331));var i=gn;for(gn|=4,Tt=n.current;Tt!==null;){var s=Tt,o=s.child;if(Tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Tt=c;Tt!==null;){var u=Tt;switch(u.tag){case 0:case 11:case 15:k0(8,u,s)}var h=u.child;if(h!==null)h.return=u,Tt=h;else for(;Tt!==null;){u=Tt;var d=u.sibling,f=u.return;if(GN(u),u===c){Tt=null;break}if(d!==null){d.return=f,Tt=d;break}Tt=f}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Tt=o;else e:for(;Tt!==null;){if(s=Tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:k0(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Tt=_;break e}Tt=s.return}}var w=n.current;for(Tt=w;Tt!==null;){o=Tt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Tt=x;else e:for(o=w;Tt!==null;){if(a=Tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sy(9,a)}}catch(B){Tr(a,a.return,B)}if(a===o){Tt=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Tt=R;break e}Tt=a.return}}if(gn=i,Ou(),Ma&&typeof Ma.onPostCommitFiberRoot=="function")try{Ma.onPostCommitFiberRoot(X2,n)}catch{}r=!0}return r}finally{Mn=t,No.transition=e}}return!1}function iA(n,e,t){e=jd(t,e),e=MN(n,e,1),n=nu(n,e,1),e=vs(),n!==null&&(Jm(n,1,e),Fs(n,e))}function Tr(n,e,t){if(n.tag===3)iA(n,n,t);else for(;e!==null;){if(e.tag===3){iA(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ru===null||!ru.has(r))){n=jd(t,n),n=BN(e,n,1),e=nu(e,n,1),n=vs(),e!==null&&(Jm(e,1,n),Fs(e,n));break}}e=e.return}}function b7(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=vs(),n.pingedLanes|=n.suspendedLanes&t,pi===n&&(Di&t)===t&&(ti===4||ti===3&&(Di&130023424)===Di&&500>Pr()-QE?Eh(n,0):KE|=t),Fs(n,e)}function iP(n,e){e===0&&(n.mode&1?(e=r1,r1<<=1,!(r1&130023424)&&(r1=4194304)):e=1);var t=vs();n=Vl(n,e),n!==null&&(Jm(n,e,t),Fs(n,t))}function A7(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),iP(n,t)}function C7(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(e),iP(n,t)}var sP;sP=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ls.current)Ps=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ps=!1,p7(n,e,t);Ps=!!(n.flags&131072)}else Ps=!1,hr&&e.flags&1048576&&cN(e,kv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;K1(n,e),n=e.pendingProps;var i=Od(e,ts.current);yd(e,t),i=HE(null,e,r,n,i,t);var s=zE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Os(r)?(s=!0,Av(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BE(e),i.updater=iy,e.stateNode=i,i._reactInternals=e,Lx(e,r,n,t),e=Mx(null,e,r,!0,s,t)):(e.tag=0,hr&&s&&PE(e),hs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(K1(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=I7(r),n=Xo(r,n),i){case 0:e=Fx(null,e,r,n,t);break e;case 1:e=G4(null,e,r,n,t);break e;case 11:e=$4(null,e,r,n,t);break e;case 14:e=Y4(null,e,r,Xo(r.type,n),t);break e}throw Error(rt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),Fx(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),G4(n,e,r,i,t);case 3:e:{if(WN(e),n===null)throw Error(rt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mN(n,e),Pv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jd(Error(rt(423)),e),e=K4(n,e,r,t,i);break e}else if(r!==i){i=jd(Error(rt(424)),e),e=K4(n,e,r,t,i);break e}else for(ro=tu(e.stateNode.containerInfo.firstChild),oo=e,hr=!0,ea=null,t=dN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Fd(),r===i){e=Wl(n,e,t);break e}hs(n,e,r,t)}e=e.child}return e;case 5:return gN(e),n===null&&Px(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Ax(r,i)?o=null:s!==null&&Ax(r,s)&&(e.flags|=32),VN(n,e),hs(n,e,o,t),e.child;case 6:return n===null&&Px(e),null;case 13:return HN(n,e,t);case 4:return jE(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Md(e,null,r,t):hs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),$4(n,e,r,i,t);case 7:return hs(n,e,e.pendingProps,t),e.child;case 8:return hs(n,e,e.pendingProps.children,t),e.child;case 12:return hs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zn(Iv,r._currentValue),r._currentValue=o,s!==null)if(ua(s.value,o)){if(s.children===i.children&&!Ls.current){e=Wl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Nl(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Dx(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(rt(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Dx(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yd(e,t),i=Do(i),r=r(i),e.flags|=1,hs(n,e,r,t),e.child;case 14:return r=e.type,i=Xo(r,e.pendingProps),i=Xo(r.type,i),Y4(n,e,r,i,t);case 15:return jN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),K1(n,e),e.tag=1,Os(r)?(n=!0,Av(e)):n=!1,yd(e,t),FN(e,r,i),Lx(e,r,i,t),Mx(null,e,r,!0,n,t);case 19:return zN(n,e,t);case 22:return UN(n,e,t)}throw Error(rt(156,e.tag))};function oP(n,e){return RI(n,e)}function k7(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(n,e,t,r){return new k7(n,e,t,r)}function eS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function I7(n){if(typeof n=="function")return eS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===_E)return 11;if(n===wE)return 14}return 2}function su(n,e){var t=n.alternate;return t===null?(t=ko(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function J1(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")eS(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ed:return Sh(t.children,i,s,e);case yE:o=8,i|=8;break;case ix:return n=ko(12,t,e,i|2),n.elementType=ix,n.lanes=s,n;case sx:return n=ko(13,t,e,i),n.elementType=sx,n.lanes=s,n;case ox:return n=ko(19,t,e,i),n.elementType=ox,n.lanes=s,n;case gI:return ay(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pI:o=10;break e;case mI:o=9;break e;case _E:o=11;break e;case wE:o=14;break e;case Oc:o=16,r=null;break e}throw Error(rt(130,n==null?n:typeof n,""))}return e=ko(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Sh(n,e,t,r){return n=ko(7,n,r,e),n.lanes=t,n}function ay(n,e,t,r){return n=ko(22,n,r,e),n.elementType=gI,n.lanes=t,n.stateNode={isHidden:!1},n}function aw(n,e,t){return n=ko(6,n,null,e),n.lanes=t,n}function lw(n,e,t){return e=ko(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function N7(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W_(0),this.expirationTimes=W_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tS(n,e,t,r,i,s,o,a,l){return n=new N7(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ko(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},BE(s),n}function P7(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function aP(n){if(!n)return gu;n=n._reactInternals;e:{if(tf(n)!==n||n.tag!==1)throw Error(rt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Os(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(n.tag===1){var t=n.type;if(Os(t))return aN(n,t,e)}return e}function lP(n,e,t,r,i,s,o,a,l){return n=tS(t,r,!0,n,i,s,o,a,l),n.context=aP(null),t=n.current,r=vs(),i=iu(t),s=Nl(r,i),s.callback=e??null,nu(t,s,i),n.current.lanes=i,Jm(n,i,r),Fs(n,r),n}function ly(n,e,t,r){var i=e.current,s=vs(),o=iu(i);return t=aP(t),e.context===null?e.context=t:e.pendingContext=t,e=Nl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=nu(i,e,o),n!==null&&(oa(n,i,o,s),$1(n,i,o)),o}function jv(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function sA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function nS(n,e){sA(n,e),(n=n.alternate)&&sA(n,e)}function D7(){return null}var cP=typeof reportError=="function"?reportError:function(n){console.error(n)};function rS(n){this._internalRoot=n}cy.prototype.render=rS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(rt(409));ly(n,e,null,null)};cy.prototype.unmount=rS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Mh(function(){ly(null,n,null,null)}),e[Ul]=null}};function cy(n){this._internalRoot=n}cy.prototype.unstable_scheduleHydration=function(n){if(n){var e=UI();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Bc.length&&e!==0&&e<Bc[t].priority;t++);Bc.splice(t,0,n),t===0&&WI(n)}};function iS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function uy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function oA(){}function R7(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=jv(o);s.call(c)}}var o=lP(e,r,n,0,null,!1,!1,"",oA);return n._reactRootContainer=o,n[Ul]=o.current,am(n.nodeType===8?n.parentNode:n),Mh(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=jv(l);a.call(c)}}var l=tS(n,0,!1,null,null,!1,!1,"",oA);return n._reactRootContainer=l,n[Ul]=l.current,am(n.nodeType===8?n.parentNode:n),Mh(function(){ly(e,l,t,r)}),l}function hy(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=jv(o);a.call(l)}}ly(e,o,n,i)}else o=R7(t,e,n,i,r);return jv(o)}BI=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=u0(e.pendingLanes);t!==0&&(SE(e,t|1),Fs(e,Pr()),!(gn&6)&&(Ud=Pr()+500,Ou()))}break;case 13:Mh(function(){var r=Vl(n,1);if(r!==null){var i=vs();oa(r,n,1,i)}}),nS(n,1)}};TE=function(n){if(n.tag===13){var e=Vl(n,134217728);if(e!==null){var t=vs();oa(e,n,134217728,t)}nS(n,134217728)}};jI=function(n){if(n.tag===13){var e=iu(n),t=Vl(n,e);if(t!==null){var r=vs();oa(t,n,e,r)}nS(n,e)}};UI=function(){return Mn};VI=function(n,e){var t=Mn;try{return Mn=n,e()}finally{Mn=t}};gx=function(n,e,t){switch(e){case"input":if(cx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ty(r);if(!i)throw Error(rt(90));yI(r),cx(r,i)}}}break;case"textarea":wI(n,t);break;case"select":e=t.value,e!=null&&pd(n,!!t.multiple,e,!1)}};CI=XE;kI=Mh;var L7={usingClientEntryPoint:!1,Events:[eg,id,ty,bI,AI,XE]},Kp={findFiberByHostInstance:ph,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O7={bundleType:Kp.bundleType,version:Kp.version,rendererPackageName:Kp.rendererPackageName,rendererConfig:Kp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=PI(n),n===null?null:n.stateNode},findFiberByHostInstance:Kp.findFiberByHostInstance||D7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{X2=p1.inject(O7),Ma=p1}catch{}}fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L7;fo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iS(e))throw Error(rt(200));return P7(n,e,null,t)};fo.createRoot=function(n,e){if(!iS(n))throw Error(rt(299));var t=!1,r="",i=cP;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tS(n,1,!1,null,null,t,!1,r,i),n[Ul]=e.current,am(n.nodeType===8?n.parentNode:n),new rS(e)};fo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(rt(188)):(n=Object.keys(n).join(","),Error(rt(268,n)));return n=PI(e),n=n===null?null:n.stateNode,n};fo.flushSync=function(n){return Mh(n)};fo.hydrate=function(n,e,t){if(!uy(e))throw Error(rt(200));return hy(null,n,e,!0,t)};fo.hydrateRoot=function(n,e,t){if(!iS(n))throw Error(rt(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=cP;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=lP(e,null,n,1,t??null,i,!1,s,o),n[Ul]=e.current,am(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new cy(e)};fo.render=function(n,e,t){if(!uy(e))throw Error(rt(200));return hy(null,n,e,!1,t)};fo.unmountComponentAtNode=function(n){if(!uy(n))throw Error(rt(40));return n._reactRootContainer?(Mh(function(){hy(null,null,n,!1,function(){n._reactRootContainer=null,n[Ul]=null})}),!0):!1};fo.unstable_batchedUpdates=XE;fo.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!uy(t))throw Error(rt(200));if(n==null||n._reactInternals===void 0)throw Error(rt(38));return hy(n,e,t,!1,r)};fo.version="18.3.1-next-f1338f8080-20240426";function uP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uP)}catch(n){console.error(n)}}uP(),uI.exports=fo;var fy=uI.exports;const F7=Jk(fy);var hP,aA=fy;hP=aA.createRoot,aA.hydrateRoot;const fP=je.createContext({darkMode:!1,toggleDarkMode:()=>{}}),Ja=()=>je.useContext(fP),lA=({children:n})=>{const[e,t]=je.useState(!1);je.useEffect(()=>{const i=localStorage.getItem("darkMode")==="true";t(i),i&&document.documentElement.classList.add("dark")},[]);const r=()=>{const i=!e;t(i),localStorage.setItem("darkMode",String(i)),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return ae.jsx(fP.Provider,{value:{darkMode:e,toggleDarkMode:r},children:n})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Za=(n,e)=>{const t=je.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>je.createElement("svg",{ref:u,...M7,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${B7(n)}`,a].join(" "),...c},[...e.map(([h,d])=>je.createElement(h,d)),...Array.isArray(l)?l:[l]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=Za("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=Za("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=Za("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=Za("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=Za("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=Za("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=Za("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=Za("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=Za("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=Za("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),K7=()=>{const{darkMode:n,toggleDarkMode:e}=Ja();return ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("span",{className:"text-sm font-medium",children:"Modo Noturno"}),ae.jsxs("button",{onClick:e,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ease-in-out duration-300 ${n?"bg-blue-600":"bg-gray-300"}`,children:[ae.jsx("span",{className:"sr-only"}),ae.jsx("span",{className:`inline-block w-5 h-5 transform rounded-full transition-transform ease-in-out duration-300 ${n?"translate-x-6 bg-gray-900 flex items-center justify-center":"translate-x-1 bg-white flex items-center justify-center"}`,children:n?ae.jsx(z7,{size:12}):ae.jsx(Y7,{size:12})})]})]})};var cA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct=function(n,e){if(!n)throw hp(e)},hp=function(n){return new Error("Firebase Database ("+dP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Q7=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),r.push(t[u],t[h],t[d],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Q7(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new X7;const d=s<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class X7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mP=function(n){const e=pP(n);return sS.encodeByteArray(e,!0)},Uv=function(n){return mP(n).replace(/\./g,"")},Vv=function(n){try{return sS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(n){return gP(void 0,n)}function gP(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Z7(t)||(n[t]=gP(n[t],e[t]));return n}function Z7(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=()=>e9().__FIREBASE_DEFAULTS__,n9=()=>{if(typeof process>"u"||typeof cA>"u")return;const n=cA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Vv(n[1]);return e&&JSON.parse(e)},dy=()=>{try{return t9()||n9()||r9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vP=n=>{var e,t;return(t=(e=dy())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yP=n=>{const e=vP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_P=()=>{var n;return(n=dy())===null||n===void 0?void 0:n.config},wP=n=>{var e;return(e=dy())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uv(JSON.stringify(t)),Uv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ns())}function i9(){var n;const e=(n=dy())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o9(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a9(){const n=ns();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SP(){return dP.NODE_ADMIN===!0}function l9(){return!i9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c9(){try{return typeof indexedDB=="object"}catch{return!1}}function u9(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="FirebaseError";class ec extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=h9,Object.setPrototypeOf(this,ec.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ng.prototype.create)}}class ng{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?f9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ec(i,a,r)}}function f9(n,e){return n.replace(d9,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const d9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(n){return JSON.parse(n)}function ui(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=gm(Vv(s[0])||""),t=gm(Vv(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},p9=function(n){const e=TP(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},m9=function(n){const e=TP(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Vd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Wv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hv(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function zv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(uA(s)&&uA(o)){if(!zv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function uA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function f0(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function d0(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)r[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const d=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function v9(n,e){const t=new y9(n,e);return t.subscribe.bind(t)}class y9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=cw),i.error===void 0&&(i.error=cw),i.complete===void 0&&(i.complete=cw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cw(){}function Wd(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ct(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},py=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n){return n&&n._delegate?n._delegate:n}class vu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new El;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S9(e))try{this.getOrInitializeService({instanceIdentifier:lh})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lh){return this.instances.has(e)}getOptions(e=lh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lh){return this.component?this.component.multipleInstances?e:lh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E9(n){return n===lh?void 0:n}function S9(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ln||(ln={}));const b9={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},A9=ln.INFO,C9={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},k9=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=C9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=A9,this._logHandler=k9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...e),this._logHandler(this,ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...e),this._logHandler(this,ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...e),this._logHandler(this,ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...e),this._logHandler(this,ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...e),this._logHandler(this,ln.ERROR,...e)}}const I9=(n,e)=>e.some(t=>n instanceof t);let hA,fA;function N9(){return hA||(hA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P9(){return fA||(fA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bP=new WeakMap,Kx=new WeakMap,AP=new WeakMap,uw=new WeakMap,aS=new WeakMap;function D9(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ou(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&bP.set(t,n)}).catch(()=>{}),aS.set(e,n),e}function R9(n){if(Kx.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Kx.set(n,e)}let Qx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ou(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L9(n){Qx=n(Qx)}function O9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hw(this),e,...t);return AP.set(r,e.sort?e.sort():[e]),ou(r)}:P9().includes(n)?function(...e){return n.apply(hw(this),e),ou(bP.get(this))}:function(...e){return ou(n.apply(hw(this),e))}}function F9(n){return typeof n=="function"?O9(n):(n instanceof IDBTransaction&&R9(n),I9(n,N9())?new Proxy(n,Qx):n)}function ou(n){if(n instanceof IDBRequest)return D9(n);if(uw.has(n))return uw.get(n);const e=F9(n);return e!==n&&(uw.set(n,e),aS.set(e,n)),e}const hw=n=>aS.get(n);function M9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ou(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ou(o.result),l.oldVersion,l.newVersion,ou(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const B9=["get","getKey","getAll","getAllKeys","count"],j9=["put","add","delete","clear"],fw=new Map;function dA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fw.get(e))return fw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=j9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||B9.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return fw.set(e,s),s}L9(n=>({...n,get:(e,t,r)=>dA(e,t)||n.get(e,t,r),has:(e,t)=>!!dA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V9(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function V9(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xx="@firebase/app",pA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new my("@firebase/app"),W9="@firebase/app-compat",H9="@firebase/analytics-compat",z9="@firebase/analytics",q9="@firebase/app-check-compat",$9="@firebase/app-check",Y9="@firebase/auth",G9="@firebase/auth-compat",K9="@firebase/database",Q9="@firebase/data-connect",X9="@firebase/database-compat",J9="@firebase/functions",Z9="@firebase/functions-compat",eB="@firebase/installations",tB="@firebase/installations-compat",nB="@firebase/messaging",rB="@firebase/messaging-compat",iB="@firebase/performance",sB="@firebase/performance-compat",oB="@firebase/remote-config",aB="@firebase/remote-config-compat",lB="@firebase/storage",cB="@firebase/storage-compat",uB="@firebase/firestore",hB="@firebase/vertexai-preview",fB="@firebase/firestore-compat",dB="firebase",pB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="[DEFAULT]",mB={[Xx]:"fire-core",[W9]:"fire-core-compat",[z9]:"fire-analytics",[H9]:"fire-analytics-compat",[$9]:"fire-app-check",[q9]:"fire-app-check-compat",[Y9]:"fire-auth",[G9]:"fire-auth-compat",[K9]:"fire-rtdb",[Q9]:"fire-data-connect",[X9]:"fire-rtdb-compat",[J9]:"fire-fn",[Z9]:"fire-fn-compat",[eB]:"fire-iid",[tB]:"fire-iid-compat",[nB]:"fire-fcm",[rB]:"fire-fcm-compat",[iB]:"fire-perf",[sB]:"fire-perf-compat",[oB]:"fire-rc",[aB]:"fire-rc-compat",[lB]:"fire-gcs",[cB]:"fire-gcs-compat",[uB]:"fire-fst",[fB]:"fire-fst-compat",[hB]:"fire-vertex","fire-js":"fire-js",[dB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map,gB=new Map,Zx=new Map;function mA(n,e){try{n.container.addComponent(e)}catch(t){Hl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bh(n){const e=n.name;if(Zx.has(e))return Hl.debug(`There were multiple attempts to register component ${e}.`),!1;Zx.set(e,n);for(const t of qv.values())mA(t,n);for(const t of gB.values())mA(t,n);return!0}function gy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Oa(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},au=new ng("app","Firebase",vB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw au.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=pB;function CP(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw au.create("bad-app-name",{appName:String(i)});if(t||(t=_P()),!t)throw au.create("no-options");const s=qv.get(i);if(s){if(zv(t,s.options)&&zv(r,s.config))return s;throw au.create("duplicate-app",{appName:i})}const o=new T9(i);for(const l of Zx.values())o.addComponent(l);const a=new yB(t,r,o);return qv.set(i,a),a}function lS(n=Jx){const e=qv.get(n);if(!e&&n===Jx&&_P())return CP();if(!e)throw au.create("no-app",{appName:n});return e}function ja(n,e,t){var r;let i=(r=mB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hl.warn(a.join(" "));return}Bh(new vu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="firebase-heartbeat-database",wB=1,vm="firebase-heartbeat-store";let dw=null;function kP(){return dw||(dw=M9(_B,wB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vm)}catch(t){console.warn(t)}}}}).catch(n=>{throw au.create("idb-open",{originalErrorMessage:n.message})})),dw}async function xB(n){try{const t=(await kP()).transaction(vm),r=await t.objectStore(vm).get(IP(n));return await t.done,r}catch(e){if(e instanceof ec)Hl.warn(e.message);else{const t=au.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hl.warn(t.message)}}}async function gA(n,e){try{const r=(await kP()).transaction(vm,"readwrite");await r.objectStore(vm).put(e,IP(n)),await r.done}catch(t){if(t instanceof ec)Hl.warn(t.message);else{const r=au.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hl.warn(r.message)}}}function IP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=1024,SB=30*24*60*60*1e3;class TB{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AB(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=SB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vA(),{heartbeatsToSend:r,unsentEntries:i}=bB(this._heartbeatsCache.heartbeats),s=Uv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Hl.warn(t),""}}}function vA(){return new Date().toISOString().substring(0,10)}function bB(n,e=EB){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yA(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),yA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class AB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c9()?u9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yA(n){return Uv(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(n){Bh(new vu("platform-logger",e=>new U9(e),"PRIVATE")),Bh(new vu("heartbeat",e=>new TB(e),"PRIVATE")),ja(Xx,pA,n),ja(Xx,pA,"esm2017"),ja("fire-js","")}CB("");var kB="firebase",IB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja(kB,IB,"app");var _A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Th,NP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function I(){}I.prototype=b.prototype,T.D=b.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(L,A,C){for(var D=Array(arguments.length-2),q=2;q<arguments.length;q++)D[q-2]=arguments[q];return b.prototype[A].apply(L,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,I){I||(I=0);var L=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)L[A]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(A=0;16>A;++A)L[A]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=T.g[0],I=T.g[1],A=T.g[2];var C=T.g[3],D=b+(C^I&(A^C))+L[0]+3614090360&4294967295;b=I+(D<<7&4294967295|D>>>25),D=C+(A^b&(I^A))+L[1]+3905402710&4294967295,C=b+(D<<12&4294967295|D>>>20),D=A+(I^C&(b^I))+L[2]+606105819&4294967295,A=C+(D<<17&4294967295|D>>>15),D=I+(b^A&(C^b))+L[3]+3250441966&4294967295,I=A+(D<<22&4294967295|D>>>10),D=b+(C^I&(A^C))+L[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=C+(A^b&(I^A))+L[5]+1200080426&4294967295,C=b+(D<<12&4294967295|D>>>20),D=A+(I^C&(b^I))+L[6]+2821735955&4294967295,A=C+(D<<17&4294967295|D>>>15),D=I+(b^A&(C^b))+L[7]+4249261313&4294967295,I=A+(D<<22&4294967295|D>>>10),D=b+(C^I&(A^C))+L[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=C+(A^b&(I^A))+L[9]+2336552879&4294967295,C=b+(D<<12&4294967295|D>>>20),D=A+(I^C&(b^I))+L[10]+4294925233&4294967295,A=C+(D<<17&4294967295|D>>>15),D=I+(b^A&(C^b))+L[11]+2304563134&4294967295,I=A+(D<<22&4294967295|D>>>10),D=b+(C^I&(A^C))+L[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=C+(A^b&(I^A))+L[13]+4254626195&4294967295,C=b+(D<<12&4294967295|D>>>20),D=A+(I^C&(b^I))+L[14]+2792965006&4294967295,A=C+(D<<17&4294967295|D>>>15),D=I+(b^A&(C^b))+L[15]+1236535329&4294967295,I=A+(D<<22&4294967295|D>>>10),D=b+(A^C&(I^A))+L[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=C+(I^A&(b^I))+L[6]+3225465664&4294967295,C=b+(D<<9&4294967295|D>>>23),D=A+(b^I&(C^b))+L[11]+643717713&4294967295,A=C+(D<<14&4294967295|D>>>18),D=I+(C^b&(A^C))+L[0]+3921069994&4294967295,I=A+(D<<20&4294967295|D>>>12),D=b+(A^C&(I^A))+L[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=C+(I^A&(b^I))+L[10]+38016083&4294967295,C=b+(D<<9&4294967295|D>>>23),D=A+(b^I&(C^b))+L[15]+3634488961&4294967295,A=C+(D<<14&4294967295|D>>>18),D=I+(C^b&(A^C))+L[4]+3889429448&4294967295,I=A+(D<<20&4294967295|D>>>12),D=b+(A^C&(I^A))+L[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=C+(I^A&(b^I))+L[14]+3275163606&4294967295,C=b+(D<<9&4294967295|D>>>23),D=A+(b^I&(C^b))+L[3]+4107603335&4294967295,A=C+(D<<14&4294967295|D>>>18),D=I+(C^b&(A^C))+L[8]+1163531501&4294967295,I=A+(D<<20&4294967295|D>>>12),D=b+(A^C&(I^A))+L[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=C+(I^A&(b^I))+L[2]+4243563512&4294967295,C=b+(D<<9&4294967295|D>>>23),D=A+(b^I&(C^b))+L[7]+1735328473&4294967295,A=C+(D<<14&4294967295|D>>>18),D=I+(C^b&(A^C))+L[12]+2368359562&4294967295,I=A+(D<<20&4294967295|D>>>12),D=b+(I^A^C)+L[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=C+(b^I^A)+L[8]+2272392833&4294967295,C=b+(D<<11&4294967295|D>>>21),D=A+(C^b^I)+L[11]+1839030562&4294967295,A=C+(D<<16&4294967295|D>>>16),D=I+(A^C^b)+L[14]+4259657740&4294967295,I=A+(D<<23&4294967295|D>>>9),D=b+(I^A^C)+L[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=C+(b^I^A)+L[4]+1272893353&4294967295,C=b+(D<<11&4294967295|D>>>21),D=A+(C^b^I)+L[7]+4139469664&4294967295,A=C+(D<<16&4294967295|D>>>16),D=I+(A^C^b)+L[10]+3200236656&4294967295,I=A+(D<<23&4294967295|D>>>9),D=b+(I^A^C)+L[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=C+(b^I^A)+L[0]+3936430074&4294967295,C=b+(D<<11&4294967295|D>>>21),D=A+(C^b^I)+L[3]+3572445317&4294967295,A=C+(D<<16&4294967295|D>>>16),D=I+(A^C^b)+L[6]+76029189&4294967295,I=A+(D<<23&4294967295|D>>>9),D=b+(I^A^C)+L[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=C+(b^I^A)+L[12]+3873151461&4294967295,C=b+(D<<11&4294967295|D>>>21),D=A+(C^b^I)+L[15]+530742520&4294967295,A=C+(D<<16&4294967295|D>>>16),D=I+(A^C^b)+L[2]+3299628645&4294967295,I=A+(D<<23&4294967295|D>>>9),D=b+(A^(I|~C))+L[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=C+(I^(b|~A))+L[7]+1126891415&4294967295,C=b+(D<<10&4294967295|D>>>22),D=A+(b^(C|~I))+L[14]+2878612391&4294967295,A=C+(D<<15&4294967295|D>>>17),D=I+(C^(A|~b))+L[5]+4237533241&4294967295,I=A+(D<<21&4294967295|D>>>11),D=b+(A^(I|~C))+L[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=C+(I^(b|~A))+L[3]+2399980690&4294967295,C=b+(D<<10&4294967295|D>>>22),D=A+(b^(C|~I))+L[10]+4293915773&4294967295,A=C+(D<<15&4294967295|D>>>17),D=I+(C^(A|~b))+L[1]+2240044497&4294967295,I=A+(D<<21&4294967295|D>>>11),D=b+(A^(I|~C))+L[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=C+(I^(b|~A))+L[15]+4264355552&4294967295,C=b+(D<<10&4294967295|D>>>22),D=A+(b^(C|~I))+L[6]+2734768916&4294967295,A=C+(D<<15&4294967295|D>>>17),D=I+(C^(A|~b))+L[13]+1309151649&4294967295,I=A+(D<<21&4294967295|D>>>11),D=b+(A^(I|~C))+L[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=C+(I^(b|~A))+L[11]+3174756917&4294967295,C=b+(D<<10&4294967295|D>>>22),D=A+(b^(C|~I))+L[2]+718787259&4294967295,A=C+(D<<15&4294967295|D>>>17),D=I+(C^(A|~b))+L[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var I=b-this.blockSize,L=this.B,A=this.h,C=0;C<b;){if(A==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<b;)if(L[A++]=T.charCodeAt(C++),A==this.blockSize){i(this,L),A=0;break}}else for(;C<b;)if(L[A++]=T[C++],A==this.blockSize){i(this,L),A=0;break}}this.h=A,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var I=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=I&255,I/=256;for(this.u(T),T=Array(16),b=I=0;4>b;++b)for(var L=0;32>L;L+=8)T[I++]=this.g[b]>>>L&255;return T};function s(T,b){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=b(T)}function o(T,b){this.h=b;for(var I=[],L=!0,A=T.length-1;0<=A;A--){var C=T[A]|0;L&&C==b||(I[A]=C,L=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return E(c(-T));for(var b=[],I=1,L=0;T>=I;L++)b[L]=T/I|0,I*=4294967296;return new o(b,0)}function u(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return E(u(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(b,8)),L=h,A=0;A<T.length;A+=8){var C=Math.min(8,T.length-A),D=parseInt(T.substring(A,A+C),b);8>C?(C=c(Math.pow(b,C)),L=L.j(C).add(c(D))):(L=L.j(I),L=L.add(c(D)))}return L}var h=l(0),d=l(1),f=l(16777216);n=o.prototype,n.m=function(){if(g(this))return-E(this).m();for(var T=0,b=1,I=0;I<this.g.length;I++){var L=this.i(I);T+=(0<=L?L:4294967296+L)*b,b*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(g(this))return"-"+E(this).toString(T);for(var b=c(Math.pow(T,6)),I=this,L="";;){var A=R(I,b).g;I=_(I,A.j(b));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=A,v(I))return C+L;for(;6>C.length;)C="0"+C;L=C+L}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function g(T){return T.h==-1}n.l=function(T){return T=_(this,T),g(T)?-1:v(T)?0:1};function E(T){for(var b=T.g.length,I=[],L=0;L<b;L++)I[L]=~T.g[L];return new o(I,~T.h).add(d)}n.abs=function(){return g(this)?E(this):this},n.add=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],L=0,A=0;A<=b;A++){var C=L+(this.i(A)&65535)+(T.i(A)&65535),D=(C>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);L=D>>>16,C&=65535,D&=65535,I[A]=D<<16|C}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(T,b){return T.add(E(b))}n.j=function(T){if(v(this)||v(T))return h;if(g(this))return g(T)?E(this).j(E(T)):E(E(this).j(T));if(g(T))return E(this.j(E(T)));if(0>this.l(f)&&0>T.l(f))return c(this.m()*T.m());for(var b=this.g.length+T.g.length,I=[],L=0;L<2*b;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var A=0;A<T.g.length;A++){var C=this.i(L)>>>16,D=this.i(L)&65535,q=T.i(A)>>>16,he=T.i(A)&65535;I[2*L+2*A]+=D*he,w(I,2*L+2*A),I[2*L+2*A+1]+=C*he,w(I,2*L+2*A+1),I[2*L+2*A+1]+=D*q,w(I,2*L+2*A+1),I[2*L+2*A+2]+=C*q,w(I,2*L+2*A+2)}for(L=0;L<b;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=b;L<2*b;L++)I[L]=0;return new o(I,0)};function w(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function x(T,b){this.g=T,this.h=b}function R(T,b){if(v(b))throw Error("division by zero");if(v(T))return new x(h,h);if(g(T))return b=R(E(T),b),new x(E(b.g),E(b.h));if(g(b))return b=R(T,E(b)),new x(E(b.g),b.h);if(30<T.g.length){if(g(T)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var I=d,L=b;0>=L.l(T);)I=B(I),L=B(L);var A=V(I,1),C=V(L,1);for(L=V(L,2),I=V(I,2);!v(L);){var D=C.add(L);0>=D.l(T)&&(A=A.add(I),C=D),L=V(L,1),I=V(I,1)}return b=_(T,A.j(b)),new x(A,b)}for(A=h;0<=T.l(b);){for(I=Math.max(1,Math.floor(T.m()/b.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),C=c(I),D=C.j(b);g(D)||0<D.l(T);)I-=L,C=c(I),D=C.j(b);v(C)&&(C=d),A=A.add(C),T=_(T,D)}return new x(A,T)}n.A=function(T){return R(this,T).h},n.and=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],L=0;L<b;L++)I[L]=this.i(L)&T.i(L);return new o(I,this.h&T.h)},n.or=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],L=0;L<b;L++)I[L]=this.i(L)|T.i(L);return new o(I,this.h|T.h)},n.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],L=0;L<b;L++)I[L]=this.i(L)^T.i(L);return new o(I,this.h^T.h)};function B(T){for(var b=T.g.length+1,I=[],L=0;L<b;L++)I[L]=T.i(L)<<1|T.i(L-1)>>>31;return new o(I,T.h)}function V(T,b){var I=b>>5;b%=32;for(var L=T.g.length-I,A=[],C=0;C<L;C++)A[C]=0<b?T.i(C+I)>>>b|T.i(C+I+1)<<32-b:T.i(C+I);return new o(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Th=o}).apply(typeof _A<"u"?_A:typeof self<"u"?self:typeof window<"u"?window:{});var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PP,p0,DP,Z1,e5,RP,LP,OP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,P,F){return m==Array.prototype||m==Object.prototype||(m[P]=F.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof m1=="object"&&m1];for(var P=0;P<m.length;++P){var F=m[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=t(this);function i(m,P){if(P)e:{var F=r;m=m.split(".");for(var X=0;X<m.length-1;X++){var Se=m[X];if(!(Se in F))break e;F=F[Se]}m=m[m.length-1],X=F[m],P=P(X),P!=X&&P!=null&&e(F,m,{configurable:!0,writable:!0,value:P})}}function s(m,P){m instanceof String&&(m+="");var F=0,X=!1,Se={next:function(){if(!X&&F<m.length){var De=F++;return{value:P(De,m[De]),done:!1}}return X=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}i("Array.prototype.values",function(m){return m||function(){return s(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var P=typeof m;return P=P!="object"?P:m?Array.isArray(m)?"array":P:"null",P=="array"||P=="object"&&typeof m.length=="number"}function c(m){var P=typeof m;return P=="object"&&m!=null||P=="function"}function u(m,P,F){return m.call.apply(m.bind,arguments)}function h(m,P,F){if(!m)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,X),m.apply(P,Se)}}return function(){return m.apply(P,arguments)}}function d(m,P,F){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function f(m,P){var F=Array.prototype.slice.call(arguments,1);return function(){var X=F.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function v(m,P){function F(){}F.prototype=P.prototype,m.aa=P.prototype,m.prototype=new F,m.prototype.constructor=m,m.Qb=function(X,Se,De){for(var Ze=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Ze[Ht-2]=arguments[Ht];return P.prototype[Se].apply(X,Ze)}}function g(m){const P=m.length;if(0<P){const F=Array(P);for(let X=0;X<P;X++)F[X]=m[X];return F}return[]}function E(m,P){for(let F=1;F<arguments.length;F++){const X=arguments[F];if(l(X)){const Se=m.length||0,De=X.length||0;m.length=Se+De;for(let Ze=0;Ze<De;Ze++)m[Se+Ze]=X[Ze]}else m.push(X)}}class _{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function w(m){return/^[\s\xa0]*$/.test(m)}function x(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function R(m){return R[" "](m),m}R[" "]=function(){};var B=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function V(m,P,F){for(const X in m)P.call(F,m[X],X,m)}function T(m,P){for(const F in m)P.call(void 0,m[F],F,m)}function b(m){const P={};for(const F in m)P[F]=m[F];return P}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(m,P){let F,X;for(let Se=1;Se<arguments.length;Se++){X=arguments[Se];for(F in X)m[F]=X[F];for(let De=0;De<I.length;De++)F=I[De],Object.prototype.hasOwnProperty.call(X,F)&&(m[F]=X[F])}}function A(m){var P=1;m=m.split(":");const F=[];for(;0<P&&m.length;)F.push(m.shift()),P--;return m.length&&F.push(m.join(":")),F}function C(m){a.setTimeout(()=>{throw m},0)}function D(){var m=Z;let P=null;return m.g&&(P=m.g,m.g=m.g.next,m.g||(m.h=null),P.next=null),P}class q{constructor(){this.h=this.g=null}add(P,F){const X=he.get();X.set(P,F),this.h?this.h.next=X:this.g=X,this.h=X}}var he=new _(()=>new ne,m=>m.reset());class ne{constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,K=!1,Z=new q,me=()=>{const m=a.Promise.resolve(void 0);ee=()=>{m.then(Ae)}};var Ae=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(F){C(F)}var P=he;P.j(m),100>P.h&&(P.h++,m.next=P.g,P.g=m)}K=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,P){this.type=m,this.g=this.target=P,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,P=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const F=()=>{};a.addEventListener("test",F,P),a.removeEventListener("test",F,P)}catch{}return m}();function U(m,P){if(M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var F=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=P,P=m.relatedTarget){if(B){e:{try{R(P.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(P=null)}}else F=="mouseover"?P=m.fromElement:F=="mouseout"&&(P=m.toElement);this.relatedTarget=P,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Q[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&U.aa.h.call(this)}}v(U,M);var Q={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ge=0;function ve(m,P,F,X,Se){this.listener=m,this.proxy=null,this.src=P,this.type=F,this.capture=!!X,this.ha=Se,this.key=++ge,this.da=this.fa=!1}function Ee(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Me(m){this.src=m,this.g={},this.h=0}Me.prototype.add=function(m,P,F,X,Se){var De=m.toString();m=this.g[De],m||(m=this.g[De]=[],this.h++);var Ze=tt(m,P,X,Se);return-1<Ze?(P=m[Ze],F||(P.fa=!1)):(P=new ve(P,this.src,De,!!X,Se),P.fa=F,m.push(P)),P};function We(m,P){var F=P.type;if(F in m.g){var X=m.g[F],Se=Array.prototype.indexOf.call(X,P,void 0),De;(De=0<=Se)&&Array.prototype.splice.call(X,Se,1),De&&(Ee(P),m.g[F].length==0&&(delete m.g[F],m.h--))}}function tt(m,P,F,X){for(var Se=0;Se<m.length;++Se){var De=m[Se];if(!De.da&&De.listener==P&&De.capture==!!F&&De.ha==X)return Se}return-1}var at="closure_lm_"+(1e6*Math.random()|0),Fe={};function pe(m,P,F,X,Se){if(Array.isArray(P)){for(var De=0;De<P.length;De++)pe(m,P[De],F,X,Se);return null}return F=Mt(F),m&&m[ie]?m.K(P,F,c(X)?!!X.capture:!!X,Se):Ye(m,P,F,!1,X,Se)}function Ye(m,P,F,X,Se,De){if(!P)throw Error("Invalid event type");var Ze=c(Se)?!!Se.capture:!!Se,Ht=At(m);if(Ht||(m[at]=Ht=new Me(m)),F=Ht.add(P,F,X,Ze,De),F.proxy)return F;if(X=_t(),F.proxy=X,X.src=m,X.listener=F,m.addEventListener)j||(Se=Ze),Se===void 0&&(Se=!1),m.addEventListener(P.toString(),X,Se);else if(m.attachEvent)m.attachEvent(ut(P.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return F}function _t(){function m(F){return P.call(m.src,m.listener,F)}const P=ht;return m}function Ke(m,P,F,X,Se){if(Array.isArray(P))for(var De=0;De<P.length;De++)Ke(m,P[De],F,X,Se);else X=c(X)?!!X.capture:!!X,F=Mt(F),m&&m[ie]?(m=m.i,P=String(P).toString(),P in m.g&&(De=m.g[P],F=tt(De,F,X,Se),-1<F&&(Ee(De[F]),Array.prototype.splice.call(De,F,1),De.length==0&&(delete m.g[P],m.h--)))):m&&(m=At(m))&&(P=m.g[P.toString()],m=-1,P&&(m=tt(P,F,X,Se)),(F=-1<m?P[m]:null)&&it(F))}function it(m){if(typeof m!="number"&&m&&!m.da){var P=m.src;if(P&&P[ie])We(P.i,m);else{var F=m.type,X=m.proxy;P.removeEventListener?P.removeEventListener(F,X,m.capture):P.detachEvent?P.detachEvent(ut(F),X):P.addListener&&P.removeListener&&P.removeListener(X),(F=At(P))?(We(F,m),F.h==0&&(F.src=null,P[at]=null)):Ee(m)}}}function ut(m){return m in Fe?Fe[m]:Fe[m]="on"+m}function ht(m,P){if(m.da)m=!0;else{P=new U(P,this);var F=m.listener,X=m.ha||m.src;m.fa&&it(m),m=F.call(X,P)}return m}function At(m){return m=m[at],m instanceof Me?m:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(m){return typeof m=="function"?m:(m[kt]||(m[kt]=function(P){return m.handleEvent(P)}),m[kt])}function It(){N.call(this),this.i=new Me(this),this.M=this,this.F=null}v(It,N),It.prototype[ie]=!0,It.prototype.removeEventListener=function(m,P,F,X){Ke(this,m,P,F,X)};function Dt(m,P){var F,X=m.F;if(X)for(F=[];X;X=X.F)F.push(X);if(m=m.M,X=P.type||P,typeof P=="string")P=new M(P,m);else if(P instanceof M)P.target=P.target||m;else{var Se=P;P=new M(X,m),L(P,Se)}if(Se=!0,F)for(var De=F.length-1;0<=De;De--){var Ze=P.g=F[De];Se=Qt(Ze,X,!0,P)&&Se}if(Ze=P.g=m,Se=Qt(Ze,X,!0,P)&&Se,Se=Qt(Ze,X,!1,P)&&Se,F)for(De=0;De<F.length;De++)Ze=P.g=F[De],Se=Qt(Ze,X,!1,P)&&Se}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var m=this.i,P;for(P in m.g){for(var F=m.g[P],X=0;X<F.length;X++)Ee(F[X]);delete m.g[P],m.h--}}this.F=null},It.prototype.K=function(m,P,F,X){return this.i.add(String(m),P,!1,F,X)},It.prototype.L=function(m,P,F,X){return this.i.add(String(m),P,!0,F,X)};function Qt(m,P,F,X){if(P=m.i.g[String(P)],!P)return!0;P=P.concat();for(var Se=!0,De=0;De<P.length;++De){var Ze=P[De];if(Ze&&!Ze.da&&Ze.capture==F){var Ht=Ze.listener,on=Ze.ha||Ze.src;Ze.fa&&We(m.i,Ze),Se=Ht.call(on,X)!==!1&&Se}}return Se&&!X.defaultPrevented}function Rt(m,P,F){if(typeof m=="function")F&&(m=d(m,F));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:a.setTimeout(m,P||0)}function Gt(m){m.g=Rt(()=>{m.g=null,m.i&&(m.i=!1,Gt(m))},m.l);const P=m.h;m.h=null,m.m.apply(null,P)}class mt extends N{constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(m){N.call(this),this.h=m,this.g={}}v(er,N);var Zt=[];function _i(m){V(m.g,function(P,F){this.g.hasOwnProperty(F)&&it(P)},m),m.g={}}er.prototype.N=function(){er.aa.N.call(this),_i(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=a.JSON.stringify,Vn=a.JSON.parse,xs=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function rn(){}rn.prototype.h=null;function Ws(m){return m.h||(m.h=m.i())}function Wn(){}var Kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function is(){M.call(this,"d")}v(is,M);function _n(){M.call(this,"c")}v(_n,M);var Pt={},un=null;function Es(){return un=un||new It}Pt.La="serverreachability";function _r(m){M.call(this,Pt.La,m)}v(_r,M);function ri(m){const P=Es();Dt(P,new _r(P))}Pt.STAT_EVENT="statevent";function ss(m,P){M.call(this,Pt.STAT_EVENT,m),this.stat=P}v(ss,M);function xt(m){const P=Es();Dt(P,new ss(P,m))}Pt.Ma="timingevent";function ji(m,P){M.call(this,Pt.Ma,m),this.size=P}v(ji,M);function Br(m,P){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},P)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function dr(m,P,F,X,Se,De){m.info(function(){if(m.g)if(De)for(var Ze="",Ht=De.split("&"),on=0;on<Ht.length;on++){var zt=Ht[on].split("=");if(1<zt.length){var An=zt[0];zt=zt[1];var $n=An.split("_");Ze=2<=$n.length&&$n[1]=="type"?Ze+(An+"="+zt+"&"):Ze+(An+"=redacted&")}}else Ze=null;else Ze=De;return"XMLHTTP REQ ("+X+") [attempt "+Se+"]: "+P+`
`+F+`
`+Ze})}function ur(m,P,F,X,Se,De,Ze){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+Se+"]: "+P+`
`+F+`
`+De+" "+Ze})}function z(m,P,F,X){m.info(function(){return"XMLHTTP TEXT ("+P+"): "+re(m,F)+(X?" "+X:"")})}function ce(m,P){m.info(function(){return"TIMEOUT: "+P})}wr.prototype.info=function(){};function re(m,P){if(!m.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(m=0;m<F.length;m++)if(Array.isArray(F[m])){var X=F[m];if(!(2>X.length)){var Se=X[1];if(Array.isArray(Se)&&!(1>Se.length)){var De=Se[0];if(De!="noop"&&De!="stop"&&De!="close")for(var Ze=1;Ze<Se.length;Ze++)Se[Ze]=""}}}}return hn(F)}catch{return P}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ue;function Ce(){}v(Ce,rn),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},ue=new Ce;function Oe(m,P,F,X){this.j=m,this.i=P,this.l=F,this.R=X||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var Ie={},Re={};function Xe(m,P,F){m.L=1,m.v=sl(as(P)),m.m=F,m.P=!0,st(m,null)}function st(m,P){m.F=Date.now(),ft(m),m.A=as(m.v);var F=m.A,X=m.R;Array.isArray(X)||(X=[String(X)]),jt(F.i,"t",X),m.C=0,F=m.j.J,m.h=new ke,m.g=W(m.j,F?P:null,!m.m),0<m.O&&(m.M=new mt(d(m.Y,m,m.g),m.O)),P=m.U,F=m.g,X=m.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Zt[0]=Se.toString()),Se=Zt);for(var De=0;De<Se.length;De++){var Ze=pe(F,Se[De],X||P.handleEvent,!1,P.h||P);if(!Ze)break;P.g[Ze.key]=Ze}P=m.H?b(m.H):{},m.m?(m.u||(m.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,P)):(m.u="GET",m.g.ea(m.A,m.u,null,P)),ri(),dr(m.i,m.u,m.A,m.l,m.R,m.m)}Oe.prototype.ca=function(m){m=m.target;const P=this.M;P&&Qr(m)==3?P.j():this.Y(m)},Oe.prototype.Y=function(m){try{if(m==this.g)e:{const $n=Qr(this.g);var P=this.g.Ba();const Ho=this.g.Z();if(!(3>$n)&&($n!=3||this.g&&(this.h.h||this.g.oa()||Sf(this.g)))){this.J||$n!=4||P==7||(P==8||0>=Ho?ri(3):ri(2)),fn(this);var F=this.g.Z();this.X=F;t:if(gt(this)){var X=Sf(this.g);m="";var Se=X.length,De=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),dn(this);var Ze="";break t}this.h.i=new a.TextDecoder}for(P=0;P<Se;P++)this.h.h=!0,m+=this.h.i.decode(X[P],{stream:!(De&&P==Se-1)});X.length=0,this.h.g+=m,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=F==200,ur(this.i,this.u,this.A,this.l,this.R,$n,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,on=this.g;if((Ht=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ht)){var zt=Ht;break t}}zt=null}if(F=zt)z(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,F);else{this.o=!1,this.s=3,xt(12),Hn(this),dn(this);break e}}if(this.P){F=!0;let Ei;for(;!this.J&&this.C<Ze.length;)if(Ei=nt(this,Ze),Ei==Re){$n==4&&(this.s=4,xt(14),F=!1),z(this.i,this.l,null,"[Incomplete Response]");break}else if(Ei==Ie){this.s=4,xt(15),z(this.i,this.l,Ze,"[Invalid Chunk]"),F=!1;break}else z(this.i,this.l,Ei,null),os(this,Ei);if(gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$n!=4||Ze.length!=0||this.h.h||(this.s=1,xt(16),F=!1),this.o=this.o&&F,!F)z(this.i,this.l,Ze,"[Invalid Chunked Response]"),Hn(this),dn(this);else if(0<Ze.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),mc(An),An.M=!0,xt(11))}}else z(this.i,this.l,Ze,null),os(this,Ze);$n==4&&Hn(this),this.o&&!this.J&&($n==4?xa(this.j,this):(this.o=!1,ft(this)))}else _a(this.g),F==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Hn(this),dn(this)}}}catch{}finally{}};function gt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function nt(m,P){var F=m.C,X=P.indexOf(`
`,F);return X==-1?Re:(F=Number(P.substring(F,X)),isNaN(F)?Ie:(X+=1,X+F>P.length?Re:(P=P.slice(X,X+F),m.C=X+F,P)))}Oe.prototype.cancel=function(){this.J=!0,Hn(this)};function ft(m){m.S=Date.now()+m.I,Ft(m,m.I)}function Ft(m,P){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Br(d(m.ba,m),P)}function fn(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Oe.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ce(this.i,this.A),this.L!=2&&(ri(),xt(17)),Hn(this),this.s=2,dn(this)):Ft(this,this.S-m)};function dn(m){m.j.G==0||m.J||xa(m.j,m)}function Hn(m){fn(m);var P=m.M;P&&typeof P.ma=="function"&&P.ma(),m.M=null,_i(m.U),m.g&&(P=m.g,m.g=null,P.abort(),P.ma())}function os(m,P){try{var F=m.j;if(F.G!=0&&(F.g==m||wi(F.h,m))){if(!m.K&&wi(F.h,m)&&F.G==3){try{var X=F.Da.g.parse(P)}catch{X=null}if(Array.isArray(X)&&X.length==3){var Se=X;if(Se[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<m.F)Wo(F),hc(F);else break e;ul(F),xt(18)}}else F.za=Se[1],0<F.za-F.T&&37500>Se[2]&&F.F&&F.v==0&&!F.C&&(F.C=Br(d(F.Za,F),6e3));if(1>=zs(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Ui(F,11)}else if((m.K||F.g==m)&&Wo(F),!w(P))for(Se=F.Da.g.parse(P),P=0;P<Se.length;P++){let zt=Se[P];if(F.T=zt[0],zt=zt[1],F.G==2)if(zt[0]=="c"){F.K=zt[1],F.ia=zt[2];const An=zt[3];An!=null&&(F.la=An,F.j.info("VER="+F.la));const $n=zt[4];$n!=null&&(F.Aa=$n,F.j.info("SVER="+F.Aa));const Ho=zt[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(X=1.5*Ho,F.L=X,F.j.info("backChannelRequestTimeoutMs_="+X)),X=F;const Ei=m.g;if(Ei){const Ea=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var De=X.h;De.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(tr(De,De.h),De.h=null))}if(X.D){const Sa=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(X.ya=Sa,Cn(X.I,X.D,Sa))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-m.F,F.j.info("Handshake RTT: "+F.R+"ms")),X=F;var Ze=m;if(X.qa=S(X,X.J?X.ia:null,X.W),Ze.K){Wu(X.h,Ze);var Ht=Ze,on=X.L;on&&(Ht.I=on),Ht.B&&(fn(Ht),ft(Ht)),X.g=Ze}else pc(X);0<F.i.length&&fc(F)}else zt[0]!="stop"&&zt[0]!="close"||Ui(F,7);else F.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Ui(F,7):Vo(F):zt[0]!="noop"&&F.l&&F.l.ta(zt),F.v=0)}}ri(4)}catch{}}var Fo=class{constructor(m,P){this.g=m,this.map=P}};function Hs(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ss(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function zs(m){return m.h?1:m.g?m.g.size:0}function wi(m,P){return m.h?m.h==P:m.g?m.g.has(P):!1}function tr(m,P){m.g?m.g.add(P):m.h=P}function Wu(m,P){m.h&&m.h==P?m.h=null:m.g&&m.g.has(P)&&m.g.delete(P)}Hs.prototype.cancel=function(){if(this.i=Hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Hu(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let P=m.i;for(const F of m.g.values())P=P.concat(F.D);return P}return g(m.i)}function vf(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var P=[],F=m.length,X=0;X<F;X++)P.push(m[X]);return P}P=[],F=0;for(X in m)P[F++]=m[X];return P}function zu(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var P=[];m=m.length;for(var F=0;F<m;F++)P.push(F);return P}P=[],F=0;for(const X in m)P[F++]=X;return P}}}function yf(m,P){if(m.forEach&&typeof m.forEach=="function")m.forEach(P,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,P,void 0);else for(var F=zu(m),X=vf(m),Se=X.length,De=0;De<Se;De++)P.call(void 0,X[De],F&&F[De],m)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nc(m,P){if(m){m=m.split("&");for(var F=0;F<m.length;F++){var X=m[F].indexOf("="),Se=null;if(0<=X){var De=m[F].substring(0,X);Se=m[F].substring(X+1)}else De=m[F];P(De,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function xr(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof xr){this.h=m.h,il(this,m.j),this.o=m.o,this.g=m.g,rc(this,m.s),this.l=m.l;var P=m.i,F=new va;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),qu(this,F),this.m=m.m}else m&&(P=String(m).match(Ts))?(this.h=!1,il(this,P[1]||"",!0),this.o=ol(P[2]||""),this.g=ol(P[3]||"",!0),rc(this,P[4]),this.l=ol(P[5]||"",!0),qu(this,P[6]||"",!0),this.m=ol(P[7]||"")):(this.h=!1,this.i=new va(null,this.h))}xr.prototype.toString=function(){var m=[],P=this.j;P&&m.push(Mo(P,_f,!0),":");var F=this.g;return(F||P=="file")&&(m.push("//"),(P=this.o)&&m.push(Mo(P,_f,!0),"@"),m.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&m.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&m.push("/"),m.push(Mo(F,F.charAt(0)=="/"?Bo:Ap,!0))),(F=this.i.toString())&&m.push("?",F),(F=this.m)&&m.push("#",Mo(F,sc)),m.join("")};function as(m){return new xr(m)}function il(m,P,F){m.j=F?ol(P,!0):P,m.j&&(m.j=m.j.replace(/:$/,""))}function rc(m,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);m.s=P}else m.s=null}function qu(m,P,F){P instanceof va?(m.i=P,Cp(m.i,m.h)):(F||(P=Mo(P,ic)),m.i=new va(P,m.h))}function Cn(m,P,F){m.i.set(P,F)}function sl(m){return Cn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ol(m,P){return m?P?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Mo(m,P,F){return typeof m=="string"?(m=encodeURI(m).replace(P,bp),F&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function bp(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var _f=/[#\/\?@]/g,Ap=/[#\?:]/g,Bo=/[#\?]/g,ic=/[#\?@]/g,sc=/#/g;function va(m,P){this.h=this.g=null,this.i=m||null,this.j=!!P}function nr(m){m.g||(m.g=new Map,m.h=0,m.i&&nc(m.i,function(P,F){m.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}n=va.prototype,n.add=function(m,P){nr(this),this.i=null,m=ya(this,m);var F=this.g.get(m);return F||this.g.set(m,F=[]),F.push(P),this.h+=1,this};function wf(m,P){nr(m),P=ya(m,P),m.g.has(P)&&(m.i=null,m.h-=m.g.get(P).length,m.g.delete(P))}function $u(m,P){return nr(m),P=ya(m,P),m.g.has(P)}n.forEach=function(m,P){nr(this),this.g.forEach(function(F,X){F.forEach(function(Se){m.call(P,Se,X,this)},this)},this)},n.na=function(){nr(this);const m=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let X=0;X<P.length;X++){const Se=m[X];for(let De=0;De<Se.length;De++)F.push(P[X])}return F},n.V=function(m){nr(this);let P=[];if(typeof m=="string")$u(this,m)&&(P=P.concat(this.g.get(ya(this,m))));else{m=Array.from(this.g.values());for(let F=0;F<m.length;F++)P=P.concat(m[F])}return P},n.set=function(m,P){return nr(this),this.i=null,m=ya(this,m),$u(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[P]),this.h+=1,this},n.get=function(m,P){return m?(m=this.V(m),0<m.length?String(m[0]):P):P};function jt(m,P,F){wf(m,P),0<F.length&&(m.i=null,m.g.set(ya(m,P),g(F)),m.h+=F.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var X=P[F];const De=encodeURIComponent(String(X)),Ze=this.V(X);for(X=0;X<Ze.length;X++){var Se=De;Ze[X]!==""&&(Se+="="+encodeURIComponent(String(Ze[X]))),m.push(Se)}}return this.i=m.join("&")};function ya(m,P){return P=String(P),m.j&&(P=P.toLowerCase()),P}function Cp(m,P){P&&!m.j&&(nr(m),m.i=null,m.g.forEach(function(F,X){var Se=X.toLowerCase();X!=Se&&(wf(this,X),jt(this,Se,F))},m)),m.j=P}function mo(m,P){const F=new wr;if(a.Image){const X=new Image;X.onload=f(qs,F,"TestLoadImage: loaded",!0,P,X),X.onerror=f(qs,F,"TestLoadImage: error",!1,P,X),X.onabort=f(qs,F,"TestLoadImage: abort",!1,P,X),X.ontimeout=f(qs,F,"TestLoadImage: timeout",!1,P,X),a.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else P(!1)}function xf(m,P){const F=new wr,X=new AbortController,Se=setTimeout(()=>{X.abort(),qs(F,"TestPingServer: timeout",!1,P)},1e4);fetch(m,{signal:X.signal}).then(De=>{clearTimeout(Se),De.ok?qs(F,"TestPingServer: ok",!0,P):qs(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(Se),qs(F,"TestPingServer: error",!1,P)})}function qs(m,P,F,X,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),X(F)}catch{}}function oc(){this.g=new xs}function Yu(m,P,F){const X=F||"";try{yf(m,function(Se,De){let Ze=Se;c(Se)&&(Ze=hn(Se)),P.push(X+De+"="+encodeURIComponent(Ze))})}catch(Se){throw P.push(X+"type="+encodeURIComponent("_badmap")),Se}}function ac(m){this.l=m.Ub||null,this.j=m.eb||!1}v(ac,rn),ac.prototype.g=function(){return new lc(this.l,this.j)},ac.prototype.i=function(m){return function(){return m}}({});function lc(m,P){It.call(this),this.D=m,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(lc,It),n=lc.prototype,n.open=function(m,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=P,this.readyState=1,$s(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(P.body=m),(this.D||a).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,$s(this)),this.g&&(this.readyState=3,$s(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ef(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ef(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var P=m.value?m.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!m.done}))&&(this.response=this.responseText+=P)}m.done?jo(this):$s(this),this.readyState==3&&Ef(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,jo(this))},n.Qa=function(m){this.g&&(this.response=m,jo(this))},n.ga=function(){this.g&&jo(this)};function jo(m){m.readyState=4,m.l=null,m.j=null,m.v=null,$s(m)}n.setRequestHeader=function(m,P){this.u.append(m,P)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,m.push(F[0]+": "+F[1]),F=P.next();return m.join(`\r
`)};function $s(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Uo(m){let P="";return V(m,function(F,X){P+=X,P+=":",P+=F,P+=`\r
`}),P}function Gu(m,P,F){e:{for(X in F){var X=!1;break e}X=!0}X||(F=Uo(F),typeof m=="string"?F!=null&&encodeURIComponent(String(F)):Cn(m,P,F))}function bn(m){It.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(bn,It);var Ku=/^https?$/i,cc=["POST","PUT"];n=bn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,P,F,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);P=P?P.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ue.g(),this.v=this.o?Ws(this.o):Ws(ue),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(m),!0),this.B=!1}catch(De){Qu(this,De);return}if(m=F||"",F=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var Se in X)F.set(Se,X[Se]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const De of X.keys())F.set(De,X.get(De));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(F.keys()).find(De=>De.toLowerCase()=="content-type"),Se=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cc,P,void 0))||X||Se||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Ze]of F)this.g.setRequestHeader(De,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(m),this.u=!1}catch(De){Qu(this,De)}};function Qu(m,P){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=P,m.m=5,Xu(m),al(m)}function Xu(m){m.A||(m.A=!0,Dt(m,"complete"),Dt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Dt(this,"complete"),Dt(this,"abort"),al(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),al(this,!0)),bn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ju(this):this.bb())},n.bb=function(){Ju(this)};function Ju(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Qr(m)!=4||m.Z()!=2)){if(m.u&&Qr(m)==4)Rt(m.Ea,0,m);else if(Dt(m,"readystatechange"),Qr(m)==4){m.h=!1;try{const Ze=m.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var X;if(X=Ze===0){var Se=String(m.D).match(Ts)[1]||null;!Se&&a.self&&a.self.location&&(Se=a.self.location.protocol.slice(0,-1)),X=!Ku.test(Se?Se.toLowerCase():"")}F=X}if(F)Dt(m,"complete"),Dt(m,"success");else{m.m=6;try{var De=2<Qr(m)?m.g.statusText:""}catch{De=""}m.l=De+" ["+m.Z()+"]",Xu(m)}}finally{al(m)}}}}function al(m,P){if(m.g){Ys(m);const F=m.g,X=m.v[0]?()=>{}:null;m.g=null,m.v=null,P||Dt(m,"ready");try{F.onreadystatechange=X}catch{}}}function Ys(m){m.I&&(a.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Qr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var P=this.g.responseText;return m&&P.indexOf(m)==0&&(P=P.substring(m.length)),Vn(P)}};function Sf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function _a(m){const P={};m=(m.g&&2<=Qr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(w(m[X]))continue;var F=A(m[X]);const Se=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const De=P[Se]||[];P[Se]=De,De.push(F)}T(P,function(X){return X.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(m,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[m]||P}function uc(m){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xi("baseRetryDelayMs",5e3,m),this.cb=xi("retryDelaySeedMs",1e4,m),this.Wa=xi("forwardChannelMaxRetries",2,m),this.wa=xi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Hs(m&&m.concurrentRequestLimit),this.Da=new oc,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=uc.prototype,n.la=8,n.G=1,n.connect=function(m,P,F,X){xt(0),this.W=m,this.H=P||{},F&&X!==void 0&&(this.H.OSID=F,this.H.OAID=X),this.F=this.X,this.I=S(this,null,this.W),fc(this)};function Vo(m){if(ll(m),m.G==3){var P=m.U++,F=as(m.I);if(Cn(F,"SID",m.K),Cn(F,"RID",P),Cn(F,"TYPE","terminate"),wa(m,F),P=new Oe(m,m.j,P),P.L=2,P.v=sl(as(F)),F=!1,a.navigator&&a.navigator.sendBeacon)try{F=a.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&a.Image&&(new Image().src=P.v,F=!0),F||(P.g=W(P.j,null),P.g.ea(P.v)),P.F=Date.now(),ft(P)}vc(m)}function hc(m){m.g&&(mc(m),m.g.cancel(),m.g=null)}function ll(m){hc(m),m.u&&(a.clearTimeout(m.u),m.u=null),Wo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function fc(m){if(!Ss(m.h)&&!m.s){m.s=!0;var P=m.Ga;ee||me(),K||(ee(),K=!0),Z.add(P,m),m.B=0}}function Zu(m,P){return zs(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=P.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Br(d(m.Ga,m,P),gc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Se=new Oe(this,this.j,m);let De=this.o;if(this.S&&(De?(De=b(De),L(De,this.S)):De=this.S),this.m!==null||this.O||(Se.H=De,De=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var X=this.i[F];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(P+=X,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=cl(this,Se,P),F=as(this.I),Cn(F,"RID",m),Cn(F,"CVER",22),this.D&&Cn(F,"X-HTTP-Session-Id",this.D),wa(this,F),De&&(this.O?P="headers="+encodeURIComponent(String(Uo(De)))+"&"+P:this.m&&Gu(F,this.m,De)),tr(this.h,Se),this.Ua&&Cn(F,"TYPE","init"),this.P?(Cn(F,"$req",P),Cn(F,"SID","null"),Se.T=!0,Xe(Se,F,null)):Xe(Se,F,P),this.G=2}}else this.G==3&&(m?dc(this,m):this.i.length==0||Ss(this.h)||dc(this))};function dc(m,P){var F;P?F=P.l:F=m.U++;const X=as(m.I);Cn(X,"SID",m.K),Cn(X,"RID",F),Cn(X,"AID",m.T),wa(m,X),m.m&&m.o&&Gu(X,m.m,m.o),F=new Oe(m,m.j,F,m.B+1),m.m===null&&(F.H=m.o),P&&(m.i=P.D.concat(m.i)),P=cl(m,F,1e3),F.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),tr(m.h,F),Xe(F,X,P)}function wa(m,P){m.H&&V(m.H,function(F,X){Cn(P,X,F)}),m.l&&yf({},function(F,X){Cn(P,X,F)})}function cl(m,P,F){F=Math.min(m.i.length,F);var X=m.l?d(m.l.Na,m.l,m):null;e:{var Se=m.i;let De=-1;for(;;){const Ze=["count="+F];De==-1?0<F?(De=Se[0].g,Ze.push("ofs="+De)):De=0:Ze.push("ofs="+De);let Ht=!0;for(let on=0;on<F;on++){let zt=Se[on].g;const An=Se[on].map;if(zt-=De,0>zt)De=Math.max(0,Se[on].g-100),Ht=!1;else try{Yu(An,Ze,"req"+zt+"_")}catch{X&&X(An)}}if(Ht){X=Ze.join("&");break e}}}return m=m.i.splice(0,F),P.D=m,X}function pc(m){if(!m.g&&!m.u){m.Y=1;var P=m.Fa;ee||me(),K||(ee(),K=!0),Z.add(P,m),m.v=0}}function ul(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Br(d(m.Fa,m),gc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Br(d(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),hc(this),Tf(this))};function mc(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Tf(m){m.g=new Oe(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var P=as(m.qa);Cn(P,"RID","rpc"),Cn(P,"SID",m.K),Cn(P,"AID",m.T),Cn(P,"CI",m.F?"0":"1"),!m.F&&m.ja&&Cn(P,"TO",m.ja),Cn(P,"TYPE","xmlhttp"),wa(m,P),m.m&&m.o&&Gu(P,m.m,m.o),m.L&&(m.g.I=m.L);var F=m.g;m=m.ia,F.L=1,F.v=sl(as(P)),F.m=null,F.P=!0,st(F,m)}n.Za=function(){this.C!=null&&(this.C=null,hc(this),ul(this),xt(19))};function Wo(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function xa(m,P){var F=null;if(m.g==P){Wo(m),mc(m),m.g=null;var X=2}else if(wi(m.h,P))F=P.D,Wu(m.h,P),X=1;else return;if(m.G!=0){if(P.o)if(X==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var Se=m.B;X=Es(),Dt(X,new ji(X,F)),fc(m)}else pc(m);else if(Se=P.s,Se==3||Se==0&&0<P.X||!(X==1&&Zu(m,P)||X==2&&ul(m)))switch(F&&0<F.length&&(P=m.h,P.i=P.i.concat(F)),Se){case 1:Ui(m,5);break;case 4:Ui(m,10);break;case 3:Ui(m,6);break;default:Ui(m,2)}}}function gc(m,P){let F=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(F*=2),F*P}function Ui(m,P){if(m.j.info("Error code "+P),P==2){var F=d(m.fb,m),X=m.Xa;const Se=!X;X=new xr(X||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||il(X,"https"),sl(X),Se?mo(X.toString(),F):xf(X.toString(),F)}else xt(2);m.G=0,m.l&&m.l.sa(P),vc(m),ll(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function vc(m){if(m.G=0,m.ka=[],m.l){const P=Hu(m.h);(P.length!=0||m.i.length!=0)&&(E(m.ka,P),E(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function S(m,P,F){var X=F instanceof xr?as(F):new xr(F);if(X.g!="")P&&(X.g=P+"."+X.g),rc(X,X.s);else{var Se=a.location;X=Se.protocol,P=P?P+"."+Se.hostname:Se.hostname,Se=+Se.port;var De=new xr(null);X&&il(De,X),P&&(De.g=P),Se&&rc(De,Se),F&&(De.l=F),X=De}return F=m.D,P=m.ya,F&&P&&Cn(X,F,P),Cn(X,"VER",m.la),wa(m,X),X}function W(m,P,F){if(P&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=m.Ca&&!m.pa?new bn(new ac({eb:F})):new bn(m.pa),P.Ha(m.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fe(){}n=fe.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ye(){}ye.prototype.g=function(m,P){return new Te(m,P)};function Te(m,P){It.call(this),this.g=new uc(P),this.l=m,this.h=P&&P.messageUrlParams||null,m=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(m?m["X-WebChannel-Content-Type"]=P.messageContentType:m={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(m?m["X-WebChannel-Client-Profile"]=P.va:m={"X-WebChannel-Client-Profile":P.va}),this.g.S=m,(m=P&&P.Sb)&&!w(m)&&(this.g.m=m),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!w(P)&&(this.g.D=P,m=this.h,m!==null&&P in m&&(m=this.h,P in m&&delete m[P])),this.j=new pt(this)}v(Te,It),Te.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Te.prototype.close=function(){Vo(this.g)},Te.prototype.o=function(m){var P=this.g;if(typeof m=="string"){var F={};F.__data__=m,m=F}else this.u&&(F={},F.__data__=hn(m),m=F);P.i.push(new Fo(P.Ya++,m)),P.G==3&&fc(P)},Te.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,Te.aa.N.call(this)};function Ue(m){is.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var P=m.__sm__;if(P){e:{for(const F in P){m=F;break e}m=void 0}(this.i=m)&&(m=this.i,P=P!==null&&m in P?P[m]:void 0),this.data=P}else this.data=m}v(Ue,is);function Je(){_n.call(this),this.status=1}v(Je,_n);function pt(m){this.g=m}v(pt,fe),pt.prototype.ua=function(){Dt(this.g,"a")},pt.prototype.ta=function(m){Dt(this.g,new Ue(m))},pt.prototype.sa=function(m){Dt(this.g,new Je)},pt.prototype.ra=function(){Dt(this.g,"b")},ye.prototype.createWebChannel=ye.prototype.g,Te.prototype.send=Te.prototype.o,Te.prototype.open=Te.prototype.m,Te.prototype.close=Te.prototype.close,OP=function(){return new ye},LP=function(){return Es()},RP=Pt,e5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,Z1=se,le.COMPLETE="complete",DP=le,Wn.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",It.prototype.listen=It.prototype.K,p0=Wn,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,PP=bn}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});const wA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new my("@firebase/firestore");function Qp(){return jh.logLevel}function Ct(n,...e){if(jh.logLevel<=ln.DEBUG){const t=e.map(cS);jh.debug(`Firestore (${dp}): ${n}`,...t)}}function zl(n,...e){if(jh.logLevel<=ln.ERROR){const t=e.map(cS);jh.error(`Firestore (${dp}): ${n}`,...t)}}function Hd(n,...e){if(jh.logLevel<=ln.WARN){const t=e.map(cS);jh.warn(`Firestore (${dp}): ${n}`,...t)}}function cS(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(n="Unexpected state"){const e=`FIRESTORE (${dp}) INTERNAL ASSERTION FAILED: `+n;throw zl(e),new Error(e)}function Bn(n,e){n||Wt()}function Yt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ec{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gi.UNAUTHENTICATED))}shutdown(){}}class PB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DB{constructor(e){this.t=e,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pl)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bn(typeof r.accessToken=="string"),new FP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bn(e===null||typeof e=="string"),new Gi(e)}}class RB{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Gi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LB{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new RB(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Bn(this.o===void 0);const r=s=>{s.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ct("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bn(typeof t.token=="string"),this.R=t.token,new OB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function yn(n,e){return n<e?-1:n>e?1:0}function zd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ni(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new ni(0,0))}static max(){return new $t(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t,r){t===void 0?t=0:t>e.length&&Wt(),r===void 0?r=e.length-t:r>e.length-t&&Wt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ym.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ym?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jn extends ym{construct(e,t,r){return new Jn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jn(t)}static emptyPath(){return new Jn([])}}const BB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends ym{construct(e,t,r){return new Ii(e,t,r)}static isValidIdentifier(e){return BB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ii(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new yt(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new yt(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new yt(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new yt(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(t)}static emptyPath(){return new Ii([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(Jn.fromString(e))}static fromName(e){return new Nt(Jn.fromString(e).popFirst(5))}static empty(){return new Nt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Jn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new Jn(e.slice()))}}function jB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=$t.fromTimestamp(r===1e9?new ni(t+1,0):new ni(t,r));return new yu(i,Nt.empty(),e)}function UB(n){return new yu(n.readTime,n.key,-1)}class yu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yu($t.min(),Nt.empty(),-1)}static max(){return new yu($t.max(),Nt.empty(),-1)}}function VB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Nt.comparator(n.documentKey,e.documentKey),t!==0?t:yn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(n){if(n.code!==He.FAILED_PRECONDITION||n.message!==WB)throw n;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,r)=>{t(e)})}static reject(e){return new et((t,r)=>{r(e)})}static waitFor(e){return new et((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=et.resolve(!1);for(const r of e)t=t.next(i=>i?et.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new et((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new et((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function zB(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ig(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}uS.oe=-1;function vy(n){return n==null}function $v(n){return n===0&&1/n==-1/0}function qB(n){return typeof n=="number"&&Number.isInteger(n)&&!$v(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr=class t5{constructor(e,t){this.comparator=e,this.root=t||lu.EMPTY}insert(e,t){return new t5(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lu.BLACK,null,null))}remove(e){return new t5(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g1(this.root,e,this.comparator,!1)}getReverseIterator(){return new g1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g1(this.root,e,this.comparator,!0)}},g1=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lu=class _l{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??_l.RED,this.left=i??_l.EMPTY,this.right=s??_l.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new _l(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _l.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return _l.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_l.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}};lu.EMPTY=null,lu.RED=!0,lu.BLACK=!1;lu.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new lu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EA(this.data.getIterator())}getIteratorFrom(e){return new EA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ri(this.comparator);return t.data=e,t}}class EA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new io([])}unionWith(e){let t=new Ri(Ii.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jP("Invalid base64 string: "+s):s}}(e);return new Mi(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const $B=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(n){if(Bn(!!n),typeof n=="string"){let e=0;const t=$B.exec(n);if(Bn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Uh(n){return typeof n=="string"?Mi.fromBase64String(n):Mi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function hS(n){const e=n.mapValue.fields.__previous_value__;return yy(e)?hS(e):e}function _m(n){const e=_u(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class wm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:KB(n)?9007199254740991:GB(n)?10:11:Wt()}function Ka(n,e){if(n===e)return!0;const t=Vh(n);if(t!==Vh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _m(n).isEqual(_m(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_u(i.timestampValue),a=_u(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Uh(i.bytesValue).isEqual(Uh(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Nr(i.geoPointValue.latitude)===Nr(s.geoPointValue.latitude)&&Nr(i.geoPointValue.longitude)===Nr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nr(i.integerValue)===Nr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Nr(i.doubleValue),a=Nr(s.doubleValue);return o===a?$v(o)===$v(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return zd(n.arrayValue.values||[],e.arrayValue.values||[],Ka);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xA(o)!==xA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ka(o[l],a[l])))return!1;return!0}(n,e);default:return Wt()}}function xm(n,e){return(n.values||[]).find(t=>Ka(t,e))!==void 0}function qd(n,e){if(n===e)return 0;const t=Vh(n),r=Vh(e);if(t!==r)return yn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Nr(s.integerValue||s.doubleValue),l=Nr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return SA(n.timestampValue,e.timestampValue);case 4:return SA(_m(n),_m(e));case 5:return yn(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Uh(s),l=Uh(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=yn(a[c],l[c]);if(u!==0)return u}return yn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=yn(Nr(s.latitude),Nr(o.latitude));return a!==0?a:yn(Nr(s.longitude),Nr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return TA(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},d=o.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=yn(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:TA(f,v)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===v1.mapValue&&o===v1.mapValue)return 0;if(s===v1.mapValue)return 1;if(o===v1.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=yn(l[h],u[h]);if(d!==0)return d;const f=qd(a[l[h]],c[u[h]]);if(f!==0)return f}return yn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Wt()}}function SA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yn(n,e);const t=_u(n),r=_u(e),i=yn(t.seconds,r.seconds);return i!==0?i:yn(t.nanos,r.nanos)}function TA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=qd(t[i],r[i]);if(s)return s}return yn(t.length,r.length)}function $d(n){return n5(n)}function n5(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=_u(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Uh(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Nt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=n5(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${n5(t.fields[o])}`;return i+"}"}(n.mapValue):Wt()}function Yv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function r5(n){return!!n&&"integerValue"in n}function fS(n){return!!n&&"arrayValue"in n}function bA(n){return!!n&&"nullValue"in n}function AA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ev(n){return!!n&&"mapValue"in n}function GB(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function P0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=P0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=P0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KB(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.value=e}static empty(){return new Ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ev(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=P0(t)}setAll(e){let t=Ii.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=P0(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());ev(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ev(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rf(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ns(P0(this.value))}}function UP(n){const e=[];return rf(n.fields,(t,r)=>{const i=new Ii([t]);if(ev(r)){const s=UP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new io(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qi(e,0,$t.min(),$t.min(),$t.min(),Ns.empty(),0)}static newFoundDocument(e,t,r,i){return new Qi(e,1,t,$t.min(),r,i,0)}static newNoDocument(e,t){return new Qi(e,2,t,$t.min(),$t.min(),Ns.empty(),0)}static newUnknownDocument(e,t){return new Qi(e,3,t,$t.min(),$t.min(),Ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.position=e,this.inclusive=t}}function CA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Nt.comparator(Nt.fromName(o.referenceValue),t.key):r=qd(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ka(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t="asc"){this.field=e,this.dir=t}}function QB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class qr extends VP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new JB(e,t,r):t==="array-contains"?new tj(e,r):t==="in"?new nj(e,r):t==="not-in"?new rj(e,r):t==="array-contains-any"?new ij(e,r):new qr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ZB(e,r):new ej(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qd(t,this.value)):t!==null&&Vh(this.value)===Vh(t)&&this.matchesComparison(qd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends VP{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ha(e,t)}matches(e){return WP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WP(n){return n.op==="and"}function HP(n){return XB(n)&&WP(n)}function XB(n){for(const e of n.filters)if(e instanceof ha)return!1;return!0}function i5(n){if(n instanceof qr)return n.field.canonicalString()+n.op.toString()+$d(n.value);if(HP(n))return n.filters.map(e=>i5(e)).join(",");{const e=n.filters.map(t=>i5(t)).join(",");return`${n.op}(${e})`}}function zP(n,e){return n instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.field.isEqual(i.field)&&Ka(r.value,i.value)}(n,e):n instanceof ha?function(r,i){return i instanceof ha&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zP(o,i.filters[a]),!0):!1}(n,e):void Wt()}function qP(n){return n instanceof qr?function(t){return`${t.field.canonicalString()} ${t.op} ${$d(t.value)}`}(n):n instanceof ha?function(t){return t.op.toString()+" {"+t.getFilters().map(qP).join(" ,")+"}"}(n):"Filter"}class JB extends qr{constructor(e,t,r){super(e,t,r),this.key=Nt.fromName(r.referenceValue)}matches(e){const t=Nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZB extends qr{constructor(e,t){super(e,"in",t),this.keys=$P("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ej extends qr{constructor(e,t){super(e,"not-in",t),this.keys=$P("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $P(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Nt.fromName(r.referenceValue))}class tj extends qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fS(t)&&xm(t.arrayValue,this.value)}}class nj extends qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xm(this.value.arrayValue,t)}}class rj extends qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xm(this.value.arrayValue,t)}}class ij extends qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function IA(n,e=null,t=[],r=[],i=null,s=null,o=null){return new sj(n,e,t,r,i,s,o)}function dS(n){const e=Yt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>i5(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$d(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$d(r)).join(",")),e.ue=t}return e.ue}function pS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kA(n.startAt,e.startAt)&&kA(n.endAt,e.endAt)}function s5(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oj(n,e,t,r,i,s,o,a){return new sf(n,e,t,r,i,s,o,a)}function _y(n){return new sf(n)}function NA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mS(n){return n.collectionGroup!==null}function wd(n){const e=Yt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ri(Ii.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Em(s,r))}),t.has(Ii.keyField().canonicalString())||e.ce.push(new Em(Ii.keyField(),r))}return e.ce}function Ua(n){const e=Yt(n);return e.le||(e.le=aj(e,wd(n))),e.le}function aj(n,e){if(n.limitType==="F")return IA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Em(i.field,s)});const t=n.endAt?new Yd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yd(n.startAt.position,n.startAt.inclusive):null;return IA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function o5(n,e){const t=n.filters.concat([e]);return new sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gv(n,e,t){return new sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wy(n,e){return pS(Ua(n),Ua(e))&&n.limitType===e.limitType}function YP(n){return`${dS(Ua(n))}|lt:${n.limitType}`}function $f(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qP(i)).join(", ")}]`),vy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$d(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$d(i)).join(",")),`Target(${r})`}(Ua(n))}; limitType=${n.limitType})`}function xy(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Nt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of wd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=CA(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,wd(r),i)||r.endAt&&!function(o,a,l){const c=CA(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,wd(r),i))}(n,e)}function lj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GP(n){return(e,t)=>{let r=!1;for(const i of wd(n)){const s=cj(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cj(n,e,t){const r=n.field.isKeyField()?Nt.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?qd(l,c):Wt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rf(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new Yr(Nt.comparator);function ql(){return uj}const KP=new Yr(Nt.comparator);function m0(...n){let e=KP;for(const t of n)e=e.insert(t.key,t);return e}function QP(n){let e=KP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vh(){return D0()}function XP(){return D0()}function D0(){return new pp(n=>n.toString(),(n,e)=>n.isEqual(e))}const hj=new Yr(Nt.comparator),fj=new Ri(Nt.comparator);function cn(...n){let e=fj;for(const t of n)e=e.add(t);return e}const dj=new Ri(yn);function pj(){return dj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$v(e)?"-0":e}}function JP(n){return{integerValue:""+n}}function mj(n,e){return qB(e)?JP(e):gS(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this._=void 0}}function gj(n,e,t){return n instanceof Kv?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yy(s)&&(s=hS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Sm?eD(n,e):n instanceof Tm?tD(n,e):function(i,s){const o=ZP(i,s),a=PA(o)+PA(i.Pe);return r5(o)&&r5(i.Pe)?JP(a):gS(i.serializer,a)}(n,e)}function vj(n,e,t){return n instanceof Sm?eD(n,e):n instanceof Tm?tD(n,e):t}function ZP(n,e){return n instanceof Qv?function(r){return r5(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kv extends Ey{}class Sm extends Ey{constructor(e){super(),this.elements=e}}function eD(n,e){const t=nD(e);for(const r of n.elements)t.some(i=>Ka(i,r))||t.push(r);return{arrayValue:{values:t}}}class Tm extends Ey{constructor(e){super(),this.elements=e}}function tD(n,e){let t=nD(e);for(const r of n.elements)t=t.filter(i=>!Ka(i,r));return{arrayValue:{values:t}}}class Qv extends Ey{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function PA(n){return Nr(n.integerValue||n.doubleValue)}function nD(n){return fS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Sm&&i instanceof Sm||r instanceof Tm&&i instanceof Tm?zd(r.elements,i.elements,Ka):r instanceof Qv&&i instanceof Qv?Ka(r.Pe,i.Pe):r instanceof Kv&&i instanceof Kv}(n.transform,e.transform)}class _j{constructor(e,t){this.version=e,this.transformResults=t}}class aa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new aa}static exists(e){return new aa(void 0,e)}static updateTime(e){return new aa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sy{}function rD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vS(n.key,aa.none()):new sg(n.key,n.data,aa.none());{const t=n.data,r=Ns.empty();let i=new Ri(Ii.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fu(n.key,r,new io(i.toArray()),aa.none())}}function wj(n,e,t){n instanceof sg?function(i,s,o){const a=i.value.clone(),l=RA(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Fu?function(i,s,o){if(!tv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=RA(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(iD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function R0(n,e,t,r){return n instanceof sg?function(s,o,a,l){if(!tv(s.precondition,o))return a;const c=s.value.clone(),u=LA(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fu?function(s,o,a,l){if(!tv(s.precondition,o))return a;const c=LA(s.fieldTransforms,l,o),u=o.data;return u.setAll(iD(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return tv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function xj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=ZP(r.transform,i||null);s!=null&&(t===null&&(t=Ns.empty()),t.set(r.field,s))}return t||null}function DA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zd(r,i,(s,o)=>yj(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sg extends Sy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fu extends Sy{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RA(n,e,t){const r=new Map;Bn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vj(o,a,t[i]))}return r}function LA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,gj(s,o,e))}return r}class vS extends Sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ej extends Sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wj(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=R0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=R0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=rD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&zd(this.mutations,e.mutations,(t,r)=>DA(t,r))&&zd(this.baseMutations,e.baseMutations,(t,r)=>DA(t,r))}}class yS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Bn(e.mutations.length===r.length);let i=function(){return hj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yS(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,pn;function Aj(n){switch(n){default:return Wt();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0}}function sD(n){if(n===void 0)return zl("GRPC error has no .code"),He.UNKNOWN;switch(n){case Wr.OK:return He.OK;case Wr.CANCELLED:return He.CANCELLED;case Wr.UNKNOWN:return He.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return He.INTERNAL;case Wr.UNAVAILABLE:return He.UNAVAILABLE;case Wr.UNAUTHENTICATED:return He.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case Wr.NOT_FOUND:return He.NOT_FOUND;case Wr.ALREADY_EXISTS:return He.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return He.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case Wr.ABORTED:return He.ABORTED;case Wr.OUT_OF_RANGE:return He.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return He.UNIMPLEMENTED;case Wr.DATA_LOSS:return He.DATA_LOSS;default:return Wt()}}(pn=Wr||(Wr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new Th([4294967295,4294967295],0);function OA(n){const e=Cj().encode(n),t=new NP;return t.update(e),new Uint8Array(t.digest())}function FA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Th([t,r],0),new Th([i,s],0)]}class _S{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new g0(`Invalid padding: ${t}`);if(r<0)throw new g0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new g0(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new g0(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Th.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Th.fromNumber(r)));return i.compare(kj)===1&&(i=new Th([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=OA(e),[r,i]=FA(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _S(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=OA(e),[r,i]=FA(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class g0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,og.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ty($t.min(),i,new Yr(yn),ql(),cn())}}class og{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new og(r,t,cn(),cn(),cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class oD{constructor(e,t){this.targetId=e,this.me=t}}class aD{constructor(e,t,r=Mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class MA{constructor(){this.fe=0,this.ge=jA(),this.pe=Mi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=cn(),t=cn(),r=cn();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Wt()}}),new og(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=jA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ij{constructor(e){this.Le=e,this.Be=new Map,this.ke=ql(),this.qe=BA(),this.Qe=new Yr(yn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(s5(s))if(r===0){const o=new Nt(s.path);this.Ue(t,o,Qi.newNoDocument(o,$t.min()))}else Bn(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Uh(r).toUint8Array()}catch(l){if(l instanceof jP)return Hd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _S(o,i,s)}catch(l){return Hd(l instanceof g0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&s5(a.target)){const l=new Nt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Qi.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=cn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ty(e,t,this.Qe,this.ke,r);return this.ke=ql(),this.qe=BA(),this.Qe=new Yr(yn),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new MA,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ri(yn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Ct("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new MA),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function BA(){return new Yr(Nt.comparator)}function jA(){return new Yr(Nt.comparator)}const Nj={asc:"ASCENDING",desc:"DESCENDING"},Pj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dj={and:"AND",or:"OR"};class Rj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function a5(n,e){return n.useProto3Json||vy(e)?e:{value:e}}function Xv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lj(n,e){return Xv(n,e.toTimestamp())}function Va(n){return Bn(!!n),$t.fromTimestamp(function(t){const r=_u(t);return new ni(r.seconds,r.nanos)}(n))}function wS(n,e){return l5(n,e).canonicalString()}function l5(n,e){const t=function(i){return new Jn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cD(n){const e=Jn.fromString(n);return Bn(pD(e)),e}function c5(n,e){return wS(n.databaseId,e.path)}function pw(n,e){const t=cD(e);if(t.get(1)!==n.databaseId.projectId)throw new yt(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new yt(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Nt(hD(t))}function uD(n,e){return wS(n.databaseId,e)}function Oj(n){const e=cD(n);return e.length===4?Jn.emptyPath():hD(e)}function u5(n){return new Jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hD(n){return Bn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function UA(n,e,t){return{name:c5(n,e),fields:t.value.mapValue.fields}}function Fj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Wt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Bn(u===void 0||typeof u=="string"),Mi.fromBase64String(u||"")):(Bn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Mi.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?He.UNKNOWN:sD(c.code);return new yt(u,c.message||"")}(o);t=new aD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pw(n,r.document.name),s=Va(r.document.updateTime),o=r.document.createTime?Va(r.document.createTime):$t.min(),a=new Ns({mapValue:{fields:r.document.fields}}),l=Qi.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new nv(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pw(n,r.document),s=r.readTime?Va(r.readTime):$t.min(),o=Qi.newNoDocument(i,s),a=r.removedTargetIds||[];t=new nv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pw(n,r.document),s=r.removedTargetIds||[];t=new nv([],s,i,null)}else{if(!("filter"in e))return Wt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new bj(i,s),a=r.targetId;t=new oD(a,o)}}return t}function Mj(n,e){let t;if(e instanceof sg)t={update:UA(n,e.key,e.value)};else if(e instanceof vS)t={delete:c5(n,e.key)};else if(e instanceof Fu)t={update:UA(n,e.key,e.data),updateMask:$j(e.fieldMask)};else{if(!(e instanceof Ej))return Wt();t={verify:c5(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qv)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Wt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Lj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Wt()}(n,e.precondition)),t}function Bj(n,e){return n&&n.length>0?(Bn(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Va(i.updateTime):Va(s);return o.isEqual($t.min())&&(o=Va(s)),new _j(o,i.transformResults||[])}(t,e))):[]}function jj(n,e){return{documents:[uD(n,e.path)]}}function Uj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uD(n,i);const s=function(c){if(c.length!==0)return dD(ha.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Yf(d.field),direction:Hj(d.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=a5(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function Vj(n){let e=Oj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Bn(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=fD(h);return d instanceof ha&&HP(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(d=>function(v){return new Em(Gf(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(t.orderBy));let a=null;t.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,vy(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Yd(f,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new Yd(f,d)}(t.endAt)),oj(e,i,o,s,a,"F",l,c)}function Wj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Gf(t.unaryFilter.field);return qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gf(t.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gf(t.unaryFilter.field);return qr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gf(t.unaryFilter.field);return qr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}(n):n.fieldFilter!==void 0?function(t){return qr.create(Gf(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ha.create(t.compositeFilter.filters.map(r=>fD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Wt()}}(t.compositeFilter.op))}(n):Wt()}function Hj(n){return Nj[n]}function zj(n){return Pj[n]}function qj(n){return Dj[n]}function Yf(n){return{fieldPath:n.canonicalString()}}function Gf(n){return Ii.fromServerFormat(n.fieldPath)}function dD(n){return n instanceof qr?function(t){if(t.op==="=="){if(AA(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NAN"}};if(bA(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AA(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NAN"}};if(bA(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(t.field),op:zj(t.op),value:t.value}}}(n):n instanceof ha?function(t){const r=t.getFilters().map(i=>dD(i));return r.length===1?r[0]:{compositeFilter:{op:qj(t.op),filters:r}}}(n):Wt()}function $j(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,r,i,s=$t.min(),o=$t.min(),a=Mi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.ct=e}}function Gj(n){const e=Vj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.un=new Qj}addToCollectionParentIndex(e,t){return this.un.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve(yu.min())}getMinOffsetFromCollectionGroup(e,t){return et.resolve(yu.min())}updateCollectionGroup(e,t,r){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class Qj{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ri(Jn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ri(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gd(0)}static kn(){return new Gd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.changes=new pp(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?et.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&R0(r.mutation,i,io.empty(),ni.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){const i=vh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=m0();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=vh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=ql();const o=D0(),a=function(){return D0()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Fu)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),R0(u.mutation,c,u.mutation.getFieldMask(),ni.now())):o.set(c.key,io.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new Jj(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=D0();let i=new Yr((o,a)=>o-a),s=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||io.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||cn()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=XP();u.forEach(d=>{if(!s.has(d)){const f=rD(t.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return et.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):et.resolve(vh());let a=-1,l=s;return o.next(c=>et.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?et.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,cn())).next(u=>({batchId:a,changes:QP(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nt(t)).next(r=>{let i=m0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=m0();return this.indexManager.getCollectionParents(e,s).next(a=>et.forEach(a,l=>{const c=function(h,d){return new sf(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Qi.newInvalidDocument(u)))});let a=m0();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&R0(u.mutation,c,io.empty(),ni.now()),xy(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return et.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Va(i.createTime)}}(t)),et.resolve()}getNamedQuery(e,t){return et.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:Gj(i.bundledQuery),readTime:Va(i.readTime)}}(t)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this.overlays=new Yr(Nt.comparator),this.Ir=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vh();return et.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),et.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),et.resolve()}getOverlaysForCollection(e,t,r){const i=vh(),s=t.length+1,o=new Nt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return et.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Yr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=vh(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=vh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return et.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Tj(t,r));let s=this.Ir.get(t);s===void 0&&(s=cn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Tr=new Ri(ai.Er),this.dr=new Ri(ai.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new ai(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ai(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Nt(new Jn([])),r=new ai(t,e),i=new ai(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Nt(new Jn([])),r=new ai(t,e),i=new ai(t,e+1);let s=cn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new ai(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ai{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Nt.comparator(e.key,t.key)||yn(e.wr,t.wr)}static Ar(e,t){return yn(e.wr,t.wr)||Nt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ri(ai.Er)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Sj(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ai(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return et.resolve(o)}lookupMutationBatch(e,t){return et.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),s=i<0?0:i;return et.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ai(t,0),i=new ai(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),et.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ri(yn);return t.forEach(i=>{const s=new ai(i,0),o=new ai(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),et.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Nt.isDocumentKey(s)||(s=s.child(""));const o=new ai(new Nt(s),0);let a=new Ri(yn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),et.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Bn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return et.forEach(t.mutations,i=>{const s=new ai(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new ai(t,0),i=this.br.firstAfterOrEqual(r);return et.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.Mr=e,this.docs=function(){return new Yr(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return et.resolve(r?r.document.mutableCopy():Qi.newInvalidDocument(t))}getEntries(e,t){let r=ql();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qi.newInvalidDocument(i))}),et.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ql();const o=t.path,a=new Nt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||VB(UB(u),r)<=0||(i.has(u.key)||xy(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return et.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Wt()}Or(e,t){return et.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sU(this)}getSize(e){return et.resolve(this.size)}}class sU extends Xj{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),et.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.persistence=e,this.Nr=new pp(t=>dS(t),pS),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xS,this.targetCount=0,this.kr=Gd.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),et.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Gd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.Kn(t),et.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),et.waitFor(s).next(()=>i)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return et.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),et.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),et.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),et.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return et.resolve(r)}containsKey(e,t){return et.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,t){this.qr={},this.overlays={},this.Qr=new uS(0),this.Kr=!1,this.Kr=!0,this.$r=new nU,this.referenceDelegate=e(this),this.Ur=new oU(this),this.indexManager=new Kj,this.remoteDocumentCache=function(i){return new iU(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Yj(t),this.Gr=new eU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new rU(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Ct("MemoryPersistence","Starting transaction:",e);const i=new lU(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return et.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class lU extends HB{constructor(e){super(),this.currentSequenceNumber=e}}class ES{constructor(e){this.persistence=e,this.Jr=new xS,this.Yr=null}static Zr(e){return new ES(e)}get Xr(){if(this.Yr)return this.Yr;throw Wt()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),et.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),et.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,r=>{const i=Nt.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,$t.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return et.or([()=>et.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=cn(),i=cn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new SS(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return l9()?8:zB(ns())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cU;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Qp()<=ln.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",$f(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(Qp()<=ln.DEBUG&&Ct("QueryEngine","Query:",$f(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Qp()<=ln.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",$f(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(t))):et.resolve())}Yi(e,t){if(NA(t))return et.resolve(null);let r=Ua(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Gv(t,null,"F"),r=Ua(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=cn(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,Gv(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return NA(t)||i.isEqual($t.min())?et.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?et.resolve(null):(Qp()<=ln.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$f(t)),this.rs(e,o,t,jB(i,-1)).next(a=>a))})}ts(e,t){let r=new Ri(GP(e));return t.forEach((i,s)=>{xy(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Qp()<=ln.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",$f(t)),this.Ji.getDocumentsMatchingQuery(e,t,yu.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Yr(yn),this._s=new pp(s=>dS(s),pS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function fU(n,e,t,r){return new hU(n,e,t,r)}async function mD(n,e){const t=Yt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=cn();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function dU(n,e){const t=Yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=et.resolve();return d.forEach(v=>{f=f.next(()=>u.getEntry(l,v)).next(g=>{const E=c.docVersions.get(v);Bn(E!==null),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=cn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function gD(n){const e=Yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function pU(n,e){const t=Yt(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(t.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Mi.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(g,E,_){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,f,u)&&a.push(t.Ur.updateTargetData(s,f))});let l=ql(),c=cn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(mU(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual($t.min())){const u=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return et.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}function mU(n,e,t){let r=cn(),i=cn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ql();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual($t.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ct("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function gU(n,e){const t=Yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vU(n,e){const t=Yt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,et.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Yc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function h5(n,e,t){const r=Yt(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ig(o))throw o;Ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function VA(n,e,t){const r=Yt(n);let i=$t.min(),s=cn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Yt(l),d=h._s.get(u);return d!==void 0?et.resolve(h.os.get(d)):h.Ur.getTargetData(c,u)}(r,o,Ua(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:$t.min(),t?s:cn())).next(a=>(yU(r,lj(e),a),{documents:a,Ts:s})))}function yU(n,e,t){let r=n.us.get(e)||$t.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}class WA{constructor(){this.activeTargetIds=pj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _U{constructor(){this.so=new WA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=null;function mw(){return y1===null?y1=function(){return 268435456+Math.round(2147483648*Math.random())}():y1++,"0x"+y1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="WebChannelConnection";class SU extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=mw(),l=this.xo(t,r.toUriEncodedString());Ct("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(u=>(Ct("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw Hd("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){const i=xU[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=mw();return new Promise((o,a)=>{const l=new PP;l.setWithCredentials(!0),l.listenOnce(DP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Z1.NO_ERROR:const u=l.getResponseJson();Ct(Hi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Z1.TIMEOUT:Ct(Hi,`RPC '${e}' ${s} timed out`),a(new yt(He.DEADLINE_EXCEEDED,"Request time out"));break;case Z1.HTTP_ERROR:const h=l.getStatus();if(Ct(Hi,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const v=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(_)>=0?_:He.UNKNOWN}(f.status);a(new yt(v,f.message))}else a(new yt(He.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new yt(He.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{Ct(Hi,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ct(Hi,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=mw(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OP(),a=LP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Ct(Hi,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const v=new EU({Io:E=>{f?Ct(Hi,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(Ct(Hi,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Ct(Hi,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),g=(E,_,w)=>{E.listen(_,x=>{try{w(x)}catch(R){setTimeout(()=>{throw R},0)}})};return g(h,p0.EventType.OPEN,()=>{f||(Ct(Hi,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),g(h,p0.EventType.CLOSE,()=>{f||(f=!0,Ct(Hi,`RPC '${e}' stream ${i} transport closed`),v.So())}),g(h,p0.EventType.ERROR,E=>{f||(f=!0,Hd(Hi,`RPC '${e}' stream ${i} transport errored:`,E),v.So(new yt(He.UNAVAILABLE,"The operation could not be completed")))}),g(h,p0.EventType.MESSAGE,E=>{var _;if(!f){const w=E.data[0];Bn(!!w);const x=w,R=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(R){Ct(Hi,`RPC '${e}' stream ${i} received error:`,R);const B=R.status;let V=function(I){const L=Wr[I];if(L!==void 0)return sD(L)}(B),T=R.message;V===void 0&&(V=He.INTERNAL,T="Unknown error status: "+B+" with message "+R.message),f=!0,v.So(new yt(V,T)),h.close()}else Ct(Hi,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),g(a,RP.STAT_EVENT,E=>{E.stat===e5.PROXY?Ct(Hi,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===e5.NOPROXY&&Ct(Hi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function gw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n){return new Rj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Ct("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vD(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===He.RESOURCE_EXHAUSTED?(zl(t.toString()),zl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new yt(He.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TU extends yD{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=Fj(this.serializer,e),r=function(s){if(!("targetChange"in s))return $t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?$t.min():o.readTime?Va(o.readTime):$t.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=u5(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=s5(l)?{documents:jj(s,l)}:{query:Uj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lD(s,o.resumeToken);const c=a5(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo($t.min())>0){a.readTime=Xv(s,o.snapshotVersion.toTimestamp());const c=a5(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Wj(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=u5(this.serializer),t.removeTarget=e,this.a_(t)}}class bU extends yD{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,Bn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=Bj(e.writeResults,e.commitTime),r=Va(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=u5(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mj(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new yt(He.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,l5(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new yt(He.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,l5(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(He.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class CU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zl(t),this.D_=!1):Ct("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{of(this)&&(Ct("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Yt(l);c.L_.add(4),await ag(c),c.q_.set("Unknown"),c.L_.delete(4),await Ay(c)}(this))})}),this.q_=new CU(r,i)}}async function Ay(n){if(of(n))for(const e of n.B_)await e(!0)}async function ag(n){for(const e of n.B_)await e(!1)}function _D(n,e){const t=Yt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),CS(t)?AS(t):mp(t).r_()&&bS(t,e))}function TS(n,e){const t=Yt(n),r=mp(t);t.N_.delete(e),r.r_()&&wD(t,e),t.N_.size===0&&(r.r_()?r.o_():of(t)&&t.q_.set("Unknown"))}function bS(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mp(n).A_(e)}function wD(n,e){n.Q_.xe(e),mp(n).R_(e)}function AS(n){n.Q_=new Ij({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),mp(n).start(),n.q_.v_()}function CS(n){return of(n)&&!mp(n).n_()&&n.N_.size>0}function of(n){return Yt(n).L_.size===0}function xD(n){n.Q_=void 0}async function IU(n){n.q_.set("Online")}async function NU(n){n.N_.forEach((e,t)=>{bS(n,e)})}async function PU(n,e){xD(n),CS(n)?(n.q_.M_(e),AS(n)):n.q_.set("Unknown")}async function DU(n,e,t){if(n.q_.set("Online"),e instanceof aD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(n,e)}catch(r){Ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jv(n,r)}else if(e instanceof nv?n.Q_.Ke(e):e instanceof oD?n.Q_.He(e):n.Q_.We(e),!t.isEqual($t.min()))try{const r=await gD(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(Mi.EMPTY_BYTE_STRING,u.snapshotVersion)),wD(s,l);const h=new Yc(u.target,l,c,u.sequenceNumber);bS(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Ct("RemoteStore","Failed to raise snapshot:",r),await Jv(n,r)}}async function Jv(n,e,t){if(!ig(e))throw e;n.L_.add(1),await ag(n),n.q_.set("Offline"),t||(t=()=>gD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ct("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Ay(n)})}function ED(n,e){return e().catch(t=>Jv(n,t,e))}async function Cy(n){const e=Yt(n),t=wu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RU(e);)try{const i=await gU(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,LU(e,i)}catch(i){await Jv(e,i)}SD(e)&&TD(e)}function RU(n){return of(n)&&n.O_.length<10}function LU(n,e){n.O_.push(e);const t=wu(n);t.r_()&&t.V_&&t.m_(e.mutations)}function SD(n){return of(n)&&!wu(n).n_()&&n.O_.length>0}function TD(n){wu(n).start()}async function OU(n){wu(n).p_()}async function FU(n){const e=wu(n);for(const t of n.O_)e.m_(t.mutations)}async function MU(n,e,t){const r=n.O_.shift(),i=yS.from(r,e,t);await ED(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Cy(n)}async function BU(n,e){e&&wu(n).V_&&await async function(r,i){if(function(o){return Aj(o)&&o!==He.ABORTED}(i.code)){const s=r.O_.shift();wu(r).s_(),await ED(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Cy(r)}}(n,e),SD(n)&&TD(n)}async function zA(n,e){const t=Yt(n);t.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const r=of(t);t.L_.add(3),await ag(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Ay(t)}async function jU(n,e){const t=Yt(n);e?(t.L_.delete(2),await Ay(t)):e||(t.L_.add(2),await ag(t),t.q_.set("Unknown"))}function mp(n){return n.K_||(n.K_=function(t,r,i){const s=Yt(t);return s.w_(),new TU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:IU.bind(null,n),Ro:NU.bind(null,n),mo:PU.bind(null,n),d_:DU.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),CS(n)?AS(n):n.q_.set("Unknown")):(await n.K_.stop(),xD(n))})),n.K_}function wu(n){return n.U_||(n.U_=function(t,r,i){const s=Yt(t);return s.w_(),new bU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:OU.bind(null,n),mo:BU.bind(null,n),f_:FU.bind(null,n),g_:MU.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Cy(n)):(await n.U_.stop(),n.O_.length>0&&(Ct("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new kS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IS(n,e){if(zl("AsyncQueue",`${e}: ${n}`),ig(n))return new yt(He.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Nt.comparator(t.key,r.key):(t,r)=>Nt.comparator(t.key,r.key),this.keyedMap=m0(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new xd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.W_=new Yr(Nt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Wt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Kd{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Kd(e,t,xd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class VU{constructor(){this.queries=$A(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=Yt(t),s=i.queries;i.queries=$A(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new yt(He.ABORTED,"Firestore shutting down"))}}function $A(){return new pp(n=>YP(n),wy)}async function NS(n,e){const t=Yt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new UU,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=IS(o,`Initialization of query '${$f(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&DS(t)}async function PS(n,e){const t=Yt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function WU(n,e){const t=Yt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&DS(t)}function HU(n,e,t){const r=Yt(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function DS(n){n.Y_.forEach(e=>{e.next()})}var f5,YA;(YA=f5||(f5={})).ea="default",YA.Cache="cache";class RS{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==f5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.key=e}}class AD{constructor(e){this.key=e}}class zU{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=cn(),this.mutatedKeys=cn(),this.Aa=GP(e),this.Ra=new xd(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new qA,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),f=xy(this.query,h)?h:null,v=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;d&&f?d.data.isEqual(f.data)?v!==g&&(r.track({type:3,doc:f}),E=!0):this.ga(d,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),E=!0):d&&!f&&(r.track({type:1,doc:d}),E=!0,(l||c)&&(a=!0)),E&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(f,v){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return g(f)-g(v)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Kd(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=cn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new AD(r))}),this.da.forEach(r=>{e.has(r)||t.push(new bD(r))}),t}ba(e){this.Ta=e.Ts,this.da=cn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Kd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $U{constructor(e){this.key=e,this.va=!1}}class YU{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pp(a=>YP(a),wy),this.Ma=new Map,this.xa=new Set,this.Oa=new Yr(Nt.comparator),this.Na=new Map,this.La=new xS,this.Ba={},this.ka=new Map,this.qa=Gd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function GU(n,e,t=!0){const r=DD(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await CD(r,e,t,!0),i}async function KU(n,e){const t=DD(n);await CD(t,e,!0,!1)}async function CD(n,e,t,r){const i=await vU(n.localStore,Ua(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await QU(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&_D(n.remoteStore,i),a}async function QU(n,e,t,r,i){n.Ka=(h,d,f)=>async function(g,E,_,w){let x=E.view.ma(_);x.ns&&(x=await VA(g.localStore,E.query,!1).then(({documents:T})=>E.view.ma(T,x)));const R=w&&w.targetChanges.get(E.targetId),B=w&&w.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(x,g.isPrimaryClient,R,B);return KA(g,E.targetId,V.wa),V.snapshot}(n,h,d,f);const s=await VA(n.localStore,e,!0),o=new zU(e,s.Ts),a=o.ma(s.documents),l=og.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);KA(n,t,c.wa);const u=new qU(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function XU(n,e,t){const r=Yt(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!wy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await h5(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&TS(r.remoteStore,i.targetId),d5(r,i.targetId)}).catch(rg)):(d5(r,i.targetId),await h5(r.localStore,i.targetId,!0))}async function JU(n,e){const t=Yt(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),TS(t.remoteStore,r.targetId))}async function ZU(n,e,t){const r=oV(n);try{const i=await function(o,a){const l=Yt(o),c=ni.now(),u=a.reduce((f,v)=>f.add(v.key),cn());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=ql(),g=cn();return l.cs.getEntries(f,u).next(E=>{v=E,v.forEach((_,w)=>{w.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,v)).next(E=>{h=E;const _=[];for(const w of a){const x=xj(w,h.get(w.key).overlayedDocument);x!=null&&_.push(new Fu(w.key,x,UP(x.value.mapValue),aa.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,_,a)}).next(E=>{d=E;const _=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,E.batchId,_)})}).then(()=>({batchId:d.batchId,changes:QP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Yr(yn)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),await lg(r,i.changes),await Cy(r.remoteStore)}catch(i){const s=IS(i,"Failed to persist write");t.reject(s)}}async function kD(n,e){const t=Yt(n);try{const r=await pU(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(Bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Bn(o.va):i.removedDocuments.size>0&&(Bn(o.va),o.va=!1))}),await lg(t,r,e)}catch(r){await rg(r)}}function GA(n,e,t){const r=Yt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Yt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.j_)d.Z_(a)&&(c=!0)}),c&&DS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eV(n,e,t){const r=Yt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Yr(Nt.comparator);o=o.insert(s,Qi.newNoDocument(s,$t.min()));const a=cn().add(s),l=new Ty($t.min(),new Map,new Yr(yn),o,a);await kD(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),LS(r)}else await h5(r.localStore,e,!1).then(()=>d5(r,e,t)).catch(rg)}async function tV(n,e){const t=Yt(n),r=e.batch.batchId;try{const i=await dU(t.localStore,e);ND(t,r,null),ID(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lg(t,i)}catch(i){await rg(i)}}async function nV(n,e,t){const r=Yt(n);try{const i=await function(o,a){const l=Yt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Bn(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);ND(r,e,t),ID(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lg(r,i)}catch(i){await rg(i)}}function ID(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function ND(n,e,t){const r=Yt(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function d5(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||PD(n,r)})}function PD(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(TS(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),LS(n))}function KA(n,e,t){for(const r of t)r instanceof bD?(n.La.addReference(r.key,e),rV(n,r)):r instanceof AD?(Ct("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||PD(n,r.key)):Wt()}function rV(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Ct("SyncEngine","New document in limbo: "+t),n.xa.add(r),LS(n))}function LS(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Nt(Jn.fromString(e)),r=n.qa.next();n.Na.set(r,new $U(t)),n.Oa=n.Oa.insert(t,r),_D(n.remoteStore,new Yc(Ua(_y(t.path)),r,"TargetPurposeLimboResolution",uS.oe))}}async function lg(n,e,t){const r=Yt(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=SS.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=Yt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>et.forEach(c,d=>et.forEach(d.$i,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>et.forEach(d.Ui,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!ig(h))throw h;Ct("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.os.get(d),v=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(d,g)}}}(r.localStore,s))}async function iV(n,e){const t=Yt(n);if(!t.currentUser.isEqual(e)){Ct("SyncEngine","User change. New user:",e.toKey());const r=await mD(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new yt(He.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lg(t,r.hs)}}function sV(n,e){const t=Yt(n),r=t.Na.get(e);if(r&&r.va)return cn().add(r.key);{let i=cn();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function DD(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eV.bind(null,e),e.Ca.d_=WU.bind(null,e.eventManager),e.Ca.$a=HU.bind(null,e.eventManager),e}function oV(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nV.bind(null,e),e}class Zv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=by(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return fU(this.persistence,new uU,e.initialUser,this.serializer)}Ga(e){return new aU(ES.Zr,this.serializer)}Wa(e){return new _U}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zv.provider={build:()=>new Zv};class p5{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iV.bind(null,this.syncEngine),await jU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VU}()}createDatastore(e){const t=by(e.databaseInfo.databaseId),r=function(s){return new SU(s)}(e.databaseInfo);return function(s,o,a,l){return new AU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new kU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>GA(this.syncEngine,t,0),function(){return HA.D()?new HA:new wU}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new YU(i,s,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Yt(i);Ct("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ag(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}p5.provider={build:()=>new p5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gi.UNAUTHENTICATED,this.clientId=MP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ct("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ct("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=IS(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vw(n,e){n.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function QA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lV(n);Ct("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zA(e.remoteStore,i)),n._onlineComponents=e}async function lV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ct("FirestoreClient","Using user provided OfflineComponentProvider");try{await vw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===He.FAILED_PRECONDITION||i.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Hd("Error using user provided cache. Falling back to memory cache: "+t),await vw(n,new Zv)}}else Ct("FirestoreClient","Using default OfflineComponentProvider"),await vw(n,new Zv);return n._offlineComponents}async function RD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ct("FirestoreClient","Using user provided OnlineComponentProvider"),await QA(n,n._uninitializedComponentsProvider._online)):(Ct("FirestoreClient","Using default OnlineComponentProvider"),await QA(n,new p5))),n._onlineComponents}function cV(n){return RD(n).then(e=>e.syncEngine)}async function e2(n){const e=await RD(n),t=e.eventManager;return t.onListen=GU.bind(null,e.syncEngine),t.onUnlisten=XU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JU.bind(null,e.syncEngine),t}function uV(n,e,t={}){const r=new Pl;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new OS({next:d=>{u.Za(),o.enqueueAndForget(()=>PS(s,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new yt(He.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new yt(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new RS(_y(a.path),u,{includeMetadataChanges:!0,_a:!0});return NS(s,h)}(await e2(n),n.asyncQueue,e,t,r)),r.promise}function hV(n,e,t={}){const r=new Pl;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new OS({next:d=>{u.Za(),o.enqueueAndForget(()=>PS(s,h)),d.fromCache&&l.source==="server"?c.reject(new yt(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new RS(a,u,{includeMetadataChanges:!0,_a:!0});return NS(s,h)}(await e2(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n,e,t){if(!t)throw new yt(He.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fV(n,e,t,r){if(e===!0&&r===!0)throw new yt(He.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JA(n){if(!Nt.isDocumentKey(n))throw new yt(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZA(n){if(Nt.isDocumentKey(n))throw new yt(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ky(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Wt()}function ao(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new yt(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ky(n);throw new yt(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dV(n,e){if(e<=0)throw new yt(He.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Iy{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NB;switch(r.type){case"firstParty":return new LB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=XA.get(t);r&&(Ct("ComponentProvider","Removing Datastore"),XA.delete(t),r.terminate())}(this),Promise.resolve()}}function pV(n,e,t,r={}){var i;const s=(n=ao(n,Iy))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Gi.MOCK_USER;else{a=xP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new yt(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gi(c)}n._authCredentials=new PB(new FP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class Ji{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class cu extends tl{constructor(e,t,r){super(e,t,_y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new Nt(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function lo(n,e,...t){if(n=lr(n),OD("collection","path",e),n instanceof Iy){const r=Jn.fromString(e,...t);return ZA(r),new cu(n,null,r)}{if(!(n instanceof Ji||n instanceof cu))throw new yt(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jn.fromString(e,...t));return ZA(r),new cu(n.firestore,null,r)}}function Po(n,e,...t){if(n=lr(n),arguments.length===1&&(e=MP.newId()),OD("doc","path",e),n instanceof Iy){const r=Jn.fromString(e,...t);return JA(r),new Ji(n,null,new Nt(r))}{if(!(n instanceof Ji||n instanceof cu))throw new yt(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jn.fromString(e,...t));return JA(r),new Ji(n.firestore,n instanceof cu?n.converter:null,new Nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vD(this,"async_queue_retry"),this.Vu=()=>{const r=gw();r&&Ct("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=gw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=gw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Pl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ig(e))throw e;Ct("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=kS.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Wt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function nC(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class xu extends Iy{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tC(e),this._firestoreClient=void 0,await e}}}function mV(n,e){const t=typeof n=="object"?n:lS(),r=typeof n=="string"?n:"(default)",i=gy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yP("firestore");s&&pV(i,...s)}return i}function Ny(n){if(n._terminated)throw new yt(He.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gV(n),n._firestoreClient}function gV(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new YB(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,LD(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new aV(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qd(Mi.fromBase64String(e))}catch(t){throw new yt(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qd(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new yt(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yt(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yt(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=/^__.*__$/;class yV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new sg(e,this.data,t,this.fieldTransforms)}}class FD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class jS{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new jS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return t2(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(MD(this.Cu)&&vV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _V{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||by(e)}Qu(e,t,r,i=!1){return new jS({Cu:e,methodName:t,qu:r,path:Ii.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dy(n){const e=n._freezeSettings(),t=by(n._databaseId);return new _V(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wV(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);US("Data must be an object, but it was:",o,r);const a=jD(r,o);let l,c;if(s.merge)l=new io(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=m5(e,h,t);if(!o.contains(d))throw new yt(He.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);VD(u,d)||u.push(d)}l=new io(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new yV(new Ns(a),l,c)}class Ry extends FS{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ry}}function xV(n,e,t,r){const i=n.Qu(1,e,t);US("Data must be an object, but it was:",i,r);const s=[],o=Ns.empty();rf(r,(l,c)=>{const u=VS(e,l,t);c=lr(c);const h=i.Nu(u);if(c instanceof Ry)s.push(u);else{const d=cg(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new io(s);return new FD(o,a,i.fieldTransforms)}function EV(n,e,t,r,i,s){const o=n.Qu(1,e,t),a=[m5(e,r,t)],l=[i];if(s.length%2!=0)throw new yt(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(m5(e,s[d])),l.push(s[d+1]);const c=[],u=Ns.empty();for(let d=a.length-1;d>=0;--d)if(!VD(c,a[d])){const f=a[d];let v=l[d];v=lr(v);const g=o.Nu(f);if(v instanceof Ry)c.push(f);else{const E=cg(v,g);E!=null&&(c.push(f),u.set(f,E))}}const h=new io(c);return new FD(u,h,o.fieldTransforms)}function BD(n,e,t,r=!1){return cg(t,n.Qu(r?4:3,e))}function cg(n,e){if(UD(n=lr(n)))return US("Unsupported field value:",e,n),jD(n,e);if(n instanceof FS)return function(r,i){if(!MD(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=cg(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ni.fromDate(r);return{timestampValue:Xv(i.serializer,s)}}if(r instanceof ni){const s=new ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xv(i.serializer,s)}}if(r instanceof MS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qd)return{bytesValue:lD(i.serializer,r._byteString)};if(r instanceof Ji){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof BS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return gS(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ky(r)}`)}(n,e)}function jD(n,e){const t={};return BP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rf(n,(r,i)=>{const s=cg(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function UD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof MS||n instanceof Qd||n instanceof Ji||n instanceof FS||n instanceof BS)}function US(n,e,t){if(!UD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ky(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function m5(n,e,t){if((e=lr(e))instanceof Py)return e._internalPath;if(typeof e=="string")return VS(n,e);throw t2("Field path arguments must be of type string or ",n,!1,void 0,t)}const SV=new RegExp("[~\\*/\\[\\]]");function VS(n,e,t){if(e.search(SV)>=0)throw t2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Py(...e.split("."))._internalPath}catch{throw t2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function t2(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new yt(He.INVALID_ARGUMENT,a+n+l)}function VD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ly("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TV extends WS{data(){return super.data()}}function Ly(n,e){return typeof e=="string"?VS(n,e):e instanceof Py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HS{}class Oy extends HS{}function fa(n,e,...t){let r=[];e instanceof HS&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof zS).length,a=s.filter(l=>l instanceof Fy).length;if(o>1||o>0&&a>0)throw new yt(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Fy extends Oy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fy(e,t,r)}_apply(e){const t=this._parse(e);return HD(e._query,t),new tl(e.firestore,e.converter,o5(e._query,t))}_parse(e){const t=Dy(e.firestore);return function(s,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new yt(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){iC(h,u);const f=[];for(const v of h)f.push(rC(l,s,v));d={arrayValue:{values:f}}}else d=rC(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||iC(h,u),d=BD(a,o,h,u==="in"||u==="not-in");return qr.create(c,u,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $l(n,e,t){const r=e,i=Ly("where",n);return Fy._create(i,r,t)}class zS extends HS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zS(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ha.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)HD(o,l),o=o5(o,l)}(e._query,t),new tl(e.firestore,e.converter,o5(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qS extends Oy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qS(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new yt(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new yt(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Em(s,o)}(e._query,this._field,this._direction);return new tl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new sf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function bm(n,e="asc"){const t=e,r=Ly("orderBy",n);return qS._create(r,t)}class $S extends Oy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new $S(e,t,r)}_apply(e){return new tl(e.firestore,e.converter,Gv(e._query,this._limit,this._limitType))}}function Am(n){return dV("limit",n),$S._create("limit",n,"F")}class YS extends Oy{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new YS(e,t,r)}_apply(e){const t=AV(e,this.type,this._docOrFields,this._inclusive);return new tl(e.firestore,e.converter,function(i,s){return new sf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function bV(...n){return YS._create("startAfter",n,!1)}function AV(n,e,t,r){if(t[0]=lr(t[0]),t[0]instanceof WS)return function(s,o,a,l,c){if(!l)throw new yt(He.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const h of wd(s))if(h.field.isKeyField())u.push(Yv(o,l.key));else{const d=l.data.field(h.field);if(yy(d))throw new yt(He.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=h.field.canonicalString();throw new yt(He.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new Yd(u,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Dy(n.firestore);return function(o,a,l,c,u,h){const d=o.explicitOrderBy;if(u.length>d.length)throw new yt(He.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let v=0;v<u.length;v++){const g=u[v];if(d[v].field.isKeyField()){if(typeof g!="string")throw new yt(He.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!mS(o)&&g.indexOf("/")!==-1)throw new yt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const E=o.path.child(Jn.fromString(g));if(!Nt.isDocumentKey(E))throw new yt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const _=new Nt(E);f.push(Yv(a,_))}else{const E=BD(l,c,g);f.push(E)}}return new Yd(f,h)}(n._query,n.firestore._databaseId,i,e,t,r)}}function rC(n,e,t){if(typeof(t=lr(t))=="string"){if(t==="")throw new yt(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mS(e)&&t.indexOf("/")!==-1)throw new yt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jn.fromString(t));if(!Nt.isDocumentKey(r))throw new yt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yv(n,new Nt(r))}if(t instanceof Ji)return Yv(n,t._key);throw new yt(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ky(t)}.`)}function iC(n,e){if(!Array.isArray(n)||n.length===0)throw new yt(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HD(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new yt(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class CV{convertValue(e,t="none"){switch(Vh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Wt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return rf(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Nr(o.doubleValue));return new BS(s)}convertGeoPoint(e){return new MS(Nr(e.latitude),Nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hS(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_m(e));default:return null}}convertTimestamp(e){const t=_u(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jn.fromString(e);Bn(pD(r));const i=new wm(r.get(1),r.get(3)),s=new Nt(r.popFirst(5));return i.isEqual(t)||zl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zD extends WS{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class rv extends zD{data(e={}){return super.data(e)}}class qD{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new v0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new rv(this._firestore,this._userDataWriter,r.key,r,new v0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yt(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new v0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new v0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:IV(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function IV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){n=ao(n,Ji);const e=ao(n.firestore,xu);return uV(Ny(e),n._key).then(t=>YD(e,n,t))}class KS extends CV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,t)}}function Eu(n){n=ao(n,tl);const e=ao(n.firestore,xu),t=Ny(e),r=new KS(e);return WD(n._query),hV(t,n._query).then(i=>new qD(e,r,n,i))}function g5(n,e,t){n=ao(n,Ji);const r=ao(n.firestore,xu),i=kV(n.converter,e);return QS(r,[wV(Dy(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,aa.none())])}function L0(n,e,t,...r){n=ao(n,Ji);const i=ao(n.firestore,xu),s=Dy(i);let o;return o=typeof(e=lr(e))=="string"||e instanceof Py?EV(s,"updateDoc",n._key,e,t,r):xV(s,"updateDoc",n._key,e),QS(i,[o.toMutation(n._key,aa.exists(!0))])}function $D(n){return QS(ao(n.firestore,xu),[new vS(n._key,aa.none())])}function n2(n,...e){var t,r,i;n=lr(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||nC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nC(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(n instanceof Ji)c=ao(n.firestore,xu),u=_y(n._key.path),l={next:h=>{e[o]&&e[o](YD(c,n,h))},error:e[o+1],complete:e[o+2]};else{const h=ao(n,tl);c=ao(h.firestore,xu),u=h._query;const d=new KS(c);l={next:f=>{e[o]&&e[o](new qD(c,d,h,f))},error:e[o+1],complete:e[o+2]},WD(n._query)}return function(d,f,v,g){const E=new OS(g),_=new RS(f,E,v);return d.asyncQueue.enqueueAndForget(async()=>NS(await e2(d),_)),()=>{E.Za(),d.asyncQueue.enqueueAndForget(async()=>PS(await e2(d),_))}}(Ny(c),u,a,l)}function QS(n,e){return function(r,i){const s=new Pl;return r.asyncQueue.enqueueAndForget(async()=>ZU(await cV(r),i,s)),s.promise}(Ny(n),e)}function YD(n,e,t){const r=t.docs.get(e._key),i=new KS(n);return new zD(n,i,e._key,r,new v0(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){dp=i})(nf),Bh(new vu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xu(new DB(r.getProvider("auth-internal")),new FB(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new yt(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wm(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ja(wA,"4.7.3",e),ja(wA,"4.7.3","esm2017")})();function XS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function GD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NV=GD,KD=new ng("auth","Firebase",GD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new my("@firebase/auth");function PV(n,...e){r2.logLevel<=ln.WARN&&r2.warn(`Auth (${nf}): ${n}`,...e)}function iv(n,...e){r2.logLevel<=ln.ERROR&&r2.error(`Auth (${nf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n,...e){throw JS(n,...e)}function Wa(n,...e){return JS(n,...e)}function QD(n,e,t){const r=Object.assign(Object.assign({},NV()),{[e]:t});return new ng("auth","Firebase",r).create(e,{appName:n.name})}function Dl(n){return QD(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JS(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KD.create(n,...e)}function Ut(n,e,...t){if(!n)throw JS(e,...t)}function Al(n){const e="INTERNAL ASSERTION FAILED: "+n;throw iv(e),new Error(e)}function Yl(n,e){n||Al(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function DV(){return sC()==="http:"||sC()==="https:"}function sC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DV()||o9()||"connection"in navigator)?navigator.onLine:!0}function LV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yl(t>e,"Short delay should be less than long delay!"),this.isMobile=oS()||EP()}get(){return RV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,e){Yl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Al("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Al("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Al("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new ug(3e4,6e4);function Mu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Bu(n,e,t,r,i={}){return JD(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=fp(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return s9()||(c.referrerPolicy="no-referrer"),XD.fetch()(ZD(n,n.config.apiHost,t,a),c)})}async function JD(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},OV),e);try{const i=new BV(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _1(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _1(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _1(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw _1(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QD(n,u,c);da(n,u)}}catch(i){if(i instanceof ec)throw i;da(n,"network-request-failed",{message:String(i)})}}async function hg(n,e,t,r,i={}){const s=await Bu(n,e,t,r,i);return"mfaPendingCredential"in s&&da(n,"multi-factor-auth-required",{_serverResponse:s}),s}function ZD(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ZS(n.config,i):`${n.config.apiScheme}://${i}`}function MV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wa(this.auth,"network-request-failed")),FV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _1(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Wa(n,e,r);return i.customData._tokenResponse=t,i}function oC(n){return n!==void 0&&n.enterprise!==void 0}class jV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UV(n,e){return Bu(n,"GET","/v2/recaptchaConfig",Mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(n,e){return Bu(n,"POST","/v1/accounts:delete",e)}async function eR(n,e){return Bu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WV(n,e=!1){const t=lr(n),r=await t.getIdToken(e),i=eT(r);Ut(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:O0(yw(i.auth_time)),issuedAtTime:O0(yw(i.iat)),expirationTime:O0(yw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yw(n){return Number(n)*1e3}function eT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return iv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vv(t);return i?JSON.parse(i):(iv("Failed to decode base64 JWT payload"),null)}catch(i){return iv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aC(n){const e=eT(n);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ec&&HV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function HV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=O0(this.lastLoginAt),this.creationTime=O0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Cm(n,eR(t,{idToken:r}));Ut(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tR(s.providerUserInfo):[],a=$V(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new y5(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function qV(n){const e=lr(n);await i2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $V(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tR(n){return n.map(e=>{var{providerId:t}=e,r=XS(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(n,e){const t=await JD(n,{},async()=>{const r=fp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=ZD(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GV(n,e){return Bu(n,"POST","/v2/accounts:revokeToken",Mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const t=aC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await YV(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ed;return r&&(Ut(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ut(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ut(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ed,this.toJSON())}_performRefresh(){return Al("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n,e){Ut(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=XS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new y5(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Cm(this,this.stsTokenManager.getToken(this.auth,e));return Ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WV(this,e)}reload(){return qV(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await i2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oa(this.auth.app))return Promise.reject(Dl(this.auth));const e=await this.getIdToken();return await Cm(this,VV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,g=(a=t.tenantId)!==null&&a!==void 0?a:void 0,E=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=t.createdAt)!==null&&c!==void 0?c:void 0,w=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:R,isAnonymous:B,providerData:V,stsTokenManager:T}=t;Ut(x&&T,e,"internal-error");const b=Ed.fromJSON(this.name,T);Ut(typeof x=="string",e,"internal-error"),Nc(h,e.name),Nc(d,e.name),Ut(typeof R=="boolean",e,"internal-error"),Ut(typeof B=="boolean",e,"internal-error"),Nc(f,e.name),Nc(v,e.name),Nc(g,e.name),Nc(E,e.name),Nc(_,e.name),Nc(w,e.name);const I=new Cl({uid:x,auth:e,email:d,emailVerified:R,displayName:h,isAnonymous:B,photoURL:v,phoneNumber:f,tenantId:g,stsTokenManager:b,createdAt:_,lastLoginAt:w});return V&&Array.isArray(V)&&(I.providerData=V.map(L=>Object.assign({},L))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ed;i.updateFromServerResponse(t);const s=new Cl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await i2(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ut(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ed;a.updateFromIdToken(r);const l=new Cl({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new y5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Map;function kl(n){Yl(n instanceof Function,"Expected a class definition");let e=lC.get(n);return e?(Yl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lC.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nR.type="NONE";const cC=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(n,e,t){return`firebase:${n}:${e}:${t}`}class Sd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sv(this.userKey,i.apiKey,s),this.fullPersistenceKey=sv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sd(kl(cC),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||kl(cC);const o=sv(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=Cl._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sd(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Sd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lR(e))return"Blackberry";if(cR(e))return"Webos";if(iR(e))return"Safari";if((e.includes("chrome/")||sR(e))&&!e.includes("edge/"))return"Chrome";if(aR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rR(n=ns()){return/firefox\//i.test(n)}function iR(n=ns()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sR(n=ns()){return/crios\//i.test(n)}function oR(n=ns()){return/iemobile/i.test(n)}function aR(n=ns()){return/android/i.test(n)}function lR(n=ns()){return/blackberry/i.test(n)}function cR(n=ns()){return/webos/i.test(n)}function tT(n=ns()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KV(n=ns()){var e;return tT(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QV(){return a9()&&document.documentMode===10}function uR(n=ns()){return tT(n)||aR(n)||cR(n)||lR(n)||/windows phone/i.test(n)||oR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n,e=[]){let t;switch(n){case"Browser":t=uC(ns());break;case"Worker":t=`${uC(ns())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,e={}){return Bu(n,"GET","/v2/passwordPolicy",Mu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=6;class eW{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ZV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hC(this),this.idTokenSubscription=new hC(this),this.beforeStateQueue=new XV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kl(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eR(this,{idToken:e}),r=await Cl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Oa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await i2(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oa(this.app))return Promise.reject(Dl(this));const t=e?lr(e):null;return t&&Ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oa(this.app)?Promise.reject(Dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oa(this.app)?Promise.reject(Dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JV(this),t=new eW(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ng("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kl(e)||this._popupRedirectResolver;Ut(t,this,"argument-error"),this.redirectPersistenceManager=await Sd.create(this,[kl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function af(n){return lr(n)}class hC{constructor(e){this.auth=e,this.observer=null,this.addObserver=v9(t=>this.observer=t)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nW(n){My=n}function fR(n){return My.loadJS(n)}function rW(){return My.recaptchaEnterpriseScript}function iW(){return My.gapiScript}function sW(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const oW="recaptcha-enterprise",aW="NO_RECAPTCHA";class lW{constructor(e){this.type=oW,this.auth=af(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{UV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new jV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;oC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(aW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&oC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rW();l.length!==0&&(l+=a),fR(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function fC(n,e,t,r=!1){const i=new lW(n);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function _5(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await fC(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fC(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cW(n,e){const t=gy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(zv(s,e??{}))return i;da(i,"already-initialized")}return t.initialize({options:e})}function uW(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(kl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hW(n,e,t){const r=af(n);Ut(r._canInitEmulator,r,"emulator-config-failed"),Ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=dR(e),{host:o,port:a}=fW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),dW()}function dR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fW(n){const e=dR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dC(o)}}}function dC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dW(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Al("not implemented")}_getIdTokenResponse(e){return Al("not implemented")}_linkToIdToken(e,t){return Al("not implemented")}_getReauthenticationResolver(e){return Al("not implemented")}}async function pW(n,e){return Bu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(n,e){return hg(n,"POST","/v1/accounts:signInWithPassword",Mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gW(n,e){return hg(n,"POST","/v1/accounts:signInWithEmailLink",Mu(n,e))}async function vW(n,e){return hg(n,"POST","/v1/accounts:signInWithEmailLink",Mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends nT{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new km(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new km(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _5(e,t,"signInWithPassword",mW);case"emailLink":return gW(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _5(e,r,"signUpPassword",pW);case"emailLink":return vW(e,{idToken:t,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(n,e){return hg(n,"POST","/v1/accounts:signInWithIdp",Mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="http://localhost";class Wh extends nT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):da("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=XS(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Wh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Td(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Td(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Td(e,t)}buildRequest(){const e={requestUri:yW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wW(n){const e=f0(d0(n)).link,t=e?f0(d0(e)).deep_link_id:null,r=f0(d0(n)).deep_link_id;return(r?f0(d0(r)).link:null)||r||t||e||n}class rT{constructor(e){var t,r,i,s,o,a;const l=f0(d0(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_W((i=l.mode)!==null&&i!==void 0?i:null);Ut(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=wW(e);try{return new rT(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.providerId=gp.PROVIDER_ID}static credential(e,t){return km._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=rT.parseLink(t);return Ut(r,"argument-error"),km._fromEmailAndCode(e,r.code,r.tenantId)}}gp.PROVIDER_ID="password";gp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends pR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends fg{constructor(){super("facebook.com")}static credential(e){return Wh._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uc.credentialFromTaggedObject(e)}static credentialFromError(e){return Uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uc.credential(e.oauthAccessToken)}catch{return null}}}Uc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends fg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wh._fromParams({providerId:Vc.PROVIDER_ID,signInMethod:Vc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vc.credentialFromTaggedObject(e)}static credentialFromError(e){return Vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Vc.credential(t,r)}catch{return null}}}Vc.GOOGLE_SIGN_IN_METHOD="google.com";Vc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends fg{constructor(){super("github.com")}static credential(e){return Wh._fromParams({providerId:Wc.PROVIDER_ID,signInMethod:Wc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wc.credentialFromTaggedObject(e)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wc.credential(e.oauthAccessToken)}catch{return null}}}Wc.GITHUB_SIGN_IN_METHOD="github.com";Wc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends fg{constructor(){super("twitter.com")}static credential(e,t){return Wh._fromParams({providerId:Hc.PROVIDER_ID,signInMethod:Hc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hc.credentialFromTaggedObject(e)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Hc.credential(t,r)}catch{return null}}}Hc.TWITTER_SIGN_IN_METHOD="twitter.com";Hc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(n,e){return hg(n,"POST","/v1/accounts:signUp",Mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Cl._fromIdTokenResponse(e,r,i),o=pC(r);return new Hh({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=pC(r);return new Hh({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function pC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2 extends ec{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s2.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new s2(e,t,r,i)}}function mR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s2._fromErrorAndOperation(n,s,e,r):s})}async function EW(n,e,t=!1){const r=await Cm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(n,e,t=!1){const{auth:r}=n;if(Oa(r.app))return Promise.reject(Dl(r));const i="reauthenticate";try{const s=await Cm(n,mR(r,i,e,n),t);Ut(s.idToken,r,"internal-error");const o=eT(s.idToken);Ut(o,r,"internal-error");const{sub:a}=o;return Ut(n.uid===a,r,"user-mismatch"),Hh._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&da(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e,t=!1){if(Oa(n.app))return Promise.reject(Dl(n));const r="signIn",i=await mR(n,r,e),s=await Hh._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function TW(n,e){return gR(af(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n){const e=af(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bW(n,e,t){if(Oa(n.app))return Promise.reject(Dl(n));const r=af(n),o=await _5(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&vR(n),l}),a=await Hh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function AW(n,e,t){return Oa(n.app)?Promise.reject(Dl(n)):TW(lr(n),gp.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vR(n),r})}function CW(n,e,t,r){return lr(n).onIdTokenChanged(e,t,r)}function kW(n,e,t){return lr(n).beforeAuthStateChanged(e,t)}function IW(n){return lr(n).signOut()}const o2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(o2,"1"),this.storage.removeItem(o2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=1e3,PW=10;class _R extends yR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PW):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},NW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_R.type="LOCAL";const DW=_R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends yR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wR.type="SESSION";const xR=wR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new By(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await RW(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}By.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=iT("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(){return window}function OW(n){Ha().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){return typeof Ha().WorkerGlobalScope<"u"&&typeof Ha().importScripts=="function"}async function FW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MW(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BW(){return ER()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebaseLocalStorageDb",jW=1,a2="firebaseLocalStorage",TR="fbase_key";class dg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jy(n,e){return n.transaction([a2],e?"readwrite":"readonly").objectStore(a2)}function UW(){const n=indexedDB.deleteDatabase(SR);return new dg(n).toPromise()}function w5(){const n=indexedDB.open(SR,jW);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(a2,{keyPath:TR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(a2)?e(r):(r.close(),await UW(),e(await w5()))})})}async function mC(n,e,t){const r=jy(n,!0).put({[TR]:e,value:t});return new dg(r).toPromise()}async function VW(n,e){const t=jy(n,!1).get(e),r=await new dg(t).toPromise();return r===void 0?null:r.value}function gC(n,e){const t=jy(n,!0).delete(e);return new dg(t).toPromise()}const WW=800,HW=3;class bR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await w5(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>HW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ER()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=By._getInstance(BW()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await FW(),!this.activeServiceWorker)return;this.sender=new LW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await w5();return await mC(e,o2,"1"),await gC(e,o2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>mC(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>VW(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jy(i,!1).getAll();return new dg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bR.type="LOCAL";const zW=bR;new ug(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(n,e){return e?kl(e):(Ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends nT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Td(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Td(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Td(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $W(n){return gR(n.auth,new sT(n),n.bypassAuthState)}function YW(n){const{auth:e,user:t}=n;return Ut(t,e,"internal-error"),SW(t,new sT(n),n.bypassAuthState)}async function GW(n){const{auth:e,user:t}=n;return Ut(t,e,"internal-error"),EW(t,new sT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $W;case"linkViaPopup":case"linkViaRedirect":return GW;case"reauthViaPopup":case"reauthViaRedirect":return YW;default:da(this.auth,"internal-error")}}resolve(e){Yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=new ug(2e3,1e4);class hd extends AR{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hd.currentPopupAction&&hd.currentPopupAction.cancel(),hd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){Yl(this.filter.length===1,"Popup operations only handle one event");const e=iT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KW.get())};e()}}hd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW="pendingRedirect",ov=new Map;class XW extends AR{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ov.get(this.auth._key());if(!e){try{const r=await JW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ov.set(this.auth._key(),e)}return this.bypassAuthState||ov.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JW(n,e){const t=tH(e),r=eH(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function ZW(n,e){ov.set(n._key(),e)}function eH(n){return kl(n._redirectPersistence)}function tH(n){return sv(QW,n.config.apiKey,n.name)}async function nH(n,e,t=!1){if(Oa(n.app))return Promise.reject(Dl(n));const r=af(n),i=qW(r,e),o=await new XW(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=10*60*1e3;class iH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!CR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Wa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rH&&this.cachedEventUids.clear(),this.cachedEventUids.has(vC(e))}saveEventToCache(e){this.cachedEventUids.add(vC(e)),this.lastProcessedEventTime=Date.now()}}function vC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(n,e={}){return Bu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lH=/^https?/;async function cH(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oH(n);for(const t of e)try{if(uH(t))return}catch{}da(n,"unauthorized-domain")}function uH(n){const e=v5(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!lH.test(t))return!1;if(aH.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new ug(3e4,6e4);function yC(){const n=Ha().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fH(n){return new Promise((e,t)=>{var r,i,s;function o(){yC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yC(),t(Wa(n,"network-request-failed"))},timeout:hH.get()})}if(!((i=(r=Ha().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ha().gapi)===null||s===void 0)&&s.load)o();else{const a=sW("iframefcb");return Ha()[a]=()=>{gapi.load?o():t(Wa(n,"network-request-failed"))},fR(`${iW()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw av=null,e})}let av=null;function dH(n){return av=av||fH(n),av}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=new ug(5e3,15e3),mH="__/auth/iframe",gH="emulator/auth/iframe",vH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _H(n){const e=n.config;Ut(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ZS(e,gH):`https://${n.config.authDomain}/${mH}`,r={apiKey:e.apiKey,appName:n.name,v:nf},i=yH.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${fp(r).slice(1)}`}async function wH(n){const e=await dH(n),t=Ha().gapi;return Ut(t,n,"internal-error"),e.open({where:document.body,url:_H(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wa(n,"network-request-failed"),a=Ha().setTimeout(()=>{s(o)},pH.get());function l(){Ha().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EH=500,SH=600,TH="_blank",bH="http://localhost";class _C{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AH(n,e,t,r=EH,i=SH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xH),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ns().toLowerCase();t&&(a=sR(c)?TH:t),rR(c)&&(e=e||bH,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,v])=>`${d}${f}=${v},`,"");if(KV(c)&&a!=="_self")return CH(e||"",a),new _C(null);const h=window.open(e||"",a,u);Ut(h,n,"popup-blocked");try{h.focus()}catch{}return new _C(h)}function CH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="__/auth/handler",IH="emulator/auth/handler",NH=encodeURIComponent("fac");async function wC(n,e,t,r,i,s){Ut(n.config.authDomain,n,"auth-domain-config-required"),Ut(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nf,eventId:i};if(e instanceof pR){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Wv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof fg){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${NH}=${encodeURIComponent(l)}`:"";return`${PH(n)}?${fp(a).slice(1)}${c}`}function PH({config:n}){return n.emulator?ZS(n,IH):`https://${n.authDomain}/${kH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="webStorageSupport";class DH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xR,this._completeRedirectFn=nH,this._overrideRedirectResult=ZW}async _openPopup(e,t,r,i){var s;Yl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wC(e,t,r,v5(),i);return AH(e,o,iT())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await wC(e,t,r,v5(),i);return OW(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Yl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wH(e),r=new iH(e);return t.register("authEvent",i=>(Ut(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_w,{type:_w},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_w];o!==void 0&&t(!!o),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uR()||iR()||tT()}}const RH=DH;var xC="@firebase/auth",EC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FH(n){Bh(new vu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ut(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hR(n)},c=new tW(r,i,s,l);return uW(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bh(new vu("auth-internal",e=>{const t=af(e.getProvider("auth").getImmediate());return(r=>new LH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(xC,EC,OH(n)),ja(xC,EC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=5*60,BH=wP("authIdTokenMaxAge")||MH;let SC=null;const jH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>BH)return;const i=t==null?void 0:t.token;SC!==i&&(SC=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UH(n=lS()){const e=gy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cW(n,{popupRedirectResolver:RH,persistence:[zW,DW,xR]}),r=wP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=jH(s.toString());kW(t,o,()=>o(t.currentUser)),CW(t,a=>o(a))}}const i=vP("auth");return i&&hW(t,`http://${i}`),t}function VH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nW({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Wa("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",VH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FH("Browser");var TC={};const bC="@firebase/database",AC="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kR="";function WH(n){kR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ui(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:gm(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return el(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HH(e)}}catch{}return new zH},yh=IR("localStorage"),qH=IR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new my("@firebase/database"),$H=function(){let n=1;return function(){return n++}}(),NR=function(n){const e=w9(n),t=new g9;t.update(e);const r=t.digest();return sS.encodeByteArray(r)},pg=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pg.apply(null,r):typeof r=="object"?e+=ui(r):e+=r,e+=" "}return e};let F0=null,CC=!0;const YH=function(n,e){ct(!e,"Can't turn on custom loggers persistently."),bd.logLevel=ln.VERBOSE,F0=bd.log.bind(bd)},ki=function(...n){if(CC===!0&&(CC=!1,F0===null&&qH.get("logging_enabled")===!0&&YH()),F0){const e=pg.apply(null,n);F0(e)}},mg=function(n){return function(...e){ki(n,...e)}},x5=function(...n){const e="FIREBASE INTERNAL ERROR: "+pg(...n);bd.error(e)},Gl=function(...n){const e=`FIREBASE FATAL ERROR: ${pg(...n)}`;throw bd.error(e),new Error(e)},Ms=function(...n){const e="FIREBASE WARNING: "+pg(...n);bd.warn(e)},GH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ms("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Uy=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},KH=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Xd="[MIN_NAME]",zh="[MAX_NAME]",lf=function(n,e){if(n===e)return 0;if(n===Xd||e===zh)return-1;if(e===Xd||n===zh)return 1;{const t=kC(n),r=kC(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},QH=function(n,e){return n===e?0:n<e?-1:1},Xp=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+ui(e))},oT=function(n){if(typeof n!="object"||n===null)return ui(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=ui(e[r]),t+=":",t+=oT(n[e[r]]);return t+="}",t},PR=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function rs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const DR=function(n){ct(!Uy(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,a,l;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(u.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},XH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ZH(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}const ez=new RegExp("^-?(0*)\\d{1,10}$"),tz=-2147483648,nz=2147483647,kC=function(n){if(ez.test(n)){const e=Number(n);if(e>=tz&&e<=nz)return e}return null},vp=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Ms("Exception was thrown by user callback.",t),e},Math.floor(0))}},rz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},M0=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ms(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ki("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ms(e)}}class lv{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lv.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="5",RR="v",LR="s",OR="r",FR="f",MR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BR="ls",jR="p",E5="ac",UR="websocket",VR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function oz(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function HR(n,e,t){ct(typeof e=="string","typeof type must == string"),ct(typeof t=="object","typeof params must == object");let r;if(e===UR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===VR)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);oz(n)&&(t.ns=n.namespace);const i=[];return rs(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.counters_={}}incrementCounter(e,t=1){el(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return J7(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={},xw={};function lT(n){const e=n.toString();return ww[e]||(ww[e]=new az),ww[e]}function lz(n,e){const t=n.toString();return xw[t]||(xw[t]=e()),xw[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="start",uz="close",hz="pLPCommand",fz="pRTLPCB",zR="id",qR="pw",$R="ser",dz="cb",pz="seg",mz="ts",gz="d",vz="dframe",YR=1870,GR=30,yz=YR-GR,_z=25e3,wz=3e4;class fd{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mg(e),this.stats_=lT(t),this.urlFn=l=>(this.appCheckToken&&(l[E5]=this.appCheckToken),HR(t,VR,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new cz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wz)),KH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cT((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===IC)this.id=a,this.password=l;else if(o===uz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[IC]="t",r[$R]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RR]=aT,this.transportSessionId&&(r[LR]=this.transportSessionId),this.lastSessionId&&(r[BR]=this.lastSessionId),this.applicationId&&(r[jR]=this.applicationId),this.appCheckToken&&(r[E5]=this.appCheckToken),typeof location<"u"&&location.hostname&&MR.test(location.hostname)&&(r[OR]=FR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fd.forceAllow_=!0}static forceDisallow(){fd.forceDisallow_=!0}static isAvailable(){return fd.forceAllow_?!0:!fd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XH()&&!JH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ui(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=mP(t),i=PR(r,yz);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[vz]="t",r[zR]=e,r[qR]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ui(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class cT{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$H(),window[hz+this.uniqueCallbackIdentifier]=e,window[fz+this.uniqueCallbackIdentifier]=t,this.myIFrame=cT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ki("frame writing exception"),a.stack&&ki(a.stack),ki(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ki("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zR]=this.myID,e[qR]=this.myPW,e[$R]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GR+r.length<=YR;){const o=this.pendingSegs.shift();r=r+"&"+pz+i+"="+o.seg+"&"+mz+i+"="+o.ts+"&"+gz+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(_z)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{ki("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=16384,Ez=45e3;let l2=null;typeof MozWebSocket<"u"?l2=MozWebSocket:typeof WebSocket<"u"&&(l2=WebSocket);class ta{constructor(e,t,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mg(this.connId),this.stats_=lT(t),this.connURL=ta.connectionURL_(t,o,a,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const o={};return o[RR]=aT,typeof location<"u"&&location.hostname&&MR.test(location.hostname)&&(o[OR]=FR),t&&(o[LR]=t),r&&(o[BR]=r),i&&(o[E5]=i),s&&(o[jR]=s),HR(e,UR,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yh.set("previous_websocket_failure",!0);try{let r;SP(),this.mySock=new l2(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ta.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&l2!==null&&!ta.forceDisallow_}static previouslyFailed(){return yh.isInMemoryStorage||yh.get("previous_websocket_failure")===!0}markConnectionHealthy(){yh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=gm(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ct(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=ui(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=PR(t,xz);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ez))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ta.responsesRequiredToBeHealthy=2;ta.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[fd,ta]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=ta&&ta.isAvailable();let r=t&&!ta.previouslyFailed();if(e.webSocketOnly&&(t||Ms("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ta];else{const i=this.transports_=[];for(const s of Im.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Im.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Im.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=6e4,Tz=5e3,bz=10*1024,Az=100*1024,Ew="t",NC="d",Cz="s",PC="r",kz="e",DC="o",RC="a",LC="n",OC="p",Iz="h";class Nz{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mg("c:"+this.id+":"),this.transportManager_=new Im(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=M0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Az?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ew in e){const t=e[Ew];t===RC?this.upgradeIfSecondaryHealthy_():t===PC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===DC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Xp("t",e),r=Xp("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:OC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:RC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Xp("t",e),r=Xp("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Xp(Ew,e);if(NC in e){const r=e[NC];if(t===Iz){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===LC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Cz?this.onConnectionShutdown_(r):t===PC?this.onReset_(r):t===kz?x5("Server Error: "+r):t===DC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x5("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),aT!==r&&Ms("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),M0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Sz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):M0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Tz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:OC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.allowedEvents_=e,this.listeners_={},ct(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ct(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends QR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new c2}getInitialEvent(e){return ct(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=32,MC=768;class Un{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Sn(){return new Un("")}function Jt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Su(n){return n.pieces_.length-n.pieceNum_}function Kn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Un(n.pieces_,e)}function uT(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Pz(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Nm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function XR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Un(e,0)}function Or(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Un(t,0)}function en(n){return n.pieceNum_>=n.pieces_.length}function Ds(n,e){const t=Jt(n),r=Jt(e);if(t===null)return e;if(t===r)return Ds(Kn(n),Kn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Dz(n,e){const t=Nm(n,0),r=Nm(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=lf(t[i],r[i]);if(s!==0)return s}return t.length===r.length?0:t.length<r.length?-1:1}function hT(n,e){if(Su(n)!==Su(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Io(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Su(n)>Su(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Rz{constructor(e,t){this.errorPrefix_=t,this.parts_=Nm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=py(this.parts_[r]);JR(this)}}function Lz(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=py(e),JR(n)}function Oz(n){const e=n.parts_.pop();n.byteLength_-=py(e),n.parts_.length>0&&(n.byteLength_-=1)}function JR(n){if(n.byteLength_>MC)throw new Error(n.errorPrefix_+"has a key path longer than "+MC+" bytes ("+n.byteLength_+").");if(n.parts_.length>FC)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+FC+") or object contains a cycle "+ch(n))}function ch(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends QR{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new fT}getInitialEvent(e){return ct(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=1e3,Fz=60*5*1e3,BC=30*1e3,Mz=1.3,Bz=3e4,jz="server_kill",jC=3;class Rl extends KR{constructor(e,t,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Rl.nextPersistentConnectionId_++,this.log_=mg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jp,this.maxReconnectDelay_=Fz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!SP())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&c2.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(ui(s)),ct(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new El,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ct(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ct(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Rl.warnOnListenWarnings_(l,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&el(e,"w")){const r=Vd(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();Ms(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||m9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=p9(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ct(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ui(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):x5("Unrecognized action received from server: "+ui(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ct(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Bz&&(this.reconnectDelay_=Jp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Mz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Rl.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){ct(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ki("getToken() completed but was canceled"):(ki("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new Nz(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,f=>{Ms(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(jz)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ms(h),l())}}}interrupt(e){ki("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ki("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Wv(this.interruptReasons_)&&(this.reconnectDelay_=Jp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>oT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new Un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){ki("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jC&&(this.reconnectDelay_=BC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ki("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+kR.replace(/\./g,"-")]=1,oS()?e["framework.cordova"]=1:EP()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=c2.getInstance().currentlyOnline();return Wv(this.interruptReasons_)&&e}}Rl.nextPersistentConnectionId_=0;Rl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new nn(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new nn(Xd,e),i=new nn(Xd,t);return this.compare(r,i)!==0}minPost(){return nn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w1;class ZR extends Vy{static get __EMPTY_NODE(){return w1}static set __EMPTY_NODE(e){w1=e}compare(e,t){return lf(e.name,t.name)}isDefinedOn(e){throw hp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return nn.MIN}maxPost(){return new nn(zh,w1)}makePost(e,t){return ct(typeof e=="string","KeyIndex indexValue must always be a string."),new nn(e,w1)}toString(){return".key"}}const Ad=new ZR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ci{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ci.RED,this.left=i??Rs.EMPTY_NODE,this.right=s??Rs.EMPTY_NODE}copy(e,t,r,i,s){return new ci(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return Rs.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ci.RED=!0;ci.BLACK=!1;class Uz{copy(e,t,r,i,s){return this}insert(e,t,r){return new ci(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rs{constructor(e,t=Rs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Rs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ci.BLACK,null,null))}remove(e){return new Rs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ci.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new x1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new x1(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new x1(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new x1(this.root_,null,this.comparator_,!0,e)}}Rs.EMPTY_NODE=new Uz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(n,e){return lf(n.name,e.name)}function dT(n,e){return lf(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S5;function Wz(n){S5=n}const e6=function(n){return typeof n=="number"?"number:"+DR(n):"string:"+n},t6=function(n){if(n.isLeafNode()){const e=n.val();ct(typeof e=="string"||typeof e=="number"||typeof e=="object"&&el(e,".sv"),"Priority must be a string or number.")}else ct(n===S5||n.isEmpty(),"priority of unexpected type.");ct(n===S5||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UC;class oi{constructor(e,t=oi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ct(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),t6(this.priorityNode_)}static set __childrenNodeConstructor(e){UC=e}static get __childrenNodeConstructor(){return UC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new oi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return en(e)?this:Jt(e)===".priority"?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:oi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Jt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ct(r!==".priority"||Su(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,oi.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+e6(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=DR(this.value_):e+=this.value_,this.lazyHash_=NR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===oi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof oi.__childrenNodeConstructor?-1:(ct(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=oi.VALUE_TYPE_ORDER.indexOf(t),s=oi.VALUE_TYPE_ORDER.indexOf(r);return ct(i>=0,"Unknown leaf type: "+t),ct(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}oi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n6,r6;function Hz(n){n6=n}function zz(n){r6=n}class qz extends Vy{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?lf(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(zh,new oi("[PRIORITY-POST]",r6))}makePost(e,t){const r=n6(e);return new nn(t,new oi("[PRIORITY-POST]",r))}toString(){return".priority"}}const gr=new qz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=Math.log(2);class Yz{constructor(e){const t=s=>parseInt(Math.log(s)/$z,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const u2=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let h,d;if(u===0)return null;if(u===1)return h=n[l],d=t?t(h):h,new ci(d,h.node,ci.BLACK,null,null);{const f=parseInt(u/2,10)+l,v=i(l,f),g=i(f+1,c);return h=n[f],d=t?t(h):h,new ci(d,h.node,ci.BLACK,v,g)}},s=function(l){let c=null,u=null,h=n.length;const d=function(v,g){const E=h-v,_=h;h-=v;const w=i(E+1,_),x=n[E],R=t?t(x):x;f(new ci(R,x.node,g,null,w))},f=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(v+1));g?d(E,ci.BLACK):(d(E,ci.BLACK),d(E,ci.RED))}return u},o=new Yz(n.length),a=s(o);return new Rs(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sw;const jf={};class Il{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ct(jf&&gr,"ChildrenNode.ts has not been loaded"),Sw=Sw||new Il({".priority":jf},{".priority":gr}),Sw}get(e){const t=Vd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Rs?t:null}hasIndex(e){return el(this.indexSet_,e.toString())}addIndex(e,t){ct(e!==Ad,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(nn.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=u2(r,e.getCompare()):a=jf;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Il(u,c)}addToIndexes(e,t){const r=Hv(this.indexes_,(i,s)=>{const o=Vd(this.indexSet_,s);if(ct(o,"Missing index implementation for "+s),i===jf)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(nn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),u2(a,o.getCompare())}else return jf;else{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new nn(e.name,a))),l.insert(e,e.node)}});return new Il(r,this.indexSet_)}removeFromIndexes(e,t){const r=Hv(this.indexes_,i=>{if(i===jf)return i;{const s=t.get(e.name);return s?i.remove(new nn(e.name,s)):i}});return new Il(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp;class Vt{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&t6(this.priorityNode_),this.children_.isEmpty()&&ct(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zp||(Zp=new Vt(new Rs(dT),null,Il.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zp}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Zp:t}}getChild(e){const t=Jt(e);return t===null?this:this.getImmediateChild(t).getChild(Kn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ct(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new nn(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Zp:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,t){const r=Jt(e);if(r===null)return t;{ct(Jt(e)!==".priority"||Su(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Kn(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(gr,(o,a)=>{t[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+e6(this.getPriority().val())+":"),this.forEachChild(gr,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":NR(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new nn(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new nn(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new nn(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,nn.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,nn.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gg?-1:0}withIndex(e){if(e===Ad||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ad||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(gr),i=t.getIterator(gr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ad?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Gz extends Vt{constructor(){super(new Rs(dT),Vt.EMPTY_NODE,Il.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const gg=new Gz;Object.defineProperties(nn,{MIN:{value:new nn(Xd,Vt.EMPTY_NODE)},MAX:{value:new nn(zh,gg)}});ZR.__EMPTY_NODE=Vt.EMPTY_NODE;oi.__childrenNodeConstructor=Vt;Wz(gg);zz(gg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=!0;function Hr(n,e=null){if(n===null)return Vt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ct(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new oi(t,Hr(e))}if(!(n instanceof Array)&&Kz){const t=[];let r=!1;if(rs(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=Hr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new nn(o,l)))}}),t.length===0)return Vt.EMPTY_NODE;const s=u2(t,Vz,o=>o.name,dT);if(r){const o=u2(t,gr.getCompare());return new Vt(s,Hr(e),new Il({".priority":o},{".priority":gr}))}else return new Vt(s,Hr(e),Il.Default)}else{let t=Vt.EMPTY_NODE;return rs(n,(r,i)=>{if(el(n,r)&&r.substring(0,1)!=="."){const s=Hr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Hr(e))}}Hz(Hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz extends Vy{constructor(e){super(),this.indexPath_=e,ct(!en(e)&&Jt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?lf(e.name,t.name):s}makePost(e,t){const r=Hr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new nn(t,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,gg);return new nn(zh,e)}toString(){return Nm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz extends Vy{compare(e,t){const r=e.node.compareTo(t.node);return r===0?lf(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(e,t){const r=Hr(e);return new nn(t,r)}toString(){return".value"}}const Jz=new Xz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(n){return{type:"value",snapshotNode:n}}function Jd(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Pm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Dm(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function Zz(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){ct(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(Pm(t,a)):ct(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Jd(t,r)):o.trackChildChange(Dm(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(gr,(i,s)=>{t.hasChild(i)||r.trackChildChange(Pm(i,s))}),t.isLeafNode()||t.forEachChild(gr,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Dm(i,s,o))}else r.trackChildChange(Jd(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Vt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.indexedFilter_=new pT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Rm.getStartPost_(e),this.endPost_=Rm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new nn(t,r))||(r=Vt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Vt.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Vt.EMPTY_NODE);const s=this;return t.forEachChild(gr,(o,a)=>{s.matches(new nn(o,a))||(i=i.updateImmediateChild(o,Vt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Rm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new nn(t,r))||(r=Vt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Vt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=Vt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(Vt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Vt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;ct(a.numChildren()===this.limit_,"");const l=new nn(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const h=a.getImmediateChild(t);let d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===t||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(u&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Dm(t,r,h)),a.updateImmediateChild(t,r);{s!=null&&s.trackChildChange(Pm(t,h));const g=a.updateImmediateChild(t,Vt.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Jd(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Pm(c.name,c.node)),s.trackChildChange(Jd(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,Vt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ct(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ct(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xd}hasEnd(){return this.endSet_}getIndexEndValue(){return ct(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ct(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ct(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gr}copy(){const e=new mT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tq(n){return n.loadsAllData()?new pT(n.getIndex()):n.hasLimit()?new eq(n):new Rm(n)}function VC(n){const e={};if(n.isDefault())return e;let t;if(n.index_===gr?t="$priority":n.index_===Jz?t="$value":n.index_===Ad?t="$key":(ct(n.index_ instanceof Qz,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=ui(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=ui(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+ui(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=ui(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+ui(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function WC(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==gr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends KR{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ct(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=h2.getListenId_(e,r),a={};this.listens_[o]=a;const l=VC(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Vd(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,t){const r=h2.getListenId_(e,t);delete this.listens_[r]}get(e){const t=VC(e._queryParams),r=e._path.toString(),i=new El;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fp(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=gm(a.responseText)}catch{Ms("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ms("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return{value:null,children:new Map}}function yp(n,e,t){if(en(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=Jt(e);n.children.has(r)||n.children.set(r,f2());const i=n.children.get(r);e=Kn(e),yp(i,e,t)}}function T5(n,e){if(en(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(gr,(r,i)=>{yp(n,new Un(r),i)}),T5(n,e)}}else if(n.children.size>0){const t=Jt(e);return e=Kn(e),n.children.has(t)&&T5(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}else return!0}function b5(n,e,t){n.value!==null?t(e,n.value):rq(n,(r,i)=>{const s=new Un(e.toString()+"/"+r);b5(i,s,t)})}function rq(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&rs(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=10*1e3,sq=30*1e3,oq=5*60*1e3;class aq{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new iq(e);const r=HC+(sq-HC)*Math.random();M0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;rs(e,(i,s)=>{s>0&&el(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),M0(this.reportStats_.bind(this),Math.floor(Math.random()*2*oq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ra||(ra={}));function s6(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vT(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ra.ACK_USER_WRITE,this.source=s6()}operationForChild(e){if(en(this.path)){if(this.affectedTree.value!=null)return ct(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Un(e));return new d2(Sn(),t,this.revert)}}else return ct(Jt(this.path)===e,"operationForChild called for unrelated child."),new d2(Kn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t){this.source=e,this.path=t,this.type=ra.LISTEN_COMPLETE}operationForChild(e){return en(this.path)?new Lm(this.source,Sn()):new Lm(this.source,Kn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ra.OVERWRITE}operationForChild(e){return en(this.path)?new qh(this.source,Sn(),this.snap.getImmediateChild(e)):new qh(this.source,Kn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ra.MERGE}operationForChild(e){if(en(this.path)){const t=this.children.subtree(new Un(e));return t.isEmpty()?null:t.value?new qh(this.source,Sn(),t.value):new Om(this.source,Sn(),t)}else return ct(Jt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Om(this.source,Kn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(en(e))return this.isFullyInitialized()&&!this.filtered_;const t=Jt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cq(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Zz(o.childName,o.snapshotNode))}),e0(n,i,"child_removed",e,r,t),e0(n,i,"child_added",e,r,t),e0(n,i,"child_moved",s,r,t),e0(n,i,"child_changed",e,r,t),e0(n,i,"value",e,r,t),i}function e0(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>hq(n,a,l)),o.forEach(a=>{const l=uq(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function uq(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function hq(n,e,t){if(e.childName==null||t.childName==null)throw hp("Should only compare child_ events.");const r=new nn(e.childName,e.snapshotNode),i=new nn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,e){return{eventCache:n,serverCache:e}}function B0(n,e,t,r){return Wy(new $h(e,t,r),n.serverCache)}function o6(n,e,t,r){return Wy(n.eventCache,new $h(e,t,r))}function A5(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Yh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tw;const fq=()=>(Tw||(Tw=new Rs(QH)),Tw);class ir{constructor(e,t=fq()){this.value=e,this.children=t}static fromObject(e){let t=new ir(null);return rs(e,(r,i)=>{t=t.set(new Un(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Sn(),value:this.value};if(en(e))return null;{const r=Jt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Kn(e),t);return s!=null?{path:Or(new Un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(en(e))return this;{const t=Jt(e),r=this.children.get(t);return r!==null?r.subtree(Kn(e)):new ir(null)}}set(e,t){if(en(e))return new ir(t,this.children);{const r=Jt(e),s=(this.children.get(r)||new ir(null)).set(Kn(e),t),o=this.children.insert(r,s);return new ir(this.value,o)}}remove(e){if(en(e))return this.children.isEmpty()?new ir(null):new ir(null,this.children);{const t=Jt(e),r=this.children.get(t);if(r){const i=r.remove(Kn(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new ir(null):new ir(this.value,s)}else return this}}get(e){if(en(e))return this.value;{const t=Jt(e),r=this.children.get(t);return r?r.get(Kn(e)):null}}setTree(e,t){if(en(e))return t;{const r=Jt(e),s=(this.children.get(r)||new ir(null)).setTree(Kn(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ir(this.value,o)}}fold(e){return this.fold_(Sn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Or(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Sn(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(en(e))return null;{const s=Jt(e),o=this.children.get(s);return o?o.findOnPath_(Kn(e),Or(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Sn(),t)}foreachOnPath_(e,t,r){if(en(e))return this;{this.value&&r(t,this.value);const i=Jt(e),s=this.children.get(i);return s?s.foreachOnPath_(Kn(e),Or(t,i),r):new ir(null)}}foreach(e){this.foreach_(Sn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Or(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.writeTree_=e}static empty(){return new la(new ir(null))}}function j0(n,e,t){if(en(e))return new la(new ir(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ds(i,e);return s=s.updateChild(o,t),new la(n.writeTree_.set(i,s))}else{const i=new ir(t),s=n.writeTree_.setTree(e,i);return new la(s)}}}function zC(n,e,t){let r=n;return rs(t,(i,s)=>{r=j0(r,Or(e,i),s)}),r}function qC(n,e){if(en(e))return la.empty();{const t=n.writeTree_.setTree(e,new ir(null));return new la(t)}}function C5(n,e){return cf(n,e)!=null}function cf(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ds(t.path,e)):null}function $C(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(gr,(r,i)=>{e.push(new nn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new nn(r,i.value))}),e}function uu(n,e){if(en(e))return n;{const t=cf(n,e);return t!=null?new la(new ir(t)):new la(n.writeTree_.subtree(e))}}function k5(n){return n.writeTree_.isEmpty()}function Zd(n,e){return a6(Sn(),n.writeTree_,e)}function a6(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ct(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=a6(Or(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Or(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(n,e){return h6(e,n)}function dq(n,e,t,r,i){ct(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=j0(n.visibleWrites,e,t)),n.lastWriteId=r}function pq(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function mq(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);ct(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&gq(a,r.path)?i=!1:Io(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return vq(n),!0;if(r.snap)n.visibleWrites=qC(n.visibleWrites,r.path);else{const a=r.children;rs(a,l=>{n.visibleWrites=qC(n.visibleWrites,Or(r.path,l))})}return!0}else return!1}function gq(n,e){if(n.snap)return Io(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Io(Or(n.path,t),e))return!0;return!1}function vq(n){n.visibleWrites=l6(n.allWrites,yq,Sn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function yq(n){return n.visible}function l6(n,e,t){let r=la.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)Io(t,o)?(a=Ds(t,o),r=j0(r,a,s.snap)):Io(o,t)&&(a=Ds(o,t),r=j0(r,Sn(),s.snap.getChild(a)));else if(s.children){if(Io(t,o))a=Ds(t,o),r=zC(r,a,s.children);else if(Io(o,t))if(a=Ds(o,t),en(a))r=zC(r,Sn(),s.children);else{const l=Vd(s.children,Jt(a));if(l){const c=l.getChild(Kn(a));r=j0(r,Sn(),c)}}}else throw hp("WriteRecord should have .snap or .children")}}return r}function c6(n,e,t,r,i){if(!r&&!i){const s=cf(n.visibleWrites,e);if(s!=null)return s;{const o=uu(n.visibleWrites,e);if(k5(o))return t;if(t==null&&!C5(o,Sn()))return null;{const a=t||Vt.EMPTY_NODE;return Zd(o,a)}}}else{const s=uu(n.visibleWrites,e);if(!i&&k5(s))return t;if(!i&&t==null&&!C5(s,Sn()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Io(c.path,e)||Io(e,c.path))},a=l6(n.allWrites,o,e),l=t||Vt.EMPTY_NODE;return Zd(a,l)}}}function _q(n,e,t){let r=Vt.EMPTY_NODE;const i=cf(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=uu(n.visibleWrites,e);return t.forEachChild(gr,(o,a)=>{const l=Zd(uu(s,new Un(o)),a);r=r.updateImmediateChild(o,l)}),$C(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=uu(n.visibleWrites,e);return $C(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wq(n,e,t,r,i){ct(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Or(e,t);if(C5(n.visibleWrites,s))return null;{const o=uu(n.visibleWrites,s);return k5(o)?i.getChild(t):Zd(o,i.getChild(t))}}function xq(n,e,t,r){const i=Or(e,t),s=cf(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=uu(n.visibleWrites,i);return Zd(o,r.getNode().getImmediateChild(t))}else return null}function Eq(n,e){return cf(n.visibleWrites,e)}function Sq(n,e,t,r,i,s,o){let a;const l=uu(n.visibleWrites,e),c=cf(l,Sn());if(c!=null)a=c;else if(t!=null)a=Zd(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=d.getNext();for(;f&&u.length<i;)h(f,r)!==0&&u.push(f),f=d.getNext();return u}else return[]}function Tq(){return{visibleWrites:la.empty(),allWrites:[],lastWriteId:-1}}function p2(n,e,t,r){return c6(n.writeTree,n.treePath,e,t,r)}function _T(n,e){return _q(n.writeTree,n.treePath,e)}function YC(n,e,t,r){return wq(n.writeTree,n.treePath,e,t,r)}function m2(n,e){return Eq(n.writeTree,Or(n.treePath,e))}function bq(n,e,t,r,i,s){return Sq(n.writeTree,n.treePath,e,t,r,i,s)}function wT(n,e,t){return xq(n.writeTree,n.treePath,e,t)}function u6(n,e){return h6(Or(n.treePath,e),n.writeTree)}function h6(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ct(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ct(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,Dm(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,Pm(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,Jd(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,Dm(r,e.snapshotNode,i.oldSnap));else throw hp("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const f6=new Cq;class xT{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $h(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wT(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yh(this.viewCache_),s=bq(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(n){return{filter:n}}function Iq(n,e){ct(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ct(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Nq(n,e,t,r,i){const s=new Aq;let o,a;if(t.type===ra.OVERWRITE){const c=t;c.source.fromUser?o=I5(n,e,c.path,c.snap,r,i,s):(ct(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!en(c.path),o=g2(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===ra.MERGE){const c=t;c.source.fromUser?o=Dq(n,e,c.path,c.children,r,i,s):(ct(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=N5(n,e,c.path,c.children,r,i,a,s))}else if(t.type===ra.ACK_USER_WRITE){const c=t;c.revert?o=Oq(n,e,c.path,r,i,s):o=Rq(n,e,c.path,c.affectedTree,r,i,s)}else if(t.type===ra.LISTEN_COMPLETE)o=Lq(n,e,t.path,r,s);else throw hp("Unknown operation type: "+t.type);const l=s.getChanges();return Pq(e,o,l),{viewCache:o,changes:l}}function Pq(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=A5(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(i6(A5(e)))}}function d6(n,e,t,r,i,s){const o=e.eventCache;if(m2(r,t)!=null)return e;{let a,l;if(en(t))if(ct(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Yh(e),u=c instanceof Vt?c:Vt.EMPTY_NODE,h=_T(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=p2(r,Yh(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Jt(t);if(c===".priority"){ct(Su(t)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=YC(r,t,u,l);h!=null?a=n.filter.updatePriority(u,h):a=o.getNode()}else{const u=Kn(t);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const d=YC(r,t,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=wT(r,c,e.serverCache);h!=null?a=n.filter.updateChild(o.getNode(),c,h,u,i,s):a=o.getNode()}}return B0(e,a,o.isFullyInitialized()||en(t),n.filter.filtersNodes())}}function g2(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(en(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Jt(t);if(!l.isCompleteForPath(t)&&Su(t)>1)return e;const v=Kn(t),E=l.getNode().getImmediateChild(f).updateChild(v,r);f===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),f,E,v,f6,null)}const h=o6(e,c,l.isFullyInitialized()||en(t),u.filtersNodes()),d=new xT(i,h,s);return d6(n,h,t,i,d,a)}function I5(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new xT(i,e,s);if(en(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=B0(e,c,!0,n.filter.filtersNodes());else{const h=Jt(t);if(h===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),r),l=B0(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=Kn(t),f=a.getNode().getImmediateChild(h);let v;if(en(d))v=r;else{const g=u.getCompleteChild(h);g!=null?uT(d)===".priority"&&g.getChild(XR(d)).isEmpty()?v=g:v=g.updateChild(d,r):v=Vt.EMPTY_NODE}if(f.equals(v))l=e;else{const g=n.filter.updateChild(a.getNode(),h,v,d,u,o);l=B0(e,g,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function GC(n,e){return n.eventCache.isCompleteForChild(e)}function Dq(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Or(t,l);GC(e,Jt(u))&&(a=I5(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Or(t,l);GC(e,Jt(u))||(a=I5(n,a,u,c,i,s,o))}),a}function KC(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function N5(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;en(t)?c=r:c=new ir(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),v=KC(n,f,d);l=g2(n,l,new Un(h),v,i,s,o,a)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const v=e.serverCache.getNode().getImmediateChild(h),g=KC(n,v,d);l=g2(n,l,new Un(h),g,i,s,o,a)}}),l}function Rq(n,e,t,r,i,s,o){if(m2(i,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(en(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return g2(n,e,t,l.getNode().getChild(t),i,s,a,o);if(en(t)){let c=new ir(null);return l.getNode().forEachChild(Ad,(u,h)=>{c=c.set(new Un(u),h)}),N5(n,e,t,c,i,s,a,o)}else return e}else{let c=new ir(null);return r.foreach((u,h)=>{const d=Or(t,u);l.isCompleteForPath(d)&&(c=c.set(u,l.getNode().getChild(d)))}),N5(n,e,t,c,i,s,a,o)}}function Lq(n,e,t,r,i){const s=e.serverCache,o=o6(e,s.getNode(),s.isFullyInitialized()||en(t),s.isFiltered());return d6(n,o,t,r,f6,i)}function Oq(n,e,t,r,i,s){let o;if(m2(r,t)!=null)return e;{const a=new xT(r,e,i),l=e.eventCache.getNode();let c;if(en(t)||Jt(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=p2(r,Yh(e));else{const h=e.serverCache.getNode();ct(h instanceof Vt,"serverChildren would be complete if leaf node"),u=_T(r,h)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=Jt(t);let h=wT(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=n.filter.updateChild(l,u,h,Kn(t),a,s):e.eventCache.getNode().hasChild(u)?c=n.filter.updateChild(l,u,Vt.EMPTY_NODE,Kn(t),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=p2(r,Yh(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||m2(r,Sn())!=null,B0(e,c,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new pT(r.getIndex()),s=tq(r);this.processor_=kq(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(Vt.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Vt.EMPTY_NODE,a.getNode(),null),u=new $h(l,o.isFullyInitialized(),i.filtersNodes()),h=new $h(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Wy(h,u),this.eventGenerator_=new lq(this.query_)}get query(){return this.query_}}function Mq(n){return n.viewCache_.serverCache.getNode()}function Bq(n,e){const t=Yh(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!en(e)&&!t.getImmediateChild(Jt(e)).isEmpty())?t.getChild(e):null}function QC(n){return n.eventRegistrations_.length===0}function jq(n,e){n.eventRegistrations_.push(e)}function XC(n,e,t){const r=[];if(t){ct(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function JC(n,e,t,r){e.type===ra.MERGE&&e.source.queryId!==null&&(ct(Yh(n.viewCache_),"We should always have a full cache before handling merges"),ct(A5(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=Nq(n.processor_,i,e,t,r);return Iq(n.processor_,s.viewCache),ct(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,p6(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Uq(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(gr,(s,o)=>{r.push(Jd(s,o))}),t.isFullyInitialized()&&r.push(i6(t.getNode())),p6(n,r,t.getNode(),e)}function p6(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return cq(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v2;class Vq{constructor(){this.views=new Map}}function Wq(n){ct(!v2,"__referenceConstructor has already been defined"),v2=n}function Hq(){return ct(v2,"Reference.ts has not been loaded"),v2}function zq(n){return n.views.size===0}function ET(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return ct(s!=null,"SyncTree gave us an op for an invalid query."),JC(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(JC(o,e,t,r));return s}}function qq(n,e,t,r,i){const s=e._queryIdentifier,o=n.views.get(s);if(!o){let a=p2(t,i?r:null),l=!1;a?l=!0:r instanceof Vt?(a=_T(t,r),l=!1):(a=Vt.EMPTY_NODE,l=!1);const c=Wy(new $h(a,l,!1),new $h(r,i,!1));return new Fq(e,c)}return o}function $q(n,e,t,r,i,s){const o=qq(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),jq(o,t),Uq(o,t)}function Yq(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Tu(n);if(i==="default")for(const[l,c]of n.views.entries())o=o.concat(XC(c,t,r)),QC(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(XC(l,t,r)),QC(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Tu(n)&&s.push(new(Hq())(e._repo,e._path)),{removed:s,events:o}}function m6(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Cd(n,e){let t=null;for(const r of n.views.values())t=t||Bq(r,e);return t}function g6(n,e){if(e._queryParams.loadsAllData())return Hy(n);{const r=e._queryIdentifier;return n.views.get(r)}}function v6(n,e){return g6(n,e)!=null}function Tu(n){return Hy(n)!=null}function Hy(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y2;function Gq(n){ct(!y2,"__referenceConstructor has already been defined"),y2=n}function Kq(){return ct(y2,"Reference.ts has not been loaded"),y2}let Qq=1;class ZC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ir(null),this.pendingWriteTree_=Tq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function y6(n,e,t,r,i){return dq(n.pendingWriteTree_,e,t,r,i),i?vg(n,new qh(s6(),e,t)):[]}function _h(n,e,t=!1){const r=pq(n.pendingWriteTree_,e);if(mq(n.pendingWriteTree_,e)){let s=new ir(null);return r.snap!=null?s=s.set(Sn(),!0):rs(r.children,o=>{s=s.set(new Un(o),!0)}),vg(n,new d2(r.path,s,t))}else return[]}function zy(n,e,t){return vg(n,new qh(gT(),e,t))}function Xq(n,e,t){const r=ir.fromObject(t);return vg(n,new Om(gT(),e,r))}function Jq(n,e){return vg(n,new Lm(gT(),e))}function Zq(n,e,t){const r=TT(n,t);if(r){const i=bT(r),s=i.path,o=i.queryId,a=Ds(s,e),l=new Lm(vT(o),a);return AT(n,s,l)}else return[]}function P5(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||v6(o,e))){const l=Yq(o,e,t,r);zq(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=n.syncPointTree_.findOnPath(s,(d,f)=>Tu(f));if(u&&!h){const d=n.syncPointTree_.subtree(s);if(!d.isEmpty()){const f=n$(d);for(let v=0;v<f.length;++v){const g=f[v],E=g.query,_=x6(n,g);n.listenProvider_.startListening(U0(E),_2(n,E),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(u?n.listenProvider_.stopListening(U0(e),null):c.forEach(d=>{const f=n.queryToTagMap.get(qy(d));n.listenProvider_.stopListening(U0(d),f)}))}r$(n,c)}return a}function e$(n,e,t,r){const i=TT(n,r);if(i!=null){const s=bT(i),o=s.path,a=s.queryId,l=Ds(o,e),c=new qh(vT(a),l,t);return AT(n,o,c)}else return[]}function t$(n,e,t,r){const i=TT(n,r);if(i){const s=bT(i),o=s.path,a=s.queryId,l=Ds(o,e),c=ir.fromObject(t),u=new Om(vT(a),l,c);return AT(n,o,u)}else return[]}function e3(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(d,f)=>{const v=Ds(d,i);s=s||Cd(f,v),o=o||Tu(f)});let a=n.syncPointTree_.get(i);a?(o=o||Tu(a),s=s||Cd(a,Sn())):(a=new Vq,n.syncPointTree_=n.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Vt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((f,v)=>{const g=Cd(v,Sn());g&&(s=s.updateImmediateChild(f,g))}));const c=v6(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=qy(e);ct(!n.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=i$();n.queryToTagMap.set(d,f),n.tagToQueryMap.set(f,d)}const u=yT(n.pendingWriteTree_,i);let h=$q(a,e,t,u,s,l);if(!c&&!o&&!r){const d=g6(a,e);h=h.concat(s$(n,e,d))}return h}function ST(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ds(o,e),c=Cd(a,l);if(c)return c});return c6(i,e,s,t,!0)}function vg(n,e){return _6(e,n.syncPointTree_,null,yT(n.pendingWriteTree_,Sn()))}function _6(n,e,t,r){if(en(n.path))return w6(n,e,t,r);{const i=e.get(Sn());t==null&&i!=null&&(t=Cd(i,Sn()));let s=[];const o=Jt(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=u6(r,o);s=s.concat(_6(a,l,c,u))}return i&&(s=s.concat(ET(i,n,r,t))),s}}function w6(n,e,t,r){const i=e.get(Sn());t==null&&i!=null&&(t=Cd(i,Sn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=u6(r,o),u=n.operationForChild(o);u&&(s=s.concat(w6(u,a,l,c)))}),i&&(s=s.concat(ET(i,n,r,t))),s}function x6(n,e){const t=e.query,r=_2(n,t);return{hashFn:()=>(Mq(e)||Vt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Zq(n,t._path,r):Jq(n,t._path);{const s=ZH(i,t);return P5(n,t,null,s)}}}}function _2(n,e){const t=qy(e);return n.queryToTagMap.get(t)}function qy(n){return n._path.toString()+"$"+n._queryIdentifier}function TT(n,e){return n.tagToQueryMap.get(e)}function bT(n){const e=n.indexOf("$");return ct(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Un(n.substr(0,e))}}function AT(n,e,t){const r=n.syncPointTree_.get(e);ct(r,"Missing sync point for query tag that we're tracking");const i=yT(n.pendingWriteTree_,e);return ET(r,t,i,null)}function n$(n){return n.fold((e,t,r)=>{if(t&&Tu(t))return[Hy(t)];{let i=[];return t&&(i=m6(t)),rs(r,(s,o)=>{i=i.concat(o)}),i}})}function U0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Kq())(n._repo,n._path):n}function r$(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=qy(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function i$(){return Qq++}function s$(n,e,t){const r=e._path,i=_2(n,e),s=x6(n,t),o=n.listenProvider_.startListening(U0(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)ct(!Tu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!en(c)&&u&&Tu(u))return[Hy(u).query];{let d=[];return u&&(d=d.concat(m6(u).map(f=>f.query))),rs(h,(f,v)=>{d=d.concat(v)}),d}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(U0(u),_2(n,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new CT(t)}node(){return this.node_}}class kT{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Or(this.path_,e);return new kT(this.syncTree_,t)}node(){return ST(this.syncTree_,this.path_)}}const o$=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},t3=function(n,e,t){if(!n||typeof n!="object")return n;if(ct(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return a$(n[".sv"],e,t);if(typeof n[".sv"]=="object")return l$(n[".sv"],e);ct(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},a$=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ct(!1,"Unexpected server value: "+n)}},l$=function(n,e,t){n.hasOwnProperty("increment")||ct(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ct(!1,"Unexpected increment value: "+r);const i=e.node();if(ct(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},c$=function(n,e,t,r){return IT(e,new kT(t,n),r)},E6=function(n,e,t){return IT(n,new CT(e),t)};function IT(n,e,t){const r=n.getPriority().val(),i=t3(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=t3(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new oi(a,Hr(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new oi(i))),o.forEachChild(gr,(a,l)=>{const c=IT(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function PT(n,e){let t=e instanceof Un?e:new Un(e),r=n,i=Jt(t);for(;i!==null;){const s=Vd(r.node.children,i)||{children:{},childCount:0};r=new NT(i,r,s),t=Kn(t),i=Jt(t)}return r}function _p(n){return n.node.value}function S6(n,e){n.node.value=e,D5(n)}function T6(n){return n.node.childCount>0}function u$(n){return _p(n)===void 0&&!T6(n)}function $y(n,e){rs(n.node.children,(t,r)=>{e(new NT(t,n,r))})}function b6(n,e,t,r){t&&!r&&e(n),$y(n,i=>{b6(i,e,!0,r)}),t&&r&&e(n)}function h$(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function yg(n){return new Un(n.parent===null?n.name:yg(n.parent)+"/"+n.name)}function D5(n){n.parent!==null&&f$(n.parent,n.name,n)}function f$(n,e,t){const r=u$(t),i=el(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,D5(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,D5(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=/[\[\].#$\/\u0000-\u001F\u007F]/,p$=/[\[\].#$\u0000-\u001F\u007F]/,bw=10*1024*1024,DT=function(n){return typeof n=="string"&&n.length!==0&&!d$.test(n)},A6=function(n){return typeof n=="string"&&n.length!==0&&!p$.test(n)},m$=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),A6(n)},C6=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Uy(n)||n&&typeof n=="object"&&el(n,".sv")},R5=function(n,e,t,r){Yy(Wd(n,"value"),e,t)},Yy=function(n,e,t){const r=t instanceof Un?new Rz(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ch(r));if(typeof e=="function")throw new Error(n+"contains a function "+ch(r)+" with contents = "+e.toString());if(Uy(e))throw new Error(n+"contains "+e.toString()+" "+ch(r));if(typeof e=="string"&&e.length>bw/3&&py(e)>bw)throw new Error(n+"contains a string greater than "+bw+" utf8 bytes "+ch(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(rs(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!DT(o)))throw new Error(n+" contains an invalid key ("+o+") "+ch(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Lz(r,o),Yy(n,a,r),Oz(r)}),i&&s)throw new Error(n+' contains ".value" child '+ch(r)+" in addition to actual children.")}},g$=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Nm(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!DT(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Dz);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&Io(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},v$=function(n,e,t,r){const i=Wd(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];rs(e,(o,a)=>{const l=new Un(o);if(Yy(i,a,Or(t,l)),uT(l)===".priority"&&!C6(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),g$(i,s)},y$=function(n,e,t){if(Uy(e))throw new Error(Wd(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!C6(e))throw new Error(Wd(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},k6=function(n,e,t,r){if(!A6(t))throw new Error(Wd(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_$=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),k6(n,e,t)},y0=function(n,e){if(Jt(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},w$=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!DT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!m$(t))throw new Error(Wd(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function RT(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!hT(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function I6(n,e,t){RT(n,t),N6(n,r=>hT(r,e))}function Kl(n,e,t){RT(n,t),N6(n,r=>Io(r,e)||Io(e,r))}function N6(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(E$(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function E$(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();F0&&ki("event: "+t.toString()),vp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="repo_interrupt",T$=25;class b${constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new x$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=f2(),this.transactionQueueTree_=new NT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function A$(n,e,t){if(n.stats_=lT(n.repoInfo_),n.forceRestClient_||rz())n.server_=new h2(n.repoInfo_,(r,i,s,o)=>{n3(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>r3(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ui(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Rl(n.repoInfo_,e,(r,i,s,o)=>{n3(n,r,i,s,o)},r=>{r3(n,r)},r=>{k$(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=lz(n.repoInfo_,()=>new aq(n.stats_,n.server_)),n.infoData_=new nq,n.infoSyncTree_=new ZC({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=zy(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),OT(n,"connected",!1),n.serverSyncTree_=new ZC({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Kl(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function C$(n){const t=n.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function LT(n){return o$({timestamp:C$(n)})}function n3(n,e,t,r,i){n.dataUpdateCount++;const s=new Un(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Hv(t,c=>Hr(c));o=t$(n.serverSyncTree_,s,l,i)}else{const l=Hr(t);o=e$(n.serverSyncTree_,s,l,i)}else if(r){const l=Hv(t,c=>Hr(c));o=Xq(n.serverSyncTree_,s,l)}else{const l=Hr(t);o=zy(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Gy(n,s)),Kl(n.eventQueue_,a,o)}function r3(n,e){OT(n,"connected",e),e===!1&&N$(n)}function k$(n,e){rs(e,(t,r)=>{OT(n,t,r)})}function OT(n,e,t){const r=new Un("/.info/"+e),i=Hr(t);n.infoData_.updateSnapshot(r,i);const s=zy(n.infoSyncTree_,r,i);Kl(n.eventQueue_,r,s)}function P6(n){return n.nextWriteId_++}function I$(n,e,t,r,i){FT(n,"set",{path:e.toString(),value:t,priority:r});const s=LT(n),o=Hr(t,r),a=ST(n.serverSyncTree_,e),l=E6(o,a,s),c=P6(n),u=y6(n.serverSyncTree_,e,l,c,!0);RT(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(d,f)=>{const v=d==="ok";v||Ms("set at "+e+" failed: "+d);const g=_h(n.serverSyncTree_,c,!v);Kl(n.eventQueue_,e,g),ep(n,i,d,f)});const h=F6(n,e);Gy(n,h),Kl(n.eventQueue_,h,[])}function N$(n){FT(n,"onDisconnectEvents");const e=LT(n),t=f2();b5(n.onDisconnect_,Sn(),(i,s)=>{const o=c$(i,s,n.serverSyncTree_,e);yp(t,i,o)});let r=[];b5(t,Sn(),(i,s)=>{r=r.concat(zy(n.serverSyncTree_,i,s));const o=F6(n,i);Gy(n,o)}),n.onDisconnect_=f2(),Kl(n.eventQueue_,Sn(),r)}function P$(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&T5(n.onDisconnect_,e),ep(n,t,r,i)})}function i3(n,e,t,r){const i=Hr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&yp(n.onDisconnect_,e,i),ep(n,r,s,o)})}function D$(n,e,t,r,i){const s=Hr(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&yp(n.onDisconnect_,e,s),ep(n,i,o,a)})}function R$(n,e,t,r){if(Wv(t)){ki("onDisconnect().update() called with empty data.  Don't do anything."),ep(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{i==="ok"&&rs(t,(o,a)=>{const l=Hr(a);yp(n.onDisconnect_,Or(e,o),l)}),ep(n,r,i,s)})}function L$(n,e,t){let r;Jt(e._path)===".info"?r=e3(n.infoSyncTree_,e,t):r=e3(n.serverSyncTree_,e,t),I6(n.eventQueue_,e._path,r)}function O$(n,e,t){let r;Jt(e._path)===".info"?r=P5(n.infoSyncTree_,e,t):r=P5(n.serverSyncTree_,e,t),I6(n.eventQueue_,e._path,r)}function F$(n){n.persistentConnection_&&n.persistentConnection_.interrupt(S$)}function FT(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ki(t,...e)}function ep(n,e,t,r){e&&vp(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function D6(n,e,t){return ST(n.serverSyncTree_,e,t)||Vt.EMPTY_NODE}function MT(n,e=n.transactionQueueTree_){if(e||Ky(n,e),_p(e)){const t=L6(n,e);ct(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&M$(n,yg(e),t)}else T6(e)&&$y(e,t=>{MT(n,t)})}function M$(n,e,t){const r=t.map(c=>c.currentWriteId),i=D6(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];ct(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Ds(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{FT(n,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<t.length;d++)t[d].status=2,u=u.concat(_h(n.serverSyncTree_,t[d].currentWriteId)),t[d].onComplete&&h.push(()=>t[d].onComplete(null,!0,t[d].currentOutputSnapshotResolved)),t[d].unwatcher();Ky(n,PT(n.transactionQueueTree_,e)),MT(n,n.transactionQueueTree_),Kl(n.eventQueue_,e,u);for(let d=0;d<h.length;d++)vp(h[d])}else{if(c==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{Ms("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=c}Gy(n,e)}},o)}function Gy(n,e){const t=R6(n,e),r=yg(t),i=L6(n,t);return B$(n,i,r),r}function B$(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ds(t,l.path);let u=!1,h;if(ct(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(_h(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=T$)u=!0,h="maxretry",i=i.concat(_h(n.serverSyncTree_,l.currentWriteId,!0));else{const d=D6(n,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){Yy("transaction failed: Data returned ",f,l.path);let v=Hr(f);typeof f=="object"&&f!=null&&el(f,".priority")||(v=v.updatePriority(d.getPriority()));const E=l.currentWriteId,_=LT(n),w=E6(v,d,_);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=w,l.currentWriteId=P6(n),o.splice(o.indexOf(E),1),i=i.concat(y6(n.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(_h(n.serverSyncTree_,E,!0))}else u=!0,h="nodata",i=i.concat(_h(n.serverSyncTree_,l.currentWriteId,!0))}Kl(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Ky(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)vp(r[a]);MT(n,n.transactionQueueTree_)}function R6(n,e){let t,r=n.transactionQueueTree_;for(t=Jt(e);t!==null&&_p(r)===void 0;)r=PT(r,t),e=Kn(e),t=Jt(e);return r}function L6(n,e){const t=[];return O6(n,e,t),t.sort((r,i)=>r.order-i.order),t}function O6(n,e,t){const r=_p(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);$y(e,i=>{O6(n,i,t)})}function Ky(n,e){const t=_p(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,S6(e,t.length>0?t:void 0)}$y(e,r=>{Ky(n,r)})}function F6(n,e){const t=yg(R6(n,e)),r=PT(n.transactionQueueTree_,e);return h$(r,i=>{Aw(n,i)}),Aw(n,r),b6(r,i=>{Aw(n,i)}),t}function Aw(n,e){const t=_p(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(ct(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(ct(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(_h(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?S6(e,void 0):t.length=s+1,Kl(n.eventQueue_,yg(e),i);for(let o=0;o<r.length;o++)vp(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function U$(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ms(`Invalid query segment '${t}' in query '${n}'`)}return e}const s3=function(n,e){const t=V$(n),r=t.namespace;t.domain==="firebase.com"&&Gl(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Gl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||GH();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new WR(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new Un(t.pathString)}},V$=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");u===-1&&(u=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(u,h)),u<h&&(i=j$(n.substring(u,h)));const d=U$(n.substring(Math.min(n.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")t="localhost";else if(f.split(".").length<=2)t=f;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),t=e.substring(v+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ui(this.snapshot.exportVal())}}class H${constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ct(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new El;return P$(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){y0("OnDisconnect.remove",this._path);const e=new El;return i3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){y0("OnDisconnect.set",this._path),R5("OnDisconnect.set",e,this._path);const t=new El;return i3(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){y0("OnDisconnect.setWithPriority",this._path),R5("OnDisconnect.setWithPriority",e,this._path),y$("OnDisconnect.setWithPriority",t);const r=new El;return D$(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){y0("OnDisconnect.update",this._path),v$("OnDisconnect.update",e,this._path);const t=new El;return R$(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return en(this._path)?null:uT(this._path)}get ref(){return new ju(this._repo,this._path)}get _queryIdentifier(){const e=WC(this._queryParams),t=oT(e);return t==="{}"?"default":t}get _queryObject(){return WC(this._queryParams)}isEqual(e){if(e=lr(e),!(e instanceof BT))return!1;const t=this._repo===e._repo,r=hT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Pz(this._path)}}class ju extends BT{constructor(e,t){super(e,t,new mT,!1)}get parent(){const e=XR(this._path);return e===null?null:new ju(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class w2{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Un(e),r=L5(this.ref,e);return new w2(this._node.getChild(t),r,gr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new w2(i,L5(this.ref,r),gr)))}hasChild(e){const t=new Un(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cv(n,e){return n=lr(n),n._checkNotDeleted("ref"),e!==void 0?L5(n._root,e):n._root}function L5(n,e){return n=lr(n),Jt(n._path)===null?_$("child","path",e):k6("child","path",e),new ju(n._repo,Or(n._path,e))}function Cw(n){return n=lr(n),new q$(n._repo,n._path)}function kw(n,e){n=lr(n),y0("set",n._path),R5("set",e,n._path);const t=new El;return I$(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class jT{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const r=t._queryParams.getIndex();return new W$("value",this,new w2(e.snapshotNode,new ju(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new H$(this,e,t):null}matches(e){return e instanceof jT?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $$(n,e,t,r,i){const s=new z$(t,void 0),o=new jT(s);return L$(n._repo,n,o),()=>O$(n._repo,n,o)}function Y$(n,e,t,r){return $$(n,"value",e)}Wq(ju);Gq(ju);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$="FIREBASE_DATABASE_EMULATOR_HOST",O5={};let K$=!1;function Q$(n,e,t,r){n.repoInfo_=new WR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function X$(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||Gl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ki("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=s3(s,i),a=o.repoInfo,l;typeof process<"u"&&TC&&(l=TC[G$]),l?(s=`http://${l}?ns=${a.namespace}`,o=s3(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new sz(n.name,n.options,e);w$("Invalid Firebase Database URL",o),en(o.path)||Gl("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Z$(a,n,c,new iz(n.name,t));return new eY(u,n)}function J$(n,e){const t=O5[e];(!t||t[n.key]!==n)&&Gl(`Database ${e}(${n.repoInfo_}) has already been deleted.`),F$(n),delete t[n.key]}function Z$(n,e,t,r){let i=O5[e.name];i||(i={},O5[e.name]=i);let s=i[n.toURLString()];return s&&Gl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new b$(n,K$,t,r),i[n.toURLString()]=s,s}class eY{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(A$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ju(this._repo,Sn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(J$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gl("Cannot call "+e+" on a deleted database.")}}function tY(n=lS(),e){const t=gy(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=yP("database");r&&nY(t,...r)}return t}function nY(n,e,t,r={}){n=lr(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Gl("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lv(lv.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:xP(r.mockUserToken,n.app.options.projectId);s=new lv(o)}Q$(i,e,t,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(n){WH(nf),Bh(new vu("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return X$(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),ja(bC,AC,n),ja(bC,AC,"esm2017")}Rl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Rl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};rY();const iY={apiKey:"AIzaSyC1TFyTLIdzULpZmHQGwvoG4v8IfoQnDSI",authDomain:"etiquetasuptec.firebaseapp.com",databaseURL:"https://etiquetasuptec-default-rtdb.firebaseio.com",projectId:"etiquetasuptec",storageBucket:"etiquetasuptec.appspot.com",messagingSenderId:"1020897973081",appId:"1:1020897973081:web:3a3f6ff6397d7d688ab248",measurementId:"G-6TS0PYEMRV"},UT=CP(iY),fr=mV(UT),Qy=UH(UT),uv=tY(UT),sY=n=>{if(!n)return;const e=cv(uv,`status/${n.uid}`),t=cv(uv,`users/${n.uid}`),r=n.email.replace(/[.@]/g,"_").replace(/[[\]#$]/g,"_"),i=cv(uv,`connections/${r}`);Cw(e).remove(),Cw(t).remove(),Cw(i).remove(),kw(e,!0),kw(t,{email:n.email,lastSeen:new Date().toISOString()}),kw(i,{email:n.email,timestamp:new Date().toISOString()})},oY=({children:n,isAdmin:e,onToggleAdminPanel:t})=>{const{darkMode:r}=Ja(),[i,s]=je.useState(!1),[o,a]=je.useState(0),[l,c]=je.useState(!1);je.useEffect(()=>{const d=()=>{window.scrollY>300?s(!0):s(!1)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),je.useEffect(()=>{const d=cv(uv,"connections"),f=Y$(d,v=>{a(v.size||0)});return()=>f()},[]);const u=()=>{window.scrollTo({top:0,behavior:"smooth"})},h=async()=>{try{await IW(Qy)}catch(d){console.error("Error signing out:",d)}};return ae.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${r?"bg-gray-900 text-gray-100":"bg-gray-100 text-gray-800"}`,children:[ae.jsxs("header",{className:"py-4 px-6 flex justify-between items-center",children:[ae.jsx("div",{className:"flex items-center",children:ae.jsx("h1",{id:"editableTitle",contentEditable:"true",className:"text-xl font-semibold cursor-text",children:"Qualidade Uptec Brasil"})}),ae.jsxs("div",{className:"flex items-center space-x-4",children:[e&&ae.jsxs("button",{onClick:t,className:`px-3 py-1 rounded-md text-xs flex items-center space-x-1 ${r?"bg-purple-600":"bg-purple-500"} text-white hover:opacity-90 transition-opacity`,children:[ae.jsx(q7,{size:14}),ae.jsx("span",{children:"ADMIN"})]}),ae.jsxs("button",{onClick:()=>c(!0),className:`px-3 py-1 rounded-md text-xs flex items-center ${r?"bg-blue-600":"bg-blue-500"} text-white hover:opacity-90 transition-opacity`,children:[ae.jsx("span",{children:o}),"ONLINE"]}),ae.jsx(K7,{})]})]}),ae.jsx("main",{className:"container mx-auto py-6 px-4 max-w-6xl",children:n}),l&&ae.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${r?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ateno!"}),ae.jsx("p",{className:"mb-4",children:"Ao continuar voc ser desconectado. Para acessar novamente, insira seu e-mail e senha."}),ae.jsx("p",{className:"mb-6",children:"Voc deseja realmente sair?"}),ae.jsxs("div",{className:"flex justify-end space-x-4",children:[ae.jsx("button",{onClick:()=>c(!1),className:`px-4 py-2 rounded-md ${r?"bg-gray-600":"bg-gray-200"} hover:opacity-90 transition-opacity`,children:"Continuar Conectado"}),ae.jsx("button",{onClick:h,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:opacity-90 transition-opacity",children:"Desconectar"})]})]})}),ae.jsx("button",{onClick:u,className:`fixed bottom-8 right-8 p-2 rounded-full shadow-lg transition-all duration-300 ease-in-out ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"} ${r?"bg-gray-700 text-white hover:bg-gray-600":"bg-white text-gray-800 hover:bg-gray-100"}`,children:ae.jsx(U7,{size:24})})]})},aY=({id:n,label:e,value:t,onChange:r,required:i=!1,onKeyPress:s,isBatchNumberDuplicate:o=!1})=>{const{darkMode:a}=Ja(),[l,c]=je.useState([]),[u,h]=je.useState(!1),d=je.useRef(null);return je.useEffect(()=>{const f=fa(lo(fr,"codigospecas"),bm("lastUsed","desc"),Am(10)),v=n2(f,g=>{const E=g.docs.map(_=>_.data().code);c(E)});return()=>v()},[]),je.useEffect(()=>{if(t.trim()){const f=fa(lo(fr,"codigospecas"),$l("code",">=",t),$l("code","<=",t+""),Am(10)),v=n2(f,g=>{const E=g.docs.map(_=>_.data().code);c(E),h(!0)});return()=>v()}},[t]),ae.jsxs("div",{className:"relative",children:[ae.jsx("input",{ref:d,type:"text",id:n,value:t,onChange:f=>r(f.target.value),onKeyPress:s,onFocus:()=>h(!0),onBlur:()=>setTimeout(()=>h(!1),200),className:`
          w-full px-4 py-2.5 text-base
          border rounded-lg
          transition-all duration-200 ease-in-out
          focus:outline-none focus:ring-2
          ${a?"bg-gray-700 text-white border-gray-600 focus:border-blue-500 focus:ring-blue-500":"bg-white text-gray-900 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}
          ${o?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,placeholder:" ",required:i}),ae.jsxs("label",{htmlFor:n,className:`
          absolute text-sm
          transition-all duration-200 ease-in-out
          transform
          cursor-text
          ${t?"top-0 translate-y-[-50%] scale-75 px-2 left-3 z-10":"top-1/2 -translate-y-1/2 left-4"}
          ${a?`text-gray-300 ${t?"bg-gray-700":""} peer-focus:text-blue-400`:`text-gray-500 ${t?"bg-white":""} peer-focus:text-blue-600`}
        `,children:[e,i&&" *"]}),u&&l.length>0&&ae.jsx("ul",{className:`
            absolute z-50 w-full mt-1
            border rounded-md shadow-lg
            max-h-60 overflow-auto
            ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}
          `,children:l.map(f=>ae.jsx("li",{onClick:()=>{r(f),h(!1)},className:`
                px-4 py-2 cursor-pointer
                ${a?"hover:bg-gray-700 text-gray-200":"hover:bg-blue-50 text-gray-900"}
              `,children:f},f))})]})},lY=({id:n,label:e,checked:t,onChange:r})=>{const{darkMode:i}=Ja();return ae.jsx("div",{className:"flex items-center",children:ae.jsxs("label",{htmlFor:n,className:"flex items-center cursor-pointer",children:[ae.jsx("div",{className:"mr-3 text-base font-medium",children:e}),ae.jsxs("div",{className:"relative",children:[ae.jsx("input",{type:"checkbox",id:n,className:"sr-only",checked:t,onChange:r}),ae.jsx("div",{className:`
            w-[80px] h-[32px] rounded-full
            transition-all duration-300 ease-in-out
            shadow-inner
            ${t?i?"bg-blue-600":"bg-blue-500":i?"bg-gray-600":"bg-gray-300"}
          `,children:ae.jsx("div",{className:`
              absolute top-[6px] h-[20px] w-[35px]
              flex items-center justify-center
              rounded-full text-xs font-medium
              transition-all duration-300 ease-in-out
              shadow-lg
              ${t?"right-[6px] bg-white text-blue-600":"left-[6px] bg-gray-200 text-gray-600"}
            `,children:t?"ON":"OFF"})})]})]})})};function cY(n,e,t){const r=Math.floor(n/e),i=n%e,s=i>0?1:0,o=r+s,a=Math.floor(o/t),l=o%t,c=l>0?a+1:a,u=`
Total de Peas: ${n}
Peas por Embalagem: ${e}
Embalagens por Palete: ${t}

Matemtica detalhada:
${n} / ${e} = ${r} embalagens${i>0?` (sobram ${i} peas)`:""}

${r} / ${t} = ${a} paletes completos${l>0?` (sobram ${l} embalagens)`:""}

${t} * ${a} = ${t*a} embalagens em paletes completos

${r} - ${t*a} = ${l} embalagens restantes

Total de Paletes: ${a} completos${l>0?` e 1 palete incompleto com ${l} embalagens`:""}

${n} peas distribudas em ${o} embalagens`;return{totalLabels:o,completeLabels:r,extraLabels:s,extraPieces:i,totalPallets:c,completePallets:a,extraPackages:l,detailedCalculation:u}}const t0=({id:n,value:e,onChange:t,label:r,type:i="text",required:s=!1,onFocus:o,onBlur:a,readOnly:l=!1,className:c="",onKeyPress:u})=>{const{darkMode:h}=Ja(),d=e!==""&&e!==0;return ae.jsxs("div",{className:"relative",children:[ae.jsx("input",{id:n,name:n,type:i,value:e,onChange:t,onFocus:o,onBlur:a,onKeyPress:u,readOnly:l,className:`
          block w-full px-4 py-2.5 text-base
          border rounded-lg
          transition-all duration-200 ease-in-out
          focus:outline-none focus:ring-2
          peer
          ${l?"bg-gray-100 cursor-not-allowed":""}
          ${h?"bg-gray-700 text-white border-gray-600 focus:border-blue-500 focus:ring-blue-500":"bg-white text-gray-900 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}
          ${c}
        `,placeholder:" ",required:s}),ae.jsxs("label",{htmlFor:n,className:`
          absolute text-sm
          transition-all duration-200 ease-in-out
          transform
          cursor-text
          ${d?"top-0 translate-y-[-50%] scale-75 px-2 left-3 z-10":"top-1/2 -translate-y-1/2 left-4"}
          ${h?`text-gray-300 ${d?"bg-gray-700":""} peer-focus:text-blue-400 peer-focus:bg-gray-700`:`text-gray-500 ${d?"bg-white":""} peer-focus:text-blue-600 peer-focus:bg-white`}
          peer-focus:top-0 peer-focus:translate-y-[-50%] peer-focus:scale-75 peer-focus:px-2 peer-focus:left-3
        `,children:[r,s&&" *"]})]})},uY=()=>{const{darkMode:n}=Ja(),[e,t]=je.useState(""),[r,i]=je.useState(""),[s,o]=je.useState(0),[a,l]=je.useState(0),[c,u]=je.useState(0),[h,d]=je.useState(""),[f,v]=je.useState(!1),[g,E]=je.useState(null),[_,w]=je.useState(!1),[x,R]=je.useState(null),[B,V]=je.useState(!1),[T,b]=je.useState("");je.useEffect(()=>{(async()=>{try{const q=await GS(Po(fr,"SenhaAdmin","SenhaAdmin"));q.exists()&&b(q.data().SenhaAdmin||"")}catch(q){console.error("Error loading admin password:",q)}})()},[]);const I=()=>{const D=new Date,q=D.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),he=D.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return`${q}
${he}`},L=(D,q)=>{if(D.key==="Enter")if(D.preventDefault(),q){const he=document.getElementById(q);he&&he.focus()}else{const he=document.querySelector('button[type="submit"]');he?he.click():A()}};je.useEffect(()=>{if(!r){V(!1);return}const D=fa(lo(fr,"records"),$l("batchNumber","==",r)),q=n2(D,he=>{V(he.size>0)});return()=>q()},[r]),je.useEffect(()=>{(async()=>{if(e)try{const q=fa(lo(fr,"codigospecas"),$l("code","==",e)),he=await Eu(q);if(!he.empty){const ne=he.docs[0].data();E(ne),s||o(ne.piecesPerPackage),a||l(ne.packagesPerPallet)}}catch(q){console.error("Error loading part code details:",q)}})()},[e]),je.useEffect(()=>{if(c&&s&&a){const D=cY(c,s,a);R(D)}else R(null)},[c,s,a]);const A=async()=>{if(!e||!r||!s||!a||!c){alert("Por favor, preencha todos os campos obrigatrios");return}if(g&&(g.piecesPerPackage!==s||g.packagesPerPallet!==a)){v(!0);return}await C()},C=async()=>{try{if(!x)return;await g5(Po(fr,"codigospecas",e),{code:e,piecesPerPackage:s,packagesPerPallet:a,lastUsed:new Date});const D=lo(fr,"records"),he=(await Eu(D)).size+1;await g5(Po(fr,"records",String(he)),{id:he,dateCreated:I(),partCode:e,batchNumber:r,totalPieces:c,piecesPerPackage:s,packagesPerPallet:a,extraPieces:x.extraPieces,totalLabels:x.totalLabels,usedLabels:0,notes:h,detailedCalculation:x.detailedCalculation}),t(""),i(""),o(0),l(0),u(0),d(""),E(null),R(null)}catch(D){console.error("Error saving record:",D),alert("Error saving record")}};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:`rounded-lg p-6 mb-8 shadow-md ${n?"bg-gray-800":"bg-white"}`,children:[ae.jsxs("form",{onSubmit:D=>{D.preventDefault(),A()},children:[ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ae.jsx(aY,{id:"partCode",label:"Cdigo da Pea",value:e,onChange:t,required:!0,onKeyPress:D=>L(D,"batchNumber")}),ae.jsxs("div",{className:"relative",children:[ae.jsx(t0,{id:"batchNumber",label:"Nmero do Lote",value:r,onChange:D=>i(D.target.value),required:!0,type:"text",className:B?"border-2 border-red-500":"",onKeyPress:D=>L(D,"piecesPerPackage")}),B&&ae.jsx("p",{className:"text-red-500 text-sm mt-1",children:" Lote j registrado anteriormente"})]}),ae.jsx(t0,{id:"piecesPerPackage",label:"Peas por Embalagem",value:s||"",onChange:D=>{const q=Math.max(0,Number(D.target.value));o(q)},type:"number",required:!0,min:"0",onKeyPress:D=>L(D,"packagesPerPallet")}),ae.jsx(t0,{id:"packagesPerPallet",label:"Embalagens por Palete",value:a||"",onChange:D=>{const q=Math.max(0,Number(D.target.value));l(q)},type:"number",required:!0,min:"0",onKeyPress:D=>L(D,"totalPieces")}),ae.jsx(t0,{id:"totalPieces",label:"Total de Peas",value:c||"",onChange:D=>{const q=Math.max(0,Number(D.target.value));u(q)},type:"number",required:!0,min:"0",onKeyPress:D=>L(D,"notes")}),ae.jsx("div",{children:ae.jsx(t0,{id:"notes",label:"Observaes",value:h,onChange:D=>d(D.target.value),onKeyPress:D=>L(D,null)})})]}),ae.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[ae.jsx("button",{type:"submit",className:"px-6 py-3 rounded-lg font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-green-500/30 transform hover:scale-105",children:"Registrar"}),ae.jsx(lY,{id:"showDetailedCalc",label:"Clculos Detalhados",checked:_,onChange:()=>w(!_)})]})]}),x&&ae.jsxs("div",{className:`mt-6 p-4 rounded-lg ${n?"bg-gray-700":"bg-gray-100"}`,children:[ae.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resultados do Clculo:"}),!_&&ae.jsxs("div",{className:"space-y-2",children:[ae.jsxs("p",{className:"text-xl font-bold",children:["Total de Etiquetas: ",x.totalLabels,x.extraPieces>0&&` (${x.completeLabels} completas + 1 extra com ${x.extraPieces} peas)`]}),ae.jsxs("p",{className:"flex items-center space-x-2",children:[ae.jsxs("span",{children:["Peas Extras: ",x.extraPieces]}),ae.jsx("span",{children:"|"}),ae.jsxs("span",{children:["Total de Paletes: ",x.totalPallets]}),ae.jsx("span",{children:"|"}),ae.jsxs("span",{children:["Paletes Completos: ",x.completePallets]}),ae.jsx("span",{children:"|"}),ae.jsxs("span",{children:["Embalagens Extras: ",x.extraPackages]}),ae.jsx("span",{children:"|"})]})]}),_&&ae.jsxs("div",{className:"space-y-4",children:[ae.jsxs("p",{className:"text-xl font-bold",children:["Total de Etiquetas Necessrias: ",x.totalLabels,x.extraPieces>0&&` (${x.completeLabels} completas + 1 extra com ${x.extraPieces} peas)`]}),ae.jsx("div",{className:"whitespace-pre-wrap font-mono text-sm",children:x.detailedCalculation})]})]})]}),f&&ae.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-4",children:"Confirmar Atualizao"}),ae.jsxs("p",{children:["Voc est prestes a modificar as informaes do cdigo ",e,". Deseja continuar?"]}),ae.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[ae.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"}),ae.jsx("button",{onClick:()=>{v(!1),C()},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Confirmar"})]})]})})]})},hY=()=>{var U,Q;const{darkMode:n}=Ja(),[e,t]=je.useState([]),[r,i]=je.useState([]),[s,o]=je.useState(""),[a,l]=je.useState(1),[c,u]=je.useState(null),[h,d]=je.useState(!1),[f,v]=je.useState(!1),[g,E]=je.useState(null),[_,w]=je.useState(0),[x,R]=je.useState(0),[B,V]=je.useState(!1),[T,b]=je.useState(!0),I=10,L=je.useRef(!1),A=je.useRef(),C=je.useRef(null);je.useEffect(()=>{const ie=fa(lo(fr,"records"),bm("id","desc"),Am(100)),ge=n2(ie,ve=>{const Ee=ve.docs.map(Me=>({...Me.data(),id:Number(Me.id)}));t(Ee),C.current=ve.docs[ve.docs.length-1]});return()=>ge()},[]);const D=async()=>{if(!(!T||B)){V(!0);try{const ie=fa(lo(fr,"records"),bm("id","desc"),bV(C.current),Am(100)),ge=await Eu(ie);if(ge.empty){b(!1);return}const ve=ge.docs.map(Ee=>({...Ee.data(),id:Number(Ee.id)}));t(Ee=>[...Ee,...ve]),C.current=ge.docs[ge.docs.length-1]}catch(ie){console.error("Error loading more records:",ie)}finally{V(!1)}}};je.useEffect(()=>{if(s.trim()==="")i(e);else{const ie=e.filter(ge=>Object.values(ge).some(ve=>String(ve).toLowerCase().includes(s.toLowerCase())));i(ie)}l(1)},[s,e]);const q=async(ie,ge)=>{A.current&&clearTimeout(A.current),A.current=setTimeout(async()=>{try{const ve=Po(fr,"records",String(ie));await L0(ve,{usedLabels:ge})}catch(ve){console.error("Error updating used labels:",ve)}},3e3)},he=async()=>{if(c)try{await $D(Po(fr,"records",String(c))),d(!1),u(null)}catch(ie){console.error("Error deleting record:",ie)}},ne=ie=>{E({...ie}),w(ie.totalLabels),R(ie.extraPieces),v(!0)},ee=()=>{if(!g)return null;const ie=_*g.piecesPerPackage+x,ge=x>0?`${_} (${_-1} completas + 1 extra)`:_.toString();return{totalPieces:ie,displayLabels:ge}},K=async()=>{if(!g)return;const ie=ee();if(ie)try{const ge=Po(fr,"records",String(g.id)),ve=_<=g.usedLabels?_:g.usedLabels;await L0(ge,{partCode:g.partCode,batchNumber:g.batchNumber,totalLabels:_,extraPieces:x,totalPieces:ie.totalPieces,usedLabels:ve,notes:g.notes}),v(!1),E(null)}catch(ge){console.error("Error updating record:",ge)}},Z=()=>{v(!1),d(!1),E(null),u(null)};je.useEffect(()=>{const ie=ge=>{ge.target.classList.contains("modal-overlay")&&Z()};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const me=a*I,Ae=me-I,N=r.slice(Ae,me),M=Math.ceil(r.length/I),j=ie=>{l(ie),ie===M&&T&&D()};return ae.jsxs("div",{children:[ae.jsx("div",{className:"mb-6",children:ae.jsx("input",{type:"text",value:s,onChange:ie=>o(ie.target.value),placeholder:"Pesquisar registros...",className:`w-full p-3 rounded-lg shadow-sm ${n?"bg-gray-700 text-white placeholder-gray-400":"bg-white text-gray-800 placeholder-gray-400"}`})}),M>1&&ae.jsxs("div",{className:"flex justify-center mb-4",children:[ae.jsx("button",{onClick:()=>j(Math.max(1,a-1)),disabled:a===1,className:`px-3 py-1 rounded-md mx-1 ${n?"bg-gray-700 text-white disabled:bg-gray-800 disabled:text-gray-500":"bg-gray-200 text-gray-800 disabled:bg-gray-100 disabled:text-gray-400"}`,children:"Anterior"}),[...Array(M)].map((ie,ge)=>{const ve=ge+1;return ve<=3||ve>M-3||ve>=a-1&&ve<=a+1?ae.jsx("button",{onClick:()=>j(ve),className:`px-3 py-1 rounded-md mx-1 ${ve===a?n?"bg-blue-600 text-white":"bg-blue-500 text-white":n?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"}`,children:ve},ge):ve===4&&a>4||ve===M-3&&a<M-3?ae.jsx("span",{className:"px-3 py-1",children:"..."},ge):null}),ae.jsx("button",{onClick:()=>j(Math.min(M,a+1)),disabled:a===M&&!T,className:`px-3 py-1 rounded-md mx-1 ${n?"bg-gray-700 text-white disabled:bg-gray-800 disabled:text-gray-500":"bg-gray-200 text-gray-800 disabled:bg-gray-100 disabled:text-gray-400"}`,children:"Prximo"})]}),ae.jsx("div",{className:"overflow-x-auto mb-4",children:ae.jsxs("table",{className:`w-full border-collapse ${n?"text-gray-200":"text-gray-800"}`,children:[ae.jsx("thead",{children:ae.jsxs("tr",{className:`
              ${n?"bg-gray-700 border-gray-600":"bg-blue-50 border-gray-200"}
              border-b-2 shadow-sm
            `,children:[ae.jsx("th",{className:"w-12 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:"ID"}),ae.jsxs("th",{className:"w-24 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:["Data",ae.jsx("br",{}),"Hora"]}),ae.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:"Cdigo"}),ae.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:"Lote"}),ae.jsxs("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:["Total",ae.jsx("br",{}),"Peas"]}),ae.jsxs("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:["Peas por",ae.jsx("br",{}),"Embalagem"]}),ae.jsxs("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:["Embalagem",ae.jsx("br",{})," por Palete"]}),ae.jsxs("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:["Peas",ae.jsx("br",{}),"Extras"]}),ae.jsxs("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:["Etiquetas",ae.jsx("br",{}),"Necessrias"]}),ae.jsxs("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:["Etiquetas",ae.jsx("br",{}),"Usadas"]}),ae.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider border-r border-gray-200/20",children:"Observaes"}),ae.jsx("th",{className:"w-20 px-4 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Aes"})]})}),ae.jsx("tbody",{className:"divide-y divide-gray-200/20",children:N.map((ie,ge)=>ae.jsxs("tr",{className:`
                  ${ie.usedLabels===ie.totalLabels?n?"bg-green-900/40 hover:bg-green-900/40":"bg-green-50 hover:bg-green-50":ge%2===0?n?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50":n?"bg-gray-800/50 hover:bg-gray-700":"bg-gray-50/50 hover:bg-gray-100/50"}
                  transition-colors duration-150
                `,children:[ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.id}),ae.jsx("td",{className:"px-2 py-2 text-sm whitespace-pre-line border-r border-gray-200/10",children:ie.dateCreated}),ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.partCode}),ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.batchNumber}),ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.totalPieces}),ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.piecesPerPackage}),ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.packagesPerPallet}),ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.extraPieces}),ae.jsxs("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:[ie.totalLabels,ie.extraPieces>0&&ae.jsxs("span",{className:"text-xs block",children:["(",ie.totalLabels-1," + 1)"]})]}),ae.jsx("td",{className:"px-2 py-2 text-sm border-r border-gray-200/10",children:ae.jsx("input",{type:"number",value:ie.usedLabels,min:"0",max:ie.totalLabels,className:`w-16 p-1 rounded-md ${n?"bg-gray-600 text-white":"bg-white text-gray-800"}`,onFocus:()=>{L.current=!0},onBlur:ve=>{L.current=!1;let Ee=Number(ve.target.value);Ee>ie.totalLabels&&(Ee=ie.totalLabels),q(ie.id,Ee)},onChange:ve=>{let Ee=Number(ve.target.value);Ee>ie.totalLabels&&(Ee=ie.totalLabels);const Me=[...e],We=Me.findIndex(tt=>tt.id===ie.id);We!==-1&&(Me[We].usedLabels=Ee,t(Me))}})}),ae.jsx("td",{className:"px-2 py-2 text-sm truncate border-r border-gray-200/10",children:ie.notes}),ae.jsx("td",{className:"px-2 py-2 text-sm",children:ae.jsxs("div",{className:"flex space-x-2",children:[ae.jsx("button",{onClick:()=>ne(ie),className:`p-1 rounded-md ${n?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Editar",children:ae.jsx($7,{size:16})}),ae.jsx("button",{onClick:()=>{u(ie.id),d(!0)},className:`p-1 rounded-md ${n?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Excluir",children:ae.jsx(G7,{size:16})})]})})]},ie.id))})]})}),B&&ae.jsx("div",{className:"text-center py-4",children:ae.jsx("p",{children:"Carregando mais registros..."})}),f&&g&&ae.jsx("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-4xl w-full mx-4 ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-6",children:"Editar Registro"}),ae.jsxs("div",{className:"space-y-6",children:[ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Cdigo da Pea"}),ae.jsx("input",{type:"text",value:g.partCode,readOnly:!0,className:`w-full p-2 rounded-md ${n?"bg-gray-700 text-white":"bg-gray-100 text-gray-800"}`})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Peas por Embalagem"}),ae.jsx("input",{type:"text",value:g.piecesPerPackage,readOnly:!0,className:`w-full p-2 rounded-md ${n?"bg-gray-700 text-white":"bg-gray-100 text-gray-800"}`})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Embalagens por Palete"}),ae.jsx("input",{type:"text",value:g.packagesPerPallet,readOnly:!0,className:`w-full p-2 rounded-md ${n?"bg-gray-700 text-white":"bg-gray-100 text-gray-800"}`})]})]}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Nmero do Lote"}),ae.jsx("input",{type:"text",value:g.batchNumber,onChange:ie=>E({...g,batchNumber:ie.target.value}),className:`w-full p-2 rounded-md ${n?"bg-gray-700 text-white":"bg-white text-gray-800"}`})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Etiquetas Necessrias"}),ae.jsx("input",{type:"number",value:_,onChange:ie=>w(Number(ie.target.value)),className:`w-full p-2 rounded-md ${n?"bg-gray-700 text-white":"bg-white text-gray-800"}`})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Peas Extras"}),ae.jsx("input",{type:"number",value:x,onChange:ie=>R(Number(ie.target.value)),min:"0",max:g.piecesPerPackage-1,className:`w-full p-2 rounded-md ${n?"bg-gray-700 text-white":"bg-white text-gray-800"}`})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Observaes"}),ae.jsx("textarea",{value:g.notes,onChange:ie=>E({...g,notes:ie.target.value}),className:`w-full p-2 rounded-md ${n?"bg-gray-700 text-white":"bg-white text-gray-800"}`,rows:3})]}),ee()&&ae.jsxs("div",{className:"p-4 rounded-lg bg-gray-100 dark:bg-gray-700",children:[ae.jsxs("p",{className:"text-lg font-medium",children:["Etiquetas Necessrias: ",(U=ee())==null?void 0:U.displayLabels]}),ae.jsxs("p",{className:"text-lg font-medium",children:["Total de Peas: ",(Q=ee())==null?void 0:Q.totalPieces]})]}),ae.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[ae.jsx("button",{onClick:Z,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"}),ae.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Salvar"})]})]})]})}),h&&ae.jsx("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-4",children:"Confirmar Excluso"}),ae.jsx("p",{className:"mb-6",children:"Tem certeza que deseja excluir este registro? Esta ao no pode ser desfeita."}),ae.jsxs("div",{className:"flex justify-end space-x-4",children:[ae.jsx("button",{onClick:Z,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"}),ae.jsx("button",{onClick:he,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Excluir"})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var x2={};x2.version="0.18.5";var M6=1252,fY=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],B6=function(n){fY.indexOf(n)!=-1&&(M6=n)};function dY(){B6(1252)}var Fm=function(n){B6(n)};function pY(){Fm(1200),dY()}var E1=function(e){return String.fromCharCode(e)},o3=function(e){return String.fromCharCode(e)},fh,Gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Mm(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0;c<n.length;)t=n.charCodeAt(c++),s=t>>2,r=n.charCodeAt(c++),o=(t&3)<<4|r>>4,i=n.charCodeAt(c++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),e+=Gc.charAt(s)+Gc.charAt(o)+Gc.charAt(a)+Gc.charAt(l);return e}function Ql(n){var e="",t=0,r=0,i=0,s=0,o=0,a=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<n.length;)s=Gc.indexOf(n.charAt(c++)),o=Gc.indexOf(n.charAt(c++)),t=s<<2|o>>4,e+=String.fromCharCode(t),a=Gc.indexOf(n.charAt(c++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),l=Gc.indexOf(n.charAt(c++)),i=(a&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var En=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),tc=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Gh(n){return En?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function a3(n){return En?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var na=function(e){return En?tc(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Xy(n){if(typeof ArrayBuffer>"u")return na(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function _g(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function mY(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var Ni=En?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:tc(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function gY(n){for(var e=[],t=0,r=n.length+250,i=Gh(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|a>>6&15|(o&3)<<4,i[t++]=128|a&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Gh(65535),r=65530)}return e.push(i.slice(0,t)),Ni(e)}var V0=/\u0000/g,S1=/[\u0001-\u0006]/g;function kd(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function ia(n,e){var t=""+n;return t.length>=e?t:br("0",e-t.length)+t}function VT(n,e){var t=""+n;return t.length>=e?t:br(" ",e-t.length)+t}function E2(n,e){var t=""+n;return t.length>=e?t:t+br(" ",e-t.length)}function vY(n,e){var t=""+Math.round(n);return t.length>=e?t:br("0",e-t.length)+t}function yY(n,e){var t=""+n;return t.length>=e?t:br("0",e-t.length)+t}var l3=Math.pow(2,32);function Uf(n,e){if(n>l3||n<-l3)return vY(n,e);var t=Math.round(n);return yY(t,e)}function S2(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var c3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Iw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _Y(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Ar={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},u3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wY={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function T2(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,a=0,l=1,c=0,u=0,h=Math.floor(i);c<e&&(h=Math.floor(i),a=h*o+s,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),s=o,o=a,l=c,c=u;if(u>e&&(c>e?(u=l,a=s):(u=c,a=o)),!t)return[0,r*a,u];var d=Math.floor(r*a/u);return[d,r*a-d*u,u]}function T1(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],a={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),t&&(s=CY(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var j6=new Date(1899,11,31,0,0,0),xY=j6.getTime(),EY=new Date(1900,2,1,0,0,0);function U6(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=EY&&(t+=24*60*60*1e3),(t-(xY+(n.getTimezoneOffset()-j6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function WT(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SY(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function TY(n){var e=n<0?12:11,t=WT(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function bY(n){var e=WT(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function AY(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=TY(n):e===10?t=n.toFixed(10).substr(0,12):t=bY(n),WT(SY(t.toUpperCase()))}function F5(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):AY(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return bu(14,U6(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function CY(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function kY(n,e,t,r){var i="",s=0,o=0,a=t.y,l,c=0;switch(n){case 98:a=t.y+543;case 121:switch(e.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,c=e.length;break;case 3:return Iw[t.m-1][1];case 5:return Iw[t.m-1][0];default:return Iw[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,c=e.length;break;case 3:return c3[t.q][0];default:return c3[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ia(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=ia(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=a,c=1;break}var u=c>0?ia(l,c):"";return u}function Kc(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var V6=/%/g;function IY(n,e,t){var r=e.replace(V6,""),i=e.length-r.length;return Ll(n,r,t*Math.pow(10,2*i))+br("%",i)}function NY(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ll(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function W6(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+W6(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var H6=/# (\?+)( ?)\/( ?)(\d+)/;function PY(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return t+(s===0?"":""+s)+" "+(o===0?br(" ",n[1].length+1+n[4].length):VT(o,n[1].length)+n[2]+"/"+n[3]+ia(a,n[4].length))}function DY(n,e,t){return t+(e===0?"":""+e)+br(" ",n[1].length+2+n[4].length)}var z6=/^#*0*\.([0#]+)/,q6=/\).*[0#]/,$6=/\(###\) ###\\?-####/;function ds(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function h3(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function f3(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function RY(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function LY(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function So(n,e,t){if(n.charCodeAt(0)===40&&!e.match(q6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?So("n",r,t):"("+So("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return NY(n,e,t);if(e.indexOf("%")!==-1)return IY(n,e,t);if(e.indexOf("E")!==-1)return W6(e,t);if(e.charCodeAt(0)===36)return"$"+So(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+Uf(l,e.length);if(e.match(/^[#?]+$/))return i=Uf(t,0),i==="0"&&(i=""),i.length>e.length?i:ds(e.substr(0,e.length-i.length))+i;if(s=e.match(H6))return PY(s,l,c);if(e.match(/^#+0+$/))return c+Uf(l,e.length-e.indexOf("0"));if(s=e.match(z6))return i=h3(t,s[1].length).replace(/^([^\.]+)$/,"$1."+ds(s[1])).replace(/\.$/,"."+ds(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+br("0",ds(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+h3(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Kc(Uf(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+So(n,e,-t):Kc(""+(Math.floor(t)+RY(t,s[1].length)))+"."+ia(f3(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return So(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=kd(So(n,e.replace(/[\\-]/g,""),t)),o=0,kd(kd(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(e.match($6))return i=So(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=T2(l,Math.pow(10,o)-1,!1),i=""+c,u=Ll("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=E2(a[2],o),u.length<s[4].length&&(u=ds(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=T2(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?VT(a[1],o)+s[2]+"/"+s[3]+E2(a[2],o):br(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Uf(t,0),e.length<=i.length?i:ds(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=e.indexOf(".")-o,d=e.length-i.length-h;return ds(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=f3(t,s[1].length),t<0?"-"+So(n,e,-t):Kc(LY(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ia(0,3-v.length):"")+v})+"."+ia(o,s[1].length);switch(e){case"###,##0.00":return So(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var f=Kc(Uf(l,0));return f!=="0"?c+f:"";case"###,###.00":return So(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return So(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function OY(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ll(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function FY(n,e,t){var r=e.replace(V6,""),i=e.length-r.length;return Ll(n,r,t*Math.pow(10,2*i))+br("%",i)}function Y6(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Y6(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Aa(n,e,t){if(n.charCodeAt(0)===40&&!e.match(q6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Aa("n",r,t):"("+Aa("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return OY(n,e,t);if(e.indexOf("%")!==-1)return FY(n,e,t);if(e.indexOf("E")!==-1)return Y6(e,t);if(e.charCodeAt(0)===36)return"$"+Aa(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+ia(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:ds(e.substr(0,e.length-i.length))+i;if(s=e.match(H6))return DY(s,l,c);if(e.match(/^#+0+$/))return c+ia(l,e.length-e.indexOf("0"));if(s=e.match(z6))return i=(""+t).replace(/^([^\.]+)$/,"$1."+ds(s[1])).replace(/\.$/,"."+ds(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+br("0",ds(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Kc(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Aa(n,e,-t):Kc(""+t)+"."+br("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Aa(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=kd(Aa(n,e.replace(/[\\-]/g,""),t)),o=0,kd(kd(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(e.match($6))return i=Aa(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=T2(l,Math.pow(10,o)-1,!1),i=""+c,u=Ll("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=E2(a[2],o),u.length<s[4].length&&(u=ds(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=T2(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?VT(a[1],o)+s[2]+"/"+s[3]+E2(a[2],o):br(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:ds(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=e.indexOf(".")-o,d=e.length-i.length-h;return ds(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Aa(n,e,-t):Kc(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ia(0,3-v.length):"")+v})+"."+ia(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=Kc(""+l);return f!=="0"?c+f:"";default:if(e.match(/\.[0#?]*$/))return Aa(n,e.slice(0,e.lastIndexOf(".")),t)+ds(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ll(n,e,t){return(t|0)===t?Aa(n,e,t):So(n,e,t)}function MY(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var G6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function K6(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":S2(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(G6))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function BY(n,e,t,r){for(var i=[],s="",o=0,a="",l="t",c,u,h,d="H";o<n.length;)switch(a=n.charAt(o)){case"G":if(!S2(n,o))throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(h=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++o;break;case"\\":var f=n.charAt(++o),v=f==="("||f===")"?f:"t";i[i.length]={t:v,v:f},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(c==null&&(c=T1(e,t,n.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=T1(e,t),c==null))return"";for(s=a;++o<n.length&&n.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=d),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var g={t:a,v:a};if(c==null&&(c=T1(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",d="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",o+=5,d="h"):n.substr(o,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",o+=5,d="h"):(g.t="t",++o),c==null&&g.t==="T")return"";i[i.length]=g,l=a;break;case"[":for(s=a;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(G6)){if(c==null&&(c=T1(e,t),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",K6(n)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<n.length&&(a=n.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<n.length&&"0#?.,E+-%".indexOf(a=n.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;n.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"t",v:a},++o;break}var E=0,_=0,w;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=d,l="h",E<1&&(E=1);break;case"s":(w=i[o].v.match(/\.0+$/))&&(_=Math.max(_,w[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[o].v.match(/[Hh]/)&&(E=1),E<2&&i[o].v.match(/[Mm]/)&&(E=2),E<3&&i[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",R;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=kY(i[o].t.charCodeAt(0),i[o].v,c,_),i[o].t="t";break;case"n":case"?":for(R=o+1;i[R]!=null&&((a=i[R].t)==="?"||a==="D"||(a===" "||a==="t")&&i[R+1]!=null&&(i[R+1].t==="?"||i[R+1].t==="t"&&i[R+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[R].v==="/"||i[R].v===" "&&i[R+1]!=null&&i[R+1].t=="?"));)i[o].v+=i[R].v,i[R]={v:"",t:";"},++R;x+=i[o].v,o=R-1;break;case"G":i[o].t="t",i[o].v=F5(e,t);break}var B="",V,T;if(x.length>0){x.charCodeAt(0)==40?(V=e<0&&x.charCodeAt(0)===45?-e:e,T=Ll("n",x,V)):(V=e<0&&r>1?-e:e,T=Ll("n",x,V),V<0&&i[0]&&i[0].t=="t"&&(T=T.substr(1),i[0].v="-"+i[0].v)),R=T.length-1;var b=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){b=o;break}var I=i.length;if(b===i.length&&T.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(R>=i[o].v.length-1?(R-=i[o].v.length,i[o].v=T.substr(R+1,i[o].v.length)):R<0?i[o].v="":(i[o].v=T.substr(0,R+1),R=-1),i[o].t="t",I=o);R>=0&&I<i.length&&(i[I].v=T.substr(0,R+1)+i[I].v)}else if(b!==i.length&&T.indexOf("E")===-1){for(R=T.indexOf(".")-1,o=b;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(".")>-1&&o===b?i[o].v.indexOf(".")-1:i[o].v.length-1,B=i[o].v.substr(u+1);u>=0;--u)R>=0&&(i[o].v.charAt(u)==="0"||i[o].v.charAt(u)==="#")&&(B=T.charAt(R--)+B);i[o].v=B,i[o].t="t",I=o}for(R>=0&&I<i.length&&(i[I].v=T.substr(0,R+1)+i[I].v),R=T.indexOf(".")+1,o=b;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==b)){for(u=i[o].v.indexOf(".")>-1&&o===b?i[o].v.indexOf(".")+1:0,B=i[o].v.substr(0,u);u<i[o].v.length;++u)R<T.length&&(B+=T.charAt(R++));i[o].v=B,i[o].t="t",I=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(V=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Ll(i[o].t,i[o].v,V),i[o].t="t");var L="";for(o=0;o!==i.length;++o)i[o]!=null&&(L+=i[o].v);return L}var d3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function p3(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function jY(n,e){var t=MY(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(d3),a=t[1].match(d3);return p3(e,o)?[r,t[0]]:p3(e,a)?[r,t[1]]:[r,t[o!=null&&a!=null?2:1]]}return[r,s]}function bu(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Ar)[n],r==null&&(r=t.table&&t.table[u3[n]]||Ar[u3[n]]),r==null&&(r=wY[n]||"General");break}if(S2(r,0))return F5(e,t);e instanceof Date&&(e=U6(e,t.date1904));var i=jY(r,e);if(S2(i[1]))return F5(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return BY(i[1],e,t,i[0])}function Q6(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Ar[t]==null){e<0&&(e=t);continue}if(Ar[t]==n){e=t;break}}e<0&&(e=391)}return Ar[e]=n,e}function Jy(n){for(var e=0;e!=392;++e)n[e]!==void 0&&Q6(n[e],e)}function Zy(){Ar=_Y()}var X6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UY(n){var e=typeof n=="number"?Ar[n]:n;return e=e.replace(X6,"(\\d+)"),new RegExp("^"+e+"$")}function VY(n,e,t){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(e.match(X6)||[]).forEach(function(h,d){var f=parseInt(t[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=f;break;case"d":s=f;break;case"h":o=f;break;case"s":l=f;break;case"m":o>=0?a=f:i=f;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var WY=function(){var n={};n.version="1.2.0";function e(){for(var T=0,b=new Array(256),I=0;I!=256;++I)T=I,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,b[I]=T;return typeof Int32Array<"u"?new Int32Array(b):b}var t=e();function r(T){var b=0,I=0,L=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)A[L]=T[L];for(L=0;L!=256;++L)for(I=T[L],b=256+L;b<4096;b+=256)I=A[b]=I>>>8^T[I&255];var C=[];for(L=1;L!=16;++L)C[L-1]=typeof Int32Array<"u"?A.subarray(L*256,L*256+256):A.slice(L*256,L*256+256);return C}var i=r(t),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],d=i[7],f=i[8],v=i[9],g=i[10],E=i[11],_=i[12],w=i[13],x=i[14];function R(T,b){for(var I=b^-1,L=0,A=T.length;L<A;)I=I>>>8^t[(I^T.charCodeAt(L++))&255];return~I}function B(T,b){for(var I=b^-1,L=T.length-15,A=0;A<L;)I=x[T[A++]^I&255]^w[T[A++]^I>>8&255]^_[T[A++]^I>>16&255]^E[T[A++]^I>>>24]^g[T[A++]]^v[T[A++]]^f[T[A++]]^d[T[A++]]^h[T[A++]]^u[T[A++]]^c[T[A++]]^l[T[A++]]^a[T[A++]]^o[T[A++]]^s[T[A++]]^t[T[A++]];for(L+=15;A<L;)I=I>>>8^t[(I^T[A++])&255];return~I}function V(T,b){for(var I=b^-1,L=0,A=T.length,C=0,D=0;L<A;)C=T.charCodeAt(L++),C<128?I=I>>>8^t[(I^C)&255]:C<2048?(I=I>>>8^t[(I^(192|C>>6&31))&255],I=I>>>8^t[(I^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,D=T.charCodeAt(L++)&1023,I=I>>>8^t[(I^(240|C>>8&7))&255],I=I>>>8^t[(I^(128|C>>2&63))&255],I=I>>>8^t[(I^(128|D>>6&15|(C&3)<<4))&255],I=I>>>8^t[(I^(128|D&63))&255]):(I=I>>>8^t[(I^(224|C>>12&15))&255],I=I>>>8^t[(I^(128|C>>6&63))&255],I=I>>>8^t[(I^(128|C&63))&255]);return~I}return n.table=t,n.bstr=R,n.buf=B,n.str=V,n}(),qn=function(){var e={};e.version="1.2.1";function t(z,ce){for(var re=z.split("/"),se=ce.split("/"),le=0,ue=0,Ce=Math.min(re.length,se.length);le<Ce;++le){if(ue=re[le].length-se[le].length)return ue;if(re[le]!=se[le])return re[le]<se[le]?-1:1}return re.length-se.length}function r(z){if(z.charAt(z.length-1)=="/")return z.slice(0,-1).indexOf("/")===-1?z:r(z.slice(0,-1));var ce=z.lastIndexOf("/");return ce===-1?z:z.slice(0,ce+1)}function i(z){if(z.charAt(z.length-1)=="/")return i(z.slice(0,-1));var ce=z.lastIndexOf("/");return ce===-1?z:z.slice(ce+1)}function s(z,ce){typeof ce=="string"&&(ce=new Date(ce));var re=ce.getHours();re=re<<6|ce.getMinutes(),re=re<<5|ce.getSeconds()>>>1,z.write_shift(2,re);var se=ce.getFullYear()-1980;se=se<<4|ce.getMonth()+1,se=se<<5|ce.getDate(),z.write_shift(2,se)}function o(z){var ce=z.read_shift(2)&65535,re=z.read_shift(2)&65535,se=new Date,le=re&31;re>>>=5;var ue=re&15;re>>>=4,se.setMilliseconds(0),se.setFullYear(re+1980),se.setMonth(ue-1),se.setDate(le);var Ce=ce&31;ce>>>=5;var Oe=ce&63;return ce>>>=6,se.setHours(ce),se.setMinutes(Oe),se.setSeconds(Ce<<1),se}function a(z){eo(z,0);for(var ce={},re=0;z.l<=z.length-4;){var se=z.read_shift(2),le=z.read_shift(2),ue=z.l+le,Ce={};switch(se){case 21589:re=z.read_shift(1),re&1&&(Ce.mtime=z.read_shift(4)),le>5&&(re&2&&(Ce.atime=z.read_shift(4)),re&4&&(Ce.ctime=z.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}z.l=ue,ce[se]=Ce}return ce}var l;function c(){return l||(l={})}function u(z,ce){if(z[0]==80&&z[1]==75)return Wn(z,ce);if((z[0]|32)==109&&(z[1]|32)==105)return ss(z,ce);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var re=3,se=512,le=0,ue=0,Ce=0,Oe=0,ke=0,Ie=[],Re=z.slice(0,512);eo(Re,0);var Xe=h(Re);switch(re=Xe[0],re){case 3:se=512;break;case 4:se=4096;break;case 0:if(Xe[1]==0)return Wn(z,ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}se!==512&&(Re=z.slice(0,se),eo(Re,28));var st=z.slice(0,se);d(Re,re);var gt=Re.read_shift(4,"i");if(re===3&&gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+gt);Re.l+=4,Ce=Re.read_shift(4,"i"),Re.l+=4,Re.chk("00100000","Mini Stream Cutoff Size: "),Oe=Re.read_shift(4,"i"),le=Re.read_shift(4,"i"),ke=Re.read_shift(4,"i"),ue=Re.read_shift(4,"i");for(var nt=-1,ft=0;ft<109&&(nt=Re.read_shift(4,"i"),!(nt<0));++ft)Ie[ft]=nt;var Ft=f(z,se);E(ke,ue,Ft,se,Ie);var fn=w(Ft,Ce,Ie,se);fn[Ce].name="!Directory",le>0&&Oe!==D&&(fn[Oe].name="!MiniFAT"),fn[Ie[0]].name="!FAT",fn.fat_addrs=Ie,fn.ssz=se;var dn={},Hn=[],os=[],Fo=[];x(Ce,fn,Ft,Hn,le,dn,os,Oe),v(os,Fo,Hn),Hn.shift();var Hs={FileIndex:os,FullPaths:Fo};return ce&&ce.raw&&(Hs.raw={header:st,sectors:Ft}),Hs}function h(z){if(z[z.l]==80&&z[z.l+1]==75)return[0,0];z.chk(q,"Header Signature: "),z.l+=16;var ce=z.read_shift(2,"u");return[z.read_shift(2,"u"),ce]}function d(z,ce){var re=9;switch(z.l+=2,re=z.read_shift(2)){case 9:if(ce!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(ce!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}function f(z,ce){for(var re=Math.ceil(z.length/ce)-1,se=[],le=1;le<re;++le)se[le-1]=z.slice(le*ce,(le+1)*ce);return se[re-1]=z.slice(re*ce),se}function v(z,ce,re){for(var se=0,le=0,ue=0,Ce=0,Oe=0,ke=re.length,Ie=[],Re=[];se<ke;++se)Ie[se]=Re[se]=se,ce[se]=re[se];for(;Oe<Re.length;++Oe)se=Re[Oe],le=z[se].L,ue=z[se].R,Ce=z[se].C,Ie[se]===se&&(le!==-1&&Ie[le]!==le&&(Ie[se]=Ie[le]),ue!==-1&&Ie[ue]!==ue&&(Ie[se]=Ie[ue])),Ce!==-1&&(Ie[Ce]=se),le!==-1&&se!=Ie[se]&&(Ie[le]=Ie[se],Re.lastIndexOf(le)<Oe&&Re.push(le)),ue!==-1&&se!=Ie[se]&&(Ie[ue]=Ie[se],Re.lastIndexOf(ue)<Oe&&Re.push(ue));for(se=1;se<ke;++se)Ie[se]===se&&(ue!==-1&&Ie[ue]!==ue?Ie[se]=Ie[ue]:le!==-1&&Ie[le]!==le&&(Ie[se]=Ie[le]));for(se=1;se<ke;++se)if(z[se].type!==0){if(Oe=se,Oe!=Ie[Oe])do Oe=Ie[Oe],ce[se]=ce[Oe]+"/"+ce[se];while(Oe!==0&&Ie[Oe]!==-1&&Oe!=Ie[Oe]);Ie[se]=-1}for(ce[0]+="/",se=1;se<ke;++se)z[se].type!==2&&(ce[se]+="/")}function g(z,ce,re){for(var se=z.start,le=z.size,ue=[],Ce=se;re&&le>0&&Ce>=0;)ue.push(ce.slice(Ce*C,Ce*C+C)),le-=C,Ce=dh(re,Ce*4);return ue.length===0?Ve(0):Ni(ue).slice(0,z.size)}function E(z,ce,re,se,le){var ue=D;if(z===D){if(ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(z!==-1){var Ce=re[z],Oe=(se>>>2)-1;if(!Ce)return;for(var ke=0;ke<Oe&&(ue=dh(Ce,ke*4))!==D;++ke)le.push(ue);E(dh(Ce,se-4),ce-1,re,se,le)}}function _(z,ce,re,se,le){var ue=[],Ce=[];le||(le=[]);var Oe=se-1,ke=0,Ie=0;for(ke=ce;ke>=0;){le[ke]=!0,ue[ue.length]=ke,Ce.push(z[ke]);var Re=re[Math.floor(ke*4/se)];if(Ie=ke*4&Oe,se<4+Ie)throw new Error("FAT boundary crossed: "+ke+" 4 "+se);if(!z[Re])break;ke=dh(z[Re],Ie)}return{nodes:ue,data:E3([Ce])}}function w(z,ce,re,se){var le=z.length,ue=[],Ce=[],Oe=[],ke=[],Ie=se-1,Re=0,Xe=0,st=0,gt=0;for(Re=0;Re<le;++Re)if(Oe=[],st=Re+ce,st>=le&&(st-=le),!Ce[st]){ke=[];var nt=[];for(Xe=st;Xe>=0;){nt[Xe]=!0,Ce[Xe]=!0,Oe[Oe.length]=Xe,ke.push(z[Xe]);var ft=re[Math.floor(Xe*4/se)];if(gt=Xe*4&Ie,se<4+gt)throw new Error("FAT boundary crossed: "+Xe+" 4 "+se);if(!z[ft]||(Xe=dh(z[ft],gt),nt[Xe]))break}ue[st]={nodes:Oe,data:E3([ke])}}return ue}function x(z,ce,re,se,le,ue,Ce,Oe){for(var ke=0,Ie=se.length?2:0,Re=ce[z].data,Xe=0,st=0,gt;Xe<Re.length;Xe+=128){var nt=Re.slice(Xe,Xe+128);eo(nt,64),st=nt.read_shift(2),gt=YT(nt,0,st-Ie),se.push(gt);var ft={name:gt,type:nt.read_shift(1),color:nt.read_shift(1),L:nt.read_shift(4,"i"),R:nt.read_shift(4,"i"),C:nt.read_shift(4,"i"),clsid:nt.read_shift(16),state:nt.read_shift(4,"i"),start:0,size:0},Ft=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);Ft!==0&&(ft.ct=R(nt,nt.l-8));var fn=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);fn!==0&&(ft.mt=R(nt,nt.l-8)),ft.start=nt.read_shift(4,"i"),ft.size=nt.read_shift(4,"i"),ft.size<0&&ft.start<0&&(ft.size=ft.type=0,ft.start=D,ft.name=""),ft.type===5?(ke=ft.start,le>0&&ke!==D&&(ce[ke].name="!StreamData")):ft.size>=4096?(ft.storage="fat",ce[ft.start]===void 0&&(ce[ft.start]=_(re,ft.start,ce.fat_addrs,ce.ssz)),ce[ft.start].name=ft.name,ft.content=ce[ft.start].data.slice(0,ft.size)):(ft.storage="minifat",ft.size<0?ft.size=0:ke!==D&&ft.start!==D&&ce[ke]&&(ft.content=g(ft,ce[ke].data,(ce[Oe]||{}).data))),ft.content&&eo(ft.content,0),ue[gt]=ft,Ce.push(ft)}}function R(z,ce){return new Date((no(z,ce+4)/1e7*Math.pow(2,32)+no(z,ce)/1e7-11644473600)*1e3)}function B(z,ce){return c(),u(l.readFileSync(z),ce)}function V(z,ce){var re=ce&&ce.type;switch(re||En&&Buffer.isBuffer(z)&&(re="buffer"),re||"base64"){case"file":return B(z,ce);case"base64":return u(na(Ql(z)),ce);case"binary":return u(na(z),ce)}return u(z,ce)}function T(z,ce){var re=ce||{},se=re.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");z.FullPaths.length===0&&(z.FullPaths[0]=se+"/",z.FileIndex[0]={name:se,type:5}),re.CLSID&&(z.FileIndex[0].clsid=re.CLSID),b(z)}function b(z){var ce="Sh33tJ5";if(!qn.find(z,"/"+ce)){var re=Ve(4);re[0]=55,re[1]=re[3]=50,re[2]=54,z.FileIndex.push({name:ce,type:2,content:re,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+ce),I(z)}}function I(z,ce){T(z);for(var re=!1,se=!1,le=z.FullPaths.length-1;le>=0;--le){var ue=z.FileIndex[le];switch(ue.type){case 0:se?re=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(ue.R*ue.L*ue.C)&&(re=!0),ue.R>-1&&ue.L>-1&&ue.R==ue.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!ce)){var Ce=new Date(1987,1,19),Oe=0,ke=Object.create?Object.create(null):{},Ie=[];for(le=0;le<z.FullPaths.length;++le)ke[z.FullPaths[le]]=!0,z.FileIndex[le].type!==0&&Ie.push([z.FullPaths[le],z.FileIndex[le]]);for(le=0;le<Ie.length;++le){var Re=r(Ie[le][0]);se=ke[Re],se||(Ie.push([Re,{name:i(Re).replace("/",""),type:1,clsid:ne,ct:Ce,mt:Ce,content:null}]),ke[Re]=!0)}for(Ie.sort(function(gt,nt){return t(gt[0],nt[0])}),z.FullPaths=[],z.FileIndex=[],le=0;le<Ie.length;++le)z.FullPaths[le]=Ie[le][0],z.FileIndex[le]=Ie[le][1];for(le=0;le<Ie.length;++le){var Xe=z.FileIndex[le],st=z.FullPaths[le];if(Xe.name=i(st).replace("/",""),Xe.L=Xe.R=Xe.C=-(Xe.color=1),Xe.size=Xe.content?Xe.content.length:0,Xe.start=0,Xe.clsid=Xe.clsid||ne,le===0)Xe.C=Ie.length>1?1:-1,Xe.size=0,Xe.type=5;else if(st.slice(-1)=="/"){for(Oe=le+1;Oe<Ie.length&&r(z.FullPaths[Oe])!=st;++Oe);for(Xe.C=Oe>=Ie.length?-1:Oe,Oe=le+1;Oe<Ie.length&&r(z.FullPaths[Oe])!=r(st);++Oe);Xe.R=Oe>=Ie.length?-1:Oe,Xe.type=1}else r(z.FullPaths[le+1]||"")==r(st)&&(Xe.R=le+1),Xe.type=2}}}function L(z,ce){var re=ce||{};if(re.fileType=="mad")return xt(z,re);switch(I(z),re.fileType){case"zip":return is(z,re)}var se=function(gt){for(var nt=0,ft=0,Ft=0;Ft<gt.FileIndex.length;++Ft){var fn=gt.FileIndex[Ft];if(fn.content){var dn=fn.content.length;dn>0&&(dn<4096?nt+=dn+63>>6:ft+=dn+511>>9)}}for(var Hn=gt.FullPaths.length+3>>2,os=nt+7>>3,Fo=nt+127>>7,Hs=os+ft+Hn+Fo,Ss=Hs+127>>7,zs=Ss<=109?0:Math.ceil((Ss-109)/127);Hs+Ss+zs+127>>7>Ss;)zs=++Ss<=109?0:Math.ceil((Ss-109)/127);var wi=[1,zs,Ss,Fo,Hn,ft,nt,0];return gt.FileIndex[0].size=nt<<6,wi[7]=(gt.FileIndex[0].start=wi[0]+wi[1]+wi[2]+wi[3]+wi[4]+wi[5])+(wi[6]+7>>3),wi}(z),le=Ve(se[7]<<9),ue=0,Ce=0;{for(ue=0;ue<8;++ue)le.write_shift(1,he[ue]);for(ue=0;ue<8;++ue)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),ue=0;ue<3;++ue)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,se[2]),le.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:D),le.write_shift(4,se[3]),le.write_shift(-4,se[1]?se[0]-1:D),le.write_shift(4,se[1]),ue=0;ue<109;++ue)le.write_shift(-4,ue<se[2]?se[1]+ue:-1)}if(se[1])for(Ce=0;Ce<se[1];++Ce){for(;ue<236+Ce*127;++ue)le.write_shift(-4,ue<se[2]?se[1]+ue:-1);le.write_shift(-4,Ce===se[1]-1?D:Ce+1)}var Oe=function(gt){for(Ce+=gt;ue<Ce-1;++ue)le.write_shift(-4,ue+1);gt&&(++ue,le.write_shift(-4,D))};for(Ce=ue=0,Ce+=se[1];ue<Ce;++ue)le.write_shift(-4,ee.DIFSECT);for(Ce+=se[2];ue<Ce;++ue)le.write_shift(-4,ee.FATSECT);Oe(se[3]),Oe(se[4]);for(var ke=0,Ie=0,Re=z.FileIndex[0];ke<z.FileIndex.length;++ke)Re=z.FileIndex[ke],Re.content&&(Ie=Re.content.length,!(Ie<4096)&&(Re.start=Ce,Oe(Ie+511>>9)));for(Oe(se[6]+7>>3);le.l&511;)le.write_shift(-4,ee.ENDOFCHAIN);for(Ce=ue=0,ke=0;ke<z.FileIndex.length;++ke)Re=z.FileIndex[ke],Re.content&&(Ie=Re.content.length,!(!Ie||Ie>=4096)&&(Re.start=Ce,Oe(Ie+63>>6)));for(;le.l&511;)le.write_shift(-4,ee.ENDOFCHAIN);for(ue=0;ue<se[4]<<2;++ue){var Xe=z.FullPaths[ue];if(!Xe||Xe.length===0){for(ke=0;ke<17;++ke)le.write_shift(4,0);for(ke=0;ke<3;++ke)le.write_shift(4,-1);for(ke=0;ke<12;++ke)le.write_shift(4,0);continue}Re=z.FileIndex[ue],ue===0&&(Re.start=Re.size?Re.start-1:D);var st=ue===0&&re.root||Re.name;if(Ie=2*(st.length+1),le.write_shift(64,st,"utf16le"),le.write_shift(2,Ie),le.write_shift(1,Re.type),le.write_shift(1,Re.color),le.write_shift(-4,Re.L),le.write_shift(-4,Re.R),le.write_shift(-4,Re.C),Re.clsid)le.write_shift(16,Re.clsid,"hex");else for(ke=0;ke<4;++ke)le.write_shift(4,0);le.write_shift(4,Re.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Re.start),le.write_shift(4,Re.size),le.write_shift(4,0)}for(ue=1;ue<z.FileIndex.length;++ue)if(Re=z.FileIndex[ue],Re.size>=4096)if(le.l=Re.start+1<<9,En&&Buffer.isBuffer(Re.content))Re.content.copy(le,le.l,0,Re.size),le.l+=Re.size+511&-512;else{for(ke=0;ke<Re.size;++ke)le.write_shift(1,Re.content[ke]);for(;ke&511;++ke)le.write_shift(1,0)}for(ue=1;ue<z.FileIndex.length;++ue)if(Re=z.FileIndex[ue],Re.size>0&&Re.size<4096)if(En&&Buffer.isBuffer(Re.content))Re.content.copy(le,le.l,0,Re.size),le.l+=Re.size+63&-64;else{for(ke=0;ke<Re.size;++ke)le.write_shift(1,Re.content[ke]);for(;ke&63;++ke)le.write_shift(1,0)}if(En)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function A(z,ce){var re=z.FullPaths.map(function(ke){return ke.toUpperCase()}),se=re.map(function(ke){var Ie=ke.split("/");return Ie[Ie.length-(ke.slice(-1)=="/"?2:1)]}),le=!1;ce.charCodeAt(0)===47?(le=!0,ce=re[0].slice(0,-1)+ce):le=ce.indexOf("/")!==-1;var ue=ce.toUpperCase(),Ce=le===!0?re.indexOf(ue):se.indexOf(ue);if(Ce!==-1)return z.FileIndex[Ce];var Oe=!ue.match(S1);for(ue=ue.replace(V0,""),Oe&&(ue=ue.replace(S1,"!")),Ce=0;Ce<re.length;++Ce)if((Oe?re[Ce].replace(S1,"!"):re[Ce]).replace(V0,"")==ue||(Oe?se[Ce].replace(S1,"!"):se[Ce]).replace(V0,"")==ue)return z.FileIndex[Ce];return null}var C=64,D=-2,q="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(z,ce,re){c();var se=L(z,re);l.writeFileSync(ce,se)}function Z(z){for(var ce=new Array(z.length),re=0;re<z.length;++re)ce[re]=String.fromCharCode(z[re]);return ce.join("")}function me(z,ce){var re=L(z,ce);switch(ce&&ce.type||"buffer"){case"file":return c(),l.writeFileSync(ce.filename,re),re;case"binary":return typeof re=="string"?re:Z(re);case"base64":return Mm(typeof re=="string"?re:Z(re));case"buffer":if(En)return Buffer.isBuffer(re)?re:tc(re);case"array":return typeof re=="string"?na(re):re}return re}var Ae;function N(z){try{var ce=z.InflateRaw,re=new ce;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)Ae=z;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function M(z,ce){if(!Ae)return rn(z,ce);var re=Ae.InflateRaw,se=new re,le=se._processChunk(z.slice(z.l),se._finishFlushFlag);return z.l+=se.bytesRead,le}function j(z){return Ae?Ae.deflateRawSync(z):Gt(z)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(z){var ce=(z<<1|z<<11)&139536|(z<<5|z<<15)&558144;return(ce>>16|ce>>8|ce)&255}for(var ve=typeof Uint8Array<"u",Ee=ve?new Uint8Array(256):[],Me=0;Me<256;++Me)Ee[Me]=ge(Me);function We(z,ce){var re=Ee[z&255];return ce<=8?re>>>8-ce:(re=re<<8|Ee[z>>8&255],ce<=16?re>>>16-ce:(re=re<<8|Ee[z>>16&255],re>>>24-ce))}function tt(z,ce){var re=ce&7,se=ce>>>3;return(z[se]|(re<=6?0:z[se+1]<<8))>>>re&3}function at(z,ce){var re=ce&7,se=ce>>>3;return(z[se]|(re<=5?0:z[se+1]<<8))>>>re&7}function Fe(z,ce){var re=ce&7,se=ce>>>3;return(z[se]|(re<=4?0:z[se+1]<<8))>>>re&15}function pe(z,ce){var re=ce&7,se=ce>>>3;return(z[se]|(re<=3?0:z[se+1]<<8))>>>re&31}function Ye(z,ce){var re=ce&7,se=ce>>>3;return(z[se]|(re<=1?0:z[se+1]<<8))>>>re&127}function _t(z,ce,re){var se=ce&7,le=ce>>>3,ue=(1<<re)-1,Ce=z[le]>>>se;return re<8-se||(Ce|=z[le+1]<<8-se,re<16-se)||(Ce|=z[le+2]<<16-se,re<24-se)||(Ce|=z[le+3]<<24-se),Ce&ue}function Ke(z,ce,re){var se=ce&7,le=ce>>>3;return se<=5?z[le]|=(re&7)<<se:(z[le]|=re<<se&255,z[le+1]=(re&7)>>8-se),ce+3}function it(z,ce,re){var se=ce&7,le=ce>>>3;return re=(re&1)<<se,z[le]|=re,ce+1}function ut(z,ce,re){var se=ce&7,le=ce>>>3;return re<<=se,z[le]|=re&255,re>>>=8,z[le+1]=re,ce+8}function ht(z,ce,re){var se=ce&7,le=ce>>>3;return re<<=se,z[le]|=re&255,re>>>=8,z[le+1]=re&255,z[le+2]=re>>>8,ce+16}function At(z,ce){var re=z.length,se=2*re>ce?2*re:ce+5,le=0;if(re>=ce)return z;if(En){var ue=a3(se);if(z.copy)z.copy(ue);else for(;le<z.length;++le)ue[le]=z[le];return ue}else if(ve){var Ce=new Uint8Array(se);if(Ce.set)Ce.set(z);else for(;le<re;++le)Ce[le]=z[le];return Ce}return z.length=se,z}function kt(z){for(var ce=new Array(z),re=0;re<z;++re)ce[re]=0;return ce}function Mt(z,ce,re){var se=1,le=0,ue=0,Ce=0,Oe=0,ke=z.length,Ie=ve?new Uint16Array(32):kt(32);for(ue=0;ue<32;++ue)Ie[ue]=0;for(ue=ke;ue<re;++ue)z[ue]=0;ke=z.length;var Re=ve?new Uint16Array(ke):kt(ke);for(ue=0;ue<ke;++ue)Ie[le=z[ue]]++,se<le&&(se=le),Re[ue]=0;for(Ie[0]=0,ue=1;ue<=se;++ue)Ie[ue+16]=Oe=Oe+Ie[ue-1]<<1;for(ue=0;ue<ke;++ue)Oe=z[ue],Oe!=0&&(Re[ue]=Ie[Oe+16]++);var Xe=0;for(ue=0;ue<ke;++ue)if(Xe=z[ue],Xe!=0)for(Oe=We(Re[ue],se)>>se-Xe,Ce=(1<<se+4-Xe)-1;Ce>=0;--Ce)ce[Oe|Ce<<Xe]=Xe&15|ue<<4;return se}var It=ve?new Uint16Array(512):kt(512),Dt=ve?new Uint16Array(32):kt(32);if(!ve){for(var Qt=0;Qt<512;++Qt)It[Qt]=0;for(Qt=0;Qt<32;++Qt)Dt[Qt]=0}(function(){for(var z=[],ce=0;ce<32;ce++)z.push(5);Mt(z,Dt,32);var re=[];for(ce=0;ce<=143;ce++)re.push(8);for(;ce<=255;ce++)re.push(9);for(;ce<=279;ce++)re.push(7);for(;ce<=287;ce++)re.push(8);Mt(re,It,288)})();var Rt=function(){for(var ce=ve?new Uint8Array(32768):[],re=0,se=0;re<ie.length-1;++re)for(;se<ie[re+1];++se)ce[se]=re;for(;se<32768;++se)ce[se]=29;var le=ve?new Uint8Array(259):[];for(re=0,se=0;re<Q.length-1;++re)for(;se<Q[re+1];++se)le[se]=re;function ue(Oe,ke){for(var Ie=0;Ie<Oe.length;){var Re=Math.min(65535,Oe.length-Ie),Xe=Ie+Re==Oe.length;for(ke.write_shift(1,+Xe),ke.write_shift(2,Re),ke.write_shift(2,~Re&65535);Re-- >0;)ke[ke.l++]=Oe[Ie++]}return ke.l}function Ce(Oe,ke){for(var Ie=0,Re=0,Xe=ve?new Uint16Array(32768):[];Re<Oe.length;){var st=Math.min(65535,Oe.length-Re);if(st<10){for(Ie=Ke(ke,Ie,+(Re+st==Oe.length)),Ie&7&&(Ie+=8-(Ie&7)),ke.l=Ie/8|0,ke.write_shift(2,st),ke.write_shift(2,~st&65535);st-- >0;)ke[ke.l++]=Oe[Re++];Ie=ke.l*8;continue}Ie=Ke(ke,Ie,+(Re+st==Oe.length)+2);for(var gt=0;st-- >0;){var nt=Oe[Re];gt=(gt<<5^nt)&32767;var ft=-1,Ft=0;if((ft=Xe[gt])&&(ft|=Re&-32768,ft>Re&&(ft-=32768),ft<Re))for(;Oe[ft+Ft]==Oe[Re+Ft]&&Ft<250;)++Ft;if(Ft>2){nt=le[Ft],nt<=22?Ie=ut(ke,Ie,Ee[nt+1]>>1)-1:(ut(ke,Ie,3),Ie+=5,ut(ke,Ie,Ee[nt-23]>>5),Ie+=3);var fn=nt<8?0:nt-4>>2;fn>0&&(ht(ke,Ie,Ft-Q[nt]),Ie+=fn),nt=ce[Re-ft],Ie=ut(ke,Ie,Ee[nt]>>3),Ie-=3;var dn=nt<4?0:nt-2>>1;dn>0&&(ht(ke,Ie,Re-ft-ie[nt]),Ie+=dn);for(var Hn=0;Hn<Ft;++Hn)Xe[gt]=Re&32767,gt=(gt<<5^Oe[Re])&32767,++Re;st-=Ft-1}else nt<=143?nt=nt+48:Ie=it(ke,Ie,1),Ie=ut(ke,Ie,Ee[nt]),Xe[gt]=Re&32767,++Re}Ie=ut(ke,Ie,0)-1}return ke.l=(Ie+7)/8|0,ke.l}return function(ke,Ie){return ke.length<8?ue(ke,Ie):Ce(ke,Ie)}}();function Gt(z){var ce=Ve(50+Math.floor(z.length*1.1)),re=Rt(z,ce);return ce.slice(0,re)}var mt=ve?new Uint16Array(32768):kt(32768),er=ve?new Uint16Array(32768):kt(32768),Zt=ve?new Uint16Array(128):kt(128),_i=1,hn=1;function Vn(z,ce){var re=pe(z,ce)+257;ce+=5;var se=pe(z,ce)+1;ce+=5;var le=Fe(z,ce)+4;ce+=4;for(var ue=0,Ce=ve?new Uint8Array(19):kt(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,Ie=ve?new Uint8Array(8):kt(8),Re=ve?new Uint8Array(8):kt(8),Xe=Ce.length,st=0;st<le;++st)Ce[U[st]]=ue=at(z,ce),ke<ue&&(ke=ue),Ie[ue]++,ce+=3;var gt=0;for(Ie[0]=0,st=1;st<=ke;++st)Re[st]=gt=gt+Ie[st-1]<<1;for(st=0;st<Xe;++st)(gt=Ce[st])!=0&&(Oe[st]=Re[gt]++);var nt=0;for(st=0;st<Xe;++st)if(nt=Ce[st],nt!=0){gt=Ee[Oe[st]]>>8-nt;for(var ft=(1<<7-nt)-1;ft>=0;--ft)Zt[gt|ft<<nt]=nt&7|st<<3}var Ft=[];for(ke=1;Ft.length<re+se;)switch(gt=Zt[Ye(z,ce)],ce+=gt&7,gt>>>=3){case 16:for(ue=3+tt(z,ce),ce+=2,gt=Ft[Ft.length-1];ue-- >0;)Ft.push(gt);break;case 17:for(ue=3+at(z,ce),ce+=3;ue-- >0;)Ft.push(0);break;case 18:for(ue=11+Ye(z,ce),ce+=7;ue-- >0;)Ft.push(0);break;default:Ft.push(gt),ke<gt&&(ke=gt);break}var fn=Ft.slice(0,re),dn=Ft.slice(re);for(st=re;st<286;++st)fn[st]=0;for(st=se;st<30;++st)dn[st]=0;return _i=Mt(fn,mt,286),hn=Mt(dn,er,30),ce}function xs(z,ce){if(z[0]==3&&!(z[1]&3))return[Gh(ce),2];for(var re=0,se=0,le=a3(ce||1<<18),ue=0,Ce=le.length>>>0,Oe=0,ke=0;!(se&1);){if(se=at(z,re),re+=3,se>>>1)se>>1==1?(Oe=9,ke=5):(re=Vn(z,re),Oe=_i,ke=hn);else{re&7&&(re+=8-(re&7));var Ie=z[re>>>3]|z[(re>>>3)+1]<<8;if(re+=32,Ie>0)for(!ce&&Ce<ue+Ie&&(le=At(le,ue+Ie),Ce=le.length);Ie-- >0;)le[ue++]=z[re>>>3],re+=8;continue}for(;;){!ce&&Ce<ue+32767&&(le=At(le,ue+32767),Ce=le.length);var Re=_t(z,re,Oe),Xe=se>>>1==1?It[Re]:mt[Re];if(re+=Xe&15,Xe>>>=4,!(Xe>>>8&255))le[ue++]=Xe;else{if(Xe==256)break;Xe-=257;var st=Xe<8?0:Xe-4>>2;st>5&&(st=0);var gt=ue+Q[Xe];st>0&&(gt+=_t(z,re,st),re+=st),Re=_t(z,re,ke),Xe=se>>>1==1?Dt[Re]:er[Re],re+=Xe&15,Xe>>>=4;var nt=Xe<4?0:Xe-2>>1,ft=ie[Xe];for(nt>0&&(ft+=_t(z,re,nt),re+=nt),!ce&&Ce<gt&&(le=At(le,gt+100),Ce=le.length);ue<gt;)le[ue]=le[ue-ft],++ue}}}return ce?[le,re+7>>>3]:[le.slice(0,ue),re+7>>>3]}function rn(z,ce){var re=z.slice(z.l||0),se=xs(re,ce);return z.l+=se[1],se[0]}function Ws(z,ce){if(z)typeof console<"u"&&console.error(ce);else throw new Error(ce)}function Wn(z,ce){var re=z;eo(re,0);var se=[],le=[],ue={FileIndex:se,FullPaths:le};T(ue,{root:ce.root});for(var Ce=re.length-4;(re[Ce]!=80||re[Ce+1]!=75||re[Ce+2]!=5||re[Ce+3]!=6)&&Ce>=0;)--Ce;re.l=Ce+4,re.l+=4;var Oe=re.read_shift(2);re.l+=6;var ke=re.read_shift(4);for(re.l=ke,Ce=0;Ce<Oe;++Ce){re.l+=20;var Ie=re.read_shift(4),Re=re.read_shift(4),Xe=re.read_shift(2),st=re.read_shift(2),gt=re.read_shift(2);re.l+=8;var nt=re.read_shift(4),ft=a(re.slice(re.l+Xe,re.l+Xe+st));re.l+=Xe+st+gt;var Ft=re.l;re.l=nt+4,Kr(re,Ie,Re,ue,ft),re.l=Ft}return ue}function Kr(z,ce,re,se,le){z.l+=2;var ue=z.read_shift(2),Ce=z.read_shift(2),Oe=o(z);if(ue&8257)throw new Error("Unsupported ZIP encryption");for(var ke=z.read_shift(4),Ie=z.read_shift(4),Re=z.read_shift(4),Xe=z.read_shift(2),st=z.read_shift(2),gt="",nt=0;nt<Xe;++nt)gt+=String.fromCharCode(z[z.l++]);if(st){var ft=a(z.slice(z.l,z.l+st));(ft[21589]||{}).mt&&(Oe=ft[21589].mt),((le||{})[21589]||{}).mt&&(Oe=le[21589].mt)}z.l+=st;var Ft=z.slice(z.l,z.l+Ie);switch(Ce){case 8:Ft=M(z,Re);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var fn=!1;ue&8&&(ke=z.read_shift(4),ke==134695760&&(ke=z.read_shift(4),fn=!0),Ie=z.read_shift(4),Re=z.read_shift(4)),Ie!=ce&&Ws(fn,"Bad compressed size: "+ce+" != "+Ie),Re!=re&&Ws(fn,"Bad uncompressed size: "+re+" != "+Re),Br(se,gt,Ft,{unsafe:!0,mt:Oe})}function is(z,ce){var re=ce||{},se=[],le=[],ue=Ve(1),Ce=re.compression?8:0,Oe=0,ke=0,Ie=0,Re=0,Xe=0,st=z.FullPaths[0],gt=st,nt=z.FileIndex[0],ft=[],Ft=0;for(ke=1;ke<z.FullPaths.length;++ke)if(gt=z.FullPaths[ke].slice(st.length),nt=z.FileIndex[ke],!(!nt.size||!nt.content||gt=="Sh33tJ5")){var fn=Re,dn=Ve(gt.length);for(Ie=0;Ie<gt.length;++Ie)dn.write_shift(1,gt.charCodeAt(Ie)&127);dn=dn.slice(0,dn.l),ft[Xe]=WY.buf(nt.content,0);var Hn=nt.content;Ce==8&&(Hn=j(Hn)),ue=Ve(30),ue.write_shift(4,67324752),ue.write_shift(2,20),ue.write_shift(2,Oe),ue.write_shift(2,Ce),nt.mt?s(ue,nt.mt):ue.write_shift(4,0),ue.write_shift(-4,ft[Xe]),ue.write_shift(4,Hn.length),ue.write_shift(4,nt.content.length),ue.write_shift(2,dn.length),ue.write_shift(2,0),Re+=ue.length,se.push(ue),Re+=dn.length,se.push(dn),Re+=Hn.length,se.push(Hn),ue=Ve(46),ue.write_shift(4,33639248),ue.write_shift(2,0),ue.write_shift(2,20),ue.write_shift(2,Oe),ue.write_shift(2,Ce),ue.write_shift(4,0),ue.write_shift(-4,ft[Xe]),ue.write_shift(4,Hn.length),ue.write_shift(4,nt.content.length),ue.write_shift(2,dn.length),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(4,0),ue.write_shift(4,fn),Ft+=ue.l,le.push(ue),Ft+=dn.length,le.push(dn),++Xe}return ue=Ve(22),ue.write_shift(4,101010256),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,Xe),ue.write_shift(2,Xe),ue.write_shift(4,Ft),ue.write_shift(4,Re),ue.write_shift(2,0),Ni([Ni(se),Ni(le),ue])}var _n={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Pt(z,ce){if(z.ctype)return z.ctype;var re=z.name||"",se=re.match(/\.([^\.]+)$/);return se&&_n[se[1]]||ce&&(se=(re=ce).match(/[\.\\]([^\.\\])+$/),se&&_n[se[1]])?_n[se[1]]:"application/octet-stream"}function un(z){for(var ce=Mm(z),re=[],se=0;se<ce.length;se+=76)re.push(ce.slice(se,se+76));return re.join(`\r
`)+`\r
`}function Es(z){var ce=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ie){var Re=Ie.charCodeAt(0).toString(16).toUpperCase();return"="+(Re.length==1?"0"+Re:Re)});ce=ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ce.charAt(0)==`
`&&(ce="=0D"+ce.slice(1)),ce=ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],se=ce.split(`\r
`),le=0;le<se.length;++le){var ue=se[le];if(ue.length==0){re.push("");continue}for(var Ce=0;Ce<ue.length;){var Oe=76,ke=ue.slice(Ce,Ce+Oe);ke.charAt(Oe-1)=="="?Oe--:ke.charAt(Oe-2)=="="?Oe-=2:ke.charAt(Oe-3)=="="&&(Oe-=3),ke=ue.slice(Ce,Ce+Oe),Ce+=Oe,Ce<ue.length&&(ke+="="),re.push(ke)}}return re.join(`\r
`)}function _r(z){for(var ce=[],re=0;re<z.length;++re){for(var se=z[re];re<=z.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+z[++re];ce.push(se)}for(var le=0;le<ce.length;++le)ce[le]=ce[le].replace(/[=][0-9A-Fa-f]{2}/g,function(ue){return String.fromCharCode(parseInt(ue.slice(1),16))});return na(ce.join(`\r
`))}function ri(z,ce,re){for(var se="",le="",ue="",Ce,Oe=0;Oe<10;++Oe){var ke=ce[Oe];if(!ke||ke.match(/^\s*$/))break;var Ie=ke.match(/^(.*?):\s*([^\s].*)$/);if(Ie)switch(Ie[1].toLowerCase()){case"content-location":se=Ie[2].trim();break;case"content-type":ue=Ie[2].trim();break;case"content-transfer-encoding":le=Ie[2].trim();break}}switch(++Oe,le.toLowerCase()){case"base64":Ce=na(Ql(ce.slice(Oe).join("")));break;case"quoted-printable":Ce=_r(ce.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Re=Br(z,se.slice(re.length),Ce,{unsafe:!0});ue&&(Re.ctype=ue)}function ss(z,ce){if(Z(z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=ce&&ce.root||"",se=(En&&Buffer.isBuffer(z)?z.toString("binary"):Z(z)).split(`\r
`),le=0,ue="";for(le=0;le<se.length;++le)if(ue=se[le],!!/^Content-Location:/i.test(ue)&&(ue=ue.slice(ue.indexOf("file")),re||(re=ue.slice(0,ue.lastIndexOf("/")+1)),ue.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),ue.slice(0,re.length)!=re););var Ce=(se[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Oe="--"+(Ce[1]||""),ke=[],Ie=[],Re={FileIndex:ke,FullPaths:Ie};T(Re);var Xe,st=0;for(le=0;le<se.length;++le){var gt=se[le];gt!==Oe&&gt!==Oe+"--"||(st++&&ri(Re,se.slice(Xe,le),re),Xe=le)}return Re}function xt(z,ce){var re=ce||{},se=re.boundary||"SheetJS";se="------="+se;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],ue=z.FullPaths[0],Ce=ue,Oe=z.FileIndex[0],ke=1;ke<z.FullPaths.length;++ke)if(Ce=z.FullPaths[ke].slice(ue.length),Oe=z.FileIndex[ke],!(!Oe.size||!Oe.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ft){return"_x"+Ft.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ft){return"_u"+Ft.charCodeAt(0).toString(16)+"_"});for(var Ie=Oe.content,Re=En&&Buffer.isBuffer(Ie)?Ie.toString("binary"):Z(Ie),Xe=0,st=Math.min(1024,Re.length),gt=0,nt=0;nt<=st;++nt)(gt=Re.charCodeAt(nt))>=32&&gt<128&&++Xe;var ft=Xe>=st*4/5;le.push(se),le.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+Ce),le.push("Content-Transfer-Encoding: "+(ft?"quoted-printable":"base64")),le.push("Content-Type: "+Pt(Oe,Ce)),le.push(""),le.push(ft?Es(Re):un(Re))}return le.push(se+`--\r
`),le.join(`\r
`)}function ji(z){var ce={};return T(ce,z),ce}function Br(z,ce,re,se){var le=se&&se.unsafe;le||T(z);var ue=!le&&qn.find(z,ce);if(!ue){var Ce=z.FullPaths[0];ce.slice(0,Ce.length)==Ce?Ce=ce:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+ce).replace("//","/")),ue={name:i(ce),type:2},z.FileIndex.push(ue),z.FullPaths.push(Ce),le||qn.utils.cfb_gc(z)}return ue.content=re,ue.size=re?re.length:0,se&&(se.CLSID&&(ue.clsid=se.CLSID),se.mt&&(ue.mt=se.mt),se.ct&&(ue.ct=se.ct)),ue}function wr(z,ce){T(z);var re=qn.find(z,ce);if(re){for(var se=0;se<z.FileIndex.length;++se)if(z.FileIndex[se]==re)return z.FileIndex.splice(se,1),z.FullPaths.splice(se,1),!0}return!1}function dr(z,ce,re){T(z);var se=qn.find(z,ce);if(se){for(var le=0;le<z.FileIndex.length;++le)if(z.FileIndex[le]==se)return z.FileIndex[le].name=i(re),z.FullPaths[le]=re,!0}return!1}function ur(z){I(z,!0)}return e.find=A,e.read=V,e.parse=u,e.write=me,e.writeFile=K,e.utils={cfb_new:ji,cfb_add:Br,cfb_del:wr,cfb_mov:dr,cfb_gc:ur,ReadShift:H0,CheckField:mL,prep_blob:eo,bconcat:Ni,use_zlib:N,_deflateRaw:Gt,_inflateRaw:rn,consts:ee},e}();function HY(n){return typeof n=="string"?Xy(n):Array.isArray(n)?mY(n):n}function wg(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Xy(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?jm(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([HY(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(n);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=_g(e)),a.write(e),a.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+n)}function Bi(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function m3(n,e){for(var t=[],r=Bi(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function HT(n){for(var e=[],t=Bi(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function e_(n){for(var e=[],t=Bi(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function zY(n){for(var e=[],t=Bi(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var b2=new Date(1899,11,30,0,0,0);function js(n,e){var t=n.getTime(),r=b2.getTime()+(n.getTimezoneOffset()-b2.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var J6=new Date,qY=b2.getTime()+(J6.getTimezoneOffset()-b2.getTimezoneOffset())*6e4,g3=J6.getTimezoneOffset();function Z6(n){var e=new Date;return e.setTime(n*24*60*60*1e3+qY),e.getTimezoneOffset()!==g3&&e.setTime(e.getTime()+(e.getTimezoneOffset()-g3)*6e4),e}var v3=new Date("2017-02-19T19:06:09.000Z"),eL=isNaN(v3.getFullYear())?new Date("2/19/17"):v3,$Y=eL.getFullYear()==2017;function ys(n,e){var t=new Date(n);if($Y)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(eL.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function t_(n,e){if(En&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function Us(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Us(n[t]));return e}function br(n,e){for(var t="";t.length<e;)t+=n;return t}function Ol(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var YY=["january","february","march","april","may","june","july","august","september","october","november","december"];function Bm(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&YY.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Xt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return En?r=tc(t):r=gY(t),qn.utils.cfb_add(n,e,r)}qn.utils.cfb_add(n,e,t)}else n.file(e,t)}function zT(){return qn.utils.cfb_new()}var Gr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,GY={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qT=HT(GY),$T=/[&<>'"]/g,KY=/[\u0000-\u0008\u000b-\u001f]/g;function On(n){var e=n+"";return e.replace($T,function(t){return qT[t]}).replace(KY,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function y3(n){return On(n).replace(/ /g,"_x0020_")}var tL=/[\u0000-\u001f]/g;function QY(n){var e=n+"";return e.replace($T,function(t){return qT[t]}).replace(/\n/g,"<br/>").replace(tL,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function XY(n){var e=n+"";return e.replace($T,function(t){return qT[t]}).replace(tL,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function JY(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function ZY(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Nw(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function _3(n){var e=Gh(2*n.length),t,r,i=1,s=0,o=0,a;for(r=0;r<n.length;r+=i)i=1,(a=n.charCodeAt(r))<128?t=a:a<224?(t=(a&31)*64+(n.charCodeAt(r+1)&63),i=2):a<240?(t=(a&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(a&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function w3(n){return tc(n,"binary").toString("utf8")}var b1="foo bar baz",W0=En&&(w3(b1)==Nw(b1)&&w3||_3(b1)==Nw(b1)&&_3)||Nw,jm=En?function(n){return tc(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},eG=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),nL=/(^\s|\s$|\n)/;function Pi(n,e){return"<"+n+(e.match(nL)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Um(n){return Bi(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function ot(n,e,t){return"<"+n+(t!=null?Um(t):"")+(e!=null?(e.match(nL)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function M5(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function tG(n,e){switch(typeof n){case"string":var t=ot("vt:lpwstr",On(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ot((n|0)==n?"vt:i4":"vt:r8",On(String(n)));case"boolean":return ot("vt:bool",n?"true":"false")}if(n instanceof Date)return ot("vt:filetime",M5(n));throw new Error("Unable to serialize "+n)}var hi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],to={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function nG(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function rG(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)n[t+a]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var x3=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},E3=En?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:tc(e)})):x3(n)}:x3,S3=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(_0(n,i)));return r.join("").replace(V0,"")},YT=En?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(V0,""):S3(n,e,t)}:S3,T3=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},rL=En?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):T3(n,e,t)}:T3,b3=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Kf(n,i)));return r.join("")},xg=En?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):b3(e,t,r)}:b3,iL=function(n,e){var t=no(n,e);return t>0?xg(n,e+4,e+4+t-1):""},sL=iL,oL=function(n,e){var t=no(n,e);return t>0?xg(n,e+4,e+4+t-1):""},aL=oL,lL=function(n,e){var t=2*no(n,e);return t>0?xg(n,e+4,e+4+t-1):""},cL=lL,uL=function(e,t){var r=no(e,t);return r>0?YT(e,t+4,t+4+r):""},hL=uL,fL=function(n,e){var t=no(n,e);return t>0?xg(n,e+4,e+4+t):""},dL=fL,pL=function(n,e){return nG(n,e)},A2=pL,GT=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};En&&(sL=function(e,t){if(!Buffer.isBuffer(e))return iL(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},aL=function(e,t){if(!Buffer.isBuffer(e))return oL(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},cL=function(e,t){if(!Buffer.isBuffer(e))return lL(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},hL=function(e,t){if(!Buffer.isBuffer(e))return uL(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},dL=function(e,t){if(!Buffer.isBuffer(e))return fL(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},A2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):pL(e,t)},GT=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Kf=function(n,e){return n[e]},_0=function(n,e){return n[e+1]*256+n[e]},iG=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},no=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},dh=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},sG=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function H0(n,e){var t="",r,i,s=[],o,a,l,c;switch(e){case"dbcs":if(c=this.l,En&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)t+=String.fromCharCode(_0(this,c)),c+=2;n*=2;break;case"utf8":t=xg(this,this.l,this.l+n);break;case"utf16le":n*=2,t=YT(this,this.l,this.l+n);break;case"wstr":return H0.call(this,n,"dbcs");case"lpstr-ansi":t=sL(this,this.l),n=4+no(this,this.l);break;case"lpstr-cp":t=aL(this,this.l),n=4+no(this,this.l);break;case"lpwstr":t=cL(this,this.l),n=4+2*no(this,this.l);break;case"lpp4":n=4+no(this,this.l),t=hL(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+no(this,this.l),t=dL(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Kf(this,this.l+n++))!==0;)s.push(E1(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=_0(this,this.l+n))!==0;)s.push(E1(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",c=this.l,l=0;l<n;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Kf(this,c),this.l=c+1,a=H0.call(this,n-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(E1(_0(this,c))),c+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",c=this.l,l=0;l!=n;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Kf(this,c),this.l=c+1,a=H0.call(this,n-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(E1(Kf(this,c))),c+=1}t=s.join("");break;default:switch(n){case 1:return r=Kf(this,this.l),this.l++,r;case 2:return r=(e==="i"?iG:_0)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(n>0?dh:sG)(this,this.l),this.l+=4,r):(i=no(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=A2(this,this.l):i=A2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=rL(this,this.l,n);break}}return this.l+=n,t}var oG=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},aG=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},lG=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function cG(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)lG(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,oG(this,e,this.l);break;case 8:if(r=8,t==="f"){rG(this,e,this.l);break}case 16:break;case-4:r=4,aG(this,e,this.l);break}return this.l+=r,this}function mL(n,e){var t=rL(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function eo(n,e){n.l=e,n.read_shift=H0,n.chk=mL,n.write_shift=cG}function Qa(n,e){n.l+=e}function Ve(n){var e=Gh(n);return eo(e,0),e}function Bs(){var n=[],e=En?256:2048,t=function(c){var u=Ve(c);return eo(u,0),u},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=t(Math.max(c+1,e)))},o=function(){return i(),Ni(n)},a=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:n}}function Ge(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=nee[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&GT(t)&&n.push(t)}}function z0(n,e,t){var r=Us(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function A3(n,e,t){var r=Us(n);return r.s=z0(r.s,e.s,t),r.e=z0(r.e,e.s,t),r}function q0(n,e){if(n.cRel&&n.c<0)for(n=Us(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Us(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=jn(n);return!n.cRel&&n.cRel!=null&&(t=fG(t)),!n.rRel&&n.rRel!=null&&(t=uG(t)),t}function Pw(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Zi(n.s.c)+":"+(n.e.cRel?"":"$")+Zi(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Li(n.s.r)+":"+(n.e.rRel?"":"$")+Li(n.e.r):q0(n.s,e.biff)+":"+q0(n.e,e.biff)}function KT(n){return parseInt(hG(n),10)-1}function Li(n){return""+(n+1)}function uG(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function hG(n){return n.replace(/\$(\d+)$/,"$1")}function QT(n){for(var e=dG(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Zi(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function fG(n){return n.replace(/^([A-Z])/,"$$$1")}function dG(n){return n.replace(/^\$([A-Z])/,"$1")}function pG(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fi(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function jn(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ho(n){var e=n.indexOf(":");return e==-1?{s:fi(n),e:fi(n)}:{s:fi(n.slice(0,e)),e:fi(n.slice(e+1))}}function $r(n,e){return typeof e>"u"||typeof e=="number"?$r(n.s,n.e):(typeof n!="string"&&(n=jn(n)),typeof e!="string"&&(e=jn(e)),n==e?n:n+":"+e)}function cr(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function C3(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=bu(n.z,t?js(e):e)}catch{}try{return n.w=bu((n.XF||{}).numFmtId||(t?14:0),t?js(e):e)}catch{return""+e}}function Xl(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Eg[n.v]||n.v:e==null?C3(n,n.v):C3(n,e))}function uf(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function gL(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?fi(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=cr(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[h].length;++d)if(!(typeof e[h][d]>"u")){var f={v:e[h][d]},v=o+h,g=a+d;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[h][d]&&typeof e[h][d]=="object"&&!Array.isArray(e[h][d])&&!(e[h][d]instanceof Date))f=e[h][d];else if(Array.isArray(f.v)&&(f.f=e[h][d][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else if(r.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=r.dateNF||Ar[14],r.cellDates?(f.t="d",f.w=bu(f.z,js(f.v))):(f.t="n",f.v=js(f.v),f.w=bu(f.z,f.v))):f.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(f.z=s[v][g].z),s[v][g]=f;else{var E=jn({c:g,r:v});s[E]&&s[E].z&&(f.z=s[E].z),s[E]=f}}}return c.s.c<1e7&&(s["!ref"]=$r(c)),s}function xp(n,e){return gL(null,n,e)}function mG(n){return n.read_shift(4,"i")}function ca(n,e){return e||(e=Ve(4)),e.write_shift(4,n),e}function es(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function di(n,e){var t=!1;return e==null&&(t=!0,e=Ve(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function gG(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function vG(n,e){return e||(e=Ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function XT(n,e){var t=n.l,r=n.read_shift(1),i=es(n),s=[],o={t:i,h:i};if(r&1){for(var a=n.read_shift(4),l=0;l!=a;++l)s.push(gG(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function yG(n,e){var t=!1;return e==null&&(t=!0,e=Ve(15+4*n.t.length)),e.write_shift(1,0),di(n.t,e),t?e.slice(0,e.l):e}var _G=XT;function wG(n,e){var t=!1;return e==null&&(t=!0,e=Ve(23+4*n.t.length)),e.write_shift(1,1),di(n.t,e),e.write_shift(4,1),vG({ich:0,ifnt:0},e),t?e.slice(0,e.l):e}function Oo(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function hf(n,e){return e==null&&(e=Ve(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function ff(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function df(n,e){return e==null&&(e=Ve(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var xG=es,vL=di;function JT(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function C2(n,e){var t=!1;return e==null&&(t=!0,e=Ve(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var EG=es,B5=JT,ZT=C2;function yL(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?A2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):dh(e,0)>>2;return t?i/100:i}function _L(n,e){e==null&&(e=Ve(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-(1<<29)&&n<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function wL(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function SG(n,e){return e||(e=Ve(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var pf=wL,Ep=SG;function Sp(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Kh(n,e){return(e||Ve(8)).write_shift(8,n,"f")}function TG(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),a=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=RG[i];c&&(e.rgb=B3(c));break;case 2:e.rgb=B3([o,a,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function k2(n,e){if(e||(e=Ve(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function bG(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function AG(n,e){e||(e=Ve(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var xL=2,Xs=3,A1=11,I2=19,C1=64,CG=65,kG=71,IG=4108,NG=4126,Ci=80,k3={1:{n:"CodePage",t:xL},2:{n:"Category",t:Ci},3:{n:"PresentationFormat",t:Ci},4:{n:"ByteCount",t:Xs},5:{n:"LineCount",t:Xs},6:{n:"ParagraphCount",t:Xs},7:{n:"SlideCount",t:Xs},8:{n:"NoteCount",t:Xs},9:{n:"HiddenCount",t:Xs},10:{n:"MultimediaClipCount",t:Xs},11:{n:"ScaleCrop",t:A1},12:{n:"HeadingPairs",t:IG},13:{n:"TitlesOfParts",t:NG},14:{n:"Manager",t:Ci},15:{n:"Company",t:Ci},16:{n:"LinksUpToDate",t:A1},17:{n:"CharacterCount",t:Xs},19:{n:"SharedDoc",t:A1},22:{n:"HyperlinksChanged",t:A1},23:{n:"AppVersion",t:Xs,p:"version"},24:{n:"DigSig",t:CG},26:{n:"ContentType",t:Ci},27:{n:"ContentStatus",t:Ci},28:{n:"Language",t:Ci},29:{n:"Version",t:Ci},255:{},2147483648:{n:"Locale",t:I2},2147483651:{n:"Behavior",t:I2},1919054434:{}},I3={1:{n:"CodePage",t:xL},2:{n:"Title",t:Ci},3:{n:"Subject",t:Ci},4:{n:"Author",t:Ci},5:{n:"Keywords",t:Ci},6:{n:"Comments",t:Ci},7:{n:"Template",t:Ci},8:{n:"LastAuthor",t:Ci},9:{n:"RevNumber",t:Ci},10:{n:"EditTime",t:C1},11:{n:"LastPrinted",t:C1},12:{n:"CreatedDate",t:C1},13:{n:"ModifiedDate",t:C1},14:{n:"PageCount",t:Xs},15:{n:"WordCount",t:Xs},16:{n:"CharCount",t:Xs},17:{n:"Thumbnail",t:kG},18:{n:"Application",t:Ci},19:{n:"DocSecurity",t:Xs},255:{},2147483648:{n:"Locale",t:I2},2147483651:{n:"Behavior",t:I2},1919054434:{}};function PG(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var DG=PG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),RG=Us(DG),Eg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},LG={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},k1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function EL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function SL(n,e){var t=zY(LG),r=[],i;r[r.length]=Gr,r[r.length]=ot("Types",null,{xmlns:hi.CT,"xmlns:xsd":hi.xsd,"xmlns:xsi":hi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ot("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){n[l]&&n[l].length>0&&(i=n[l][0],r[r.length]=ot("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:k1[l][e.bookType]||k1[l].xlsx}))},o=function(l){(n[l]||[]).forEach(function(c){r[r.length]=ot("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:k1[l][e.bookType]||k1[l].xlsx})})},a=function(l){(n[l]||[]).forEach(function(c){r[r.length]=ot("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:t[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var vn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function TL(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Id(n){var e=[Gr,ot("Relationships",null,{xmlns:hi.RELS})];return Bi(n["!id"]).forEach(function(t){e[e.length]=ot("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Dn(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[vn.HLINK,vn.XPATH,vn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function OG(n){var e=[Gr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function N3(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function FG(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function MG(n){var e=[Gr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(N3(n[t][0],n[t][1])),e.push(FG("",n[t][0]));return e.push(N3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function bL(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+x2.version+"</meta:generator></office:meta></office:document-meta>"}var bh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Dw(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=On(e),r[r.length]=t?ot(n,e,t):Pi(n,e))}function AL(n,e){var t=e||{},r=[Gr,ot("cp:coreProperties",null,{"xmlns:cp":hi.CORE_PROPS,"xmlns:dc":hi.dc,"xmlns:dcterms":hi.dcterms,"xmlns:dcmitype":hi.dcmitype,"xmlns:xsi":hi.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Dw("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:M5(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&Dw("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:M5(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=bh.length;++s){var o=bh[s],a=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&Dw(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Nd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],CL=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function kL(n){var e=[],t=ot;return n||(n={}),n.Application="SheetJS",e[e.length]=Gr,e[e.length]=ot("Properties",null,{xmlns:hi.EXT_PROPS,"xmlns:vt":hi.vt}),Nd.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=On(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+On(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function IL(n){var e=[Gr,ot("Properties",null,{xmlns:hi.CUST_PROPS,"xmlns:vt":hi.vt})];if(!n)return e.join("");var t=1;return Bi(n).forEach(function(i){++t,e[e.length]=ot("property",tG(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:On(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var P3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function BG(n,e){var t=[];return Bi(P3).map(function(r){for(var i=0;i<bh.length;++i)if(bh[i][1]==r)return bh[i];for(i=0;i<Nd.length;++i)if(Nd[i][1]==r)return Nd[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Pi(P3[r[1]]||r[1],i))}}),ot("DocumentProperties",t.join(""),{xmlns:to.o})}function jG(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Bi(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<bh.length;++o)if(s==bh[o][1])return;for(o=0;o<Nd.length;++o)if(s==Nd[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var a=n[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(ot(y3(s),a,{"dt:dt":l}))}}),e&&Bi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(ot(y3(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+to.o+'">'+i.join("")+"</"+r+">"}function UG(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=Ve(8);return o.write_shift(4,r),o.write_shift(4,i),o}function D3(n,e){var t=Ve(4),r=Ve(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=Ve(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=UG(e);break;case 31:case 80:for(r=Ve(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Ni([t,r])}var NL=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function VG(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function R3(n,e,t){var r=Ve(8),i=[],s=[],o=8,a=0,l=Ve(8),c=Ve(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),o+=8+l.length,!e){c=Ve(8),c.write_shift(4,0),i.unshift(c);var u=[Ve(4)];for(u[0].write_shift(4,n.length),a=0;a<n.length;++a){var h=n[a][0];for(l=Ve(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Ni(u),s.unshift(l),o+=8+l.length}for(a=0;a<n.length;++a)if(!(e&&!e[n[a][0]])&&!(NL.indexOf(n[a][0])>-1||CL.indexOf(n[a][0])>-1)&&n[a][1]!=null){var d=n[a][1],f=0;if(e){f=+e[n[a][0]];var v=t[f];if(v.p=="version"&&typeof d=="string"){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=D3(v.t,d)}else{var E=VG(d);E==-1&&(E=31,d=String(d)),l=D3(E,d)}s.push(l),c=Ve(8),c.write_shift(4,e?f:2+a),i.push(c),o+=8+l.length}var _=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,_),_+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),Ni([r].concat(i).concat(s))}function L3(n,e,t,r,i,s){var o=Ve(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,qn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var l=R3(n,t,r);if(a.push(l),i){var c=R3(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return Ni(a)}function WG(n,e){e||(e=Ve(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function HG(n,e){return n.read_shift(e)===1}function ps(n,e){return e||(e=Ve(2)),e.write_shift(2,+!!n),e}function PL(n){return n.read_shift(2,"u")}function To(n,e){return e||(e=Ve(2)),e.write_shift(2,n),e}function DL(n,e,t){return t||(t=Ve(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function RL(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var o=r?n.read_shift(r,i):"";return o}function zG(n){var e=n.t||"",t=Ve(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=Ve(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return Ni(i)}function qG(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function $G(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):qG(n,r,t)}function YG(n,e,t){if(t.biff>5)return $G(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function LL(n,e,t){return t||(t=Ve(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function O3(n,e){e||(e=Ve(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function GG(n){var e=Ve(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),O3(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),t=0;t<a.length;++t)e.write_shift(2,a.charCodeAt(t));e.write_shift(2,0),s&8&&O3(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),t=0;t<r.length-3*l;++t)e.write_shift(1,r.charCodeAt(t+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Qh(n,e,t,r){return r||(r=Ve(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function KG(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function QG(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function OL(n,e){return e||(e=Ve(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function eb(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ve(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function XG(n,e){var t=!e||e.biff==8,r=Ve(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function JG(n,e){var t=!e||e.biff>=8?2:1,r=Ve(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function ZG(n,e){var t=Ve(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=zG(n[i]);var s=Ni([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function eK(){var n=Ve(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function tK(n){var e=Ve(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function nK(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=Ve(i);return s.write_shift(2,(n.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function rK(n,e,t,r){var i=Ve(10);return Qh(n,e,r,i),i.write_shift(4,t),i}function iK(n,e,t,r,i){var s=!i||i.biff==8,o=Ve(8+ +s+(1+s)*t.length);return Qh(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function sK(n,e,t,r){var i=t&&t.biff==5;r||(r=Ve(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function oK(n,e){var t=e.biff==8||!e.biff?4:2,r=Ve(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function F3(n,e,t,r){var i=t&&t.biff==5;r||(r=Ve(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function aK(n){var e=Ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function lK(n,e,t,r,i,s){var o=Ve(8);return Qh(n,e,r,o),DL(t,s,o),o}function cK(n,e,t,r){var i=Ve(14);return Qh(n,e,r,i),Kh(t,i),i}function uK(n,e,t){if(t.biff<8)return hK(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(KG(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function hK(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=RL(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function fK(n){var e=Ve(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)OL(n[t],e);return e}function dK(n){var e=Ve(24),t=fi(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Ni([e,GG(n[1])])}function pK(n){var e=n[1].Tooltip,t=Ve(10+2*(e.length+1));t.write_shift(2,2048);var r=fi(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function mK(n){return n||(n=Ve(4)),n.write_shift(2,1),n.write_shift(2,1),n}function gK(n,e,t){if(!t.cellStyles)return Qa(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),l=n.read_shift(2);r==2&&(n.l+=2);var c={s:i,e:s,w:o,ixfe:a,flags:l};return(t.biff>=5||!t.biff)&&(c.level=l>>8&7),c}function vK(n,e){var t=Ve(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function yK(n){for(var e=Ve(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function _K(n,e,t){var r=Ve(15);return Tg(r,n,e),r.write_shift(8,t,"f"),r}function wK(n,e,t){var r=Ve(9);return Tg(r,n,e),r.write_shift(2,t),r}var xK=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=HT({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(a,l){var c=[],u=Gh(1);switch(l.type){case"base64":u=na(Ql(a));break;case"binary":u=na(a);break;case"buffer":case"array":u=a;break}eo(u,0);var h=u.read_shift(1),d=!!(h&136),f=!1,v=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,d=!0;break;case 49:f=!0,d=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,E=521;h==2&&(g=u.read_shift(2)),u.l+=3,h!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(E=u.read_shift(2));var _=u.read_shift(2),w=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=n[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var x=[],R={},B=Math.min(u.length,h==2?521:E-10-(f?264:0)),V=v?32:11;u.l<B&&u[u.l]!=13;)switch(R={},R.name=fh.utils.decode(w,u.slice(u.l,u.l+V)).replace(/[\u0000\r\n].*$/g,""),u.l+=V,R.type=String.fromCharCode(u.read_shift(1)),h!=2&&!v&&(R.offset=u.read_shift(4)),R.len=u.read_shift(1),h==2&&(R.offset=u.read_shift(2)),R.dec=u.read_shift(1),R.name.length&&x.push(R),h!=2&&(u.l+=v?13:14),R.type){case"B":(!f||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(u[u.l]!==13&&(u.l=E-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=E;var T=0,b=0;for(c[0]=[],b=0;b!=x.length;++b)c[0][b]=x[b].name;for(;g-- >0;){if(u[u.l]===42){u.l+=_;continue}for(++u.l,c[++T]=[],b=0,b=0;b!=x.length;++b){var I=u.slice(u.l,u.l+x[b].len);u.l+=x[b].len,eo(I,0);var L=fh.utils.decode(w,I);switch(x[b].type){case"C":L.trim().length&&(c[T][b]=L.replace(/\s+$/,""));break;case"D":L.length===8?c[T][b]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):c[T][b]=L;break;case"F":c[T][b]=parseFloat(L.trim());break;case"+":case"I":c[T][b]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":c[T][b]=!0;break;case"N":case"F":c[T][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[T][b]="##MEMO##"+(v?parseInt(L.trim(),10):I.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(c[T][b]=+L||0);break;case"@":c[T][b]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":c[T][b]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":c[T][b]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][b]=-I.read_shift(-8,"f");break;case"B":if(f&&x[b].len==8){c[T][b]=I.read_shift(8,"f");break}case"G":case"P":I.l+=x[b].len;break;case"0":if(x[b].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[b].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function r(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=xp(t(a,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function i(a,l){try{return uf(r(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&Fm(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Bs(),h=L2(a,{header:1,raw:!0,cellDates:!0}),d=h[0],f=h.slice(1),v=a["!cols"]||[],g=0,E=0,_=0,w=1;for(g=0;g<d.length;++g){if(((v[g]||{}).DBF||{}).name){d[g]=v[g].DBF.name,++_;continue}if(d[g]!=null){if(++_,typeof d[g]=="number"&&(d[g]=d[g].toString(10)),typeof d[g]!="string")throw new Error("DBF Invalid column name "+d[g]+" |"+typeof d[g]+"|");if(d.indexOf(d[g])!==g){for(E=0;E<1024;++E)if(d.indexOf(d[g]+"_"+E)==-1){d[g]+="_"+E;break}}}}var x=cr(a["!ref"]),R=[],B=[],V=[];for(g=0;g<=x.e.c-x.s.c;++g){var T="",b="",I=0,L=[];for(E=0;E<f.length;++E)f[E][g]!=null&&L.push(f[E][g]);if(L.length==0||d[g]==null){R[g]="?";continue}for(E=0;E<L.length;++E){switch(typeof L[E]){case"number":b="B";break;case"string":b="C";break;case"boolean":b="L";break;case"object":b=L[E]instanceof Date?"D":"C";break;default:b="C"}I=Math.max(I,String(L[E]).length),T=T&&T!=b?"C":b}I>250&&(I=250),b=((v[g]||{}).DBF||{}).type,b=="C"&&v[g].DBF.len>I&&(I=v[g].DBF.len),T=="B"&&b=="N"&&(T="N",V[g]=v[g].DBF.dec,I=v[g].DBF.len),B[g]=T=="C"||b=="N"?I:s[T]||0,w+=B[g],R[g]=T}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,f.length),A.write_shift(2,296+32*_),A.write_shift(2,w),g=0;g<4;++g)A.write_shift(4,0);for(A.write_shift(4,0|(+e[M6]||3)<<8),g=0,E=0;g<d.length;++g)if(d[g]!=null){var C=u.next(32),D=(d[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,D,"sbcs"),C.write_shift(1,R[g]=="?"?"C":R[g],"sbcs"),C.write_shift(4,E),C.write_shift(1,B[g]||s[R[g]]||0),C.write_shift(1,V[g]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),E+=B[g]||s[R[g]]||0}var q=u.next(264);for(q.write_shift(4,13),g=0;g<65;++g)q.write_shift(4,0);for(g=0;g<f.length;++g){var he=u.next(w);for(he.write_shift(1,0),E=0;E<d.length;++E)if(d[E]!=null)switch(R[E]){case"L":he.write_shift(1,f[g][E]==null?63:f[g][E]?84:70);break;case"B":he.write_shift(8,f[g][E]||0,"f");break;case"N":var ne="0";for(typeof f[g][E]=="number"&&(ne=f[g][E].toFixed(V[E]||0)),_=0;_<B[E]-ne.length;++_)he.write_shift(1,32);he.write_shift(1,ne,"sbcs");break;case"D":f[g][E]?(he.write_shift(4,("0000"+f[g][E].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(f[g][E].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+f[g][E].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(f[g][E]!=null?f[g][E]:"").slice(0,B[E]);for(he.write_shift(1,ee,"sbcs"),_=0;_<B[E]-ee.length;++_)he.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),EK=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Bi(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(d,f){var v=n[f];return typeof v=="number"?o3(v):v},r=function(d,f,v){var g=f.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?d:o3(g)};n["|"]=254;function i(d,f){switch(f.type){case"base64":return s(Ql(d),f);case"binary":return s(d,f);case"buffer":return s(En&&Buffer.isBuffer(d)?d.toString("binary"):_g(d),f);case"array":return s(t_(d),f)}throw new Error("Unrecognized type "+f.type)}function s(d,f){var v=d.split(/[\n\r]+/),g=-1,E=-1,_=0,w=0,x=[],R=[],B=null,V={},T=[],b=[],I=[],L=0,A;for(+f.codepage>=0&&Fm(+f.codepage);_!==v.length;++_){L=0;var C=v[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),D=C.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),q=D[0],he;if(C.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&R.push(C.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,ee=!1,K=!1,Z=!1,me=-1,Ae=-1;for(w=1;w<D.length;++w)switch(D[w].charAt(0)){case"A":break;case"X":E=parseInt(D[w].slice(1))-1,ee=!0;break;case"Y":for(g=parseInt(D[w].slice(1))-1,ee||(E=0),A=x.length;A<=g;++A)x[A]=[];break;case"K":he=D[w].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(Ol(he))?isNaN(Bm(he).getDate())||(he=ys(he)):(he=Ol(he),B!==null&&K6(B)&&(he=Z6(he))),ne=!0;break;case"E":Z=!0;var N=wQ(D[w].slice(1),{r:g,c:E});x[g][E]=[x[g][E],N];break;case"S":K=!0,x[g][E]=[x[g][E],"S5S"];break;case"G":break;case"R":me=parseInt(D[w].slice(1))-1;break;case"C":Ae=parseInt(D[w].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+C)}if(ne&&(x[g][E]&&x[g][E].length==2?x[g][E][0]=he:x[g][E]=he,B=null),K){if(Z)throw new Error("SYLK shared formula cannot have own formula");var M=me>-1&&x[me][Ae];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");x[g][E][1]=xQ(M[1],{r:g-me,c:E-Ae})}break;case"F":var j=0;for(w=1;w<D.length;++w)switch(D[w].charAt(0)){case"X":E=parseInt(D[w].slice(1))-1,++j;break;case"Y":for(g=parseInt(D[w].slice(1))-1,A=x.length;A<=g;++A)x[A]=[];break;case"M":L=parseInt(D[w].slice(1))/20;break;case"F":break;case"G":break;case"P":B=R[parseInt(D[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=D[w].slice(1).split(" "),A=parseInt(I[0],10);A<=parseInt(I[1],10);++A)L=parseInt(I[2],10),b[A-1]=L===0?{hidden:!0}:{wch:L},tb(b[A-1]);break;case"C":E=parseInt(D[w].slice(1))-1,b[E]||(b[E]={});break;case"R":g=parseInt(D[w].slice(1))-1,T[g]||(T[g]={}),L>0?(T[g].hpt=L,T[g].hpx=UL(L)):L===0&&(T[g].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+C)}j<1&&(B=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+C)}}return T.length>0&&(V["!rows"]=T),b.length>0&&(V["!cols"]=b),f&&f.sheetRows&&(x=x.slice(0,f.sheetRows)),[x,V]}function o(d,f){var v=i(d,f),g=v[0],E=v[1],_=xp(g,f);return Bi(E).forEach(function(w){_[w]=E[w]}),_}function a(d,f){return uf(o(d,f),f)}function l(d,f,v,g){var E="C;Y"+(v+1)+";X"+(g+1)+";K";switch(d.t){case"n":E+=d.v||0,d.f&&!d.F&&(E+=";E"+rb(d.f,{r:v,c:g}));break;case"b":E+=d.v?"TRUE":"FALSE";break;case"e":E+=d.w||d.v;break;case"d":E+='"'+(d.w||d.v)+'"';break;case"s":E+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function c(d,f){f.forEach(function(v,g){var E="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?E+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=N2(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=P2(v.wpx)),typeof v.wch=="number"&&(E+=Math.round(v.wch))),E.charAt(E.length-1)!=" "&&d.push(E)})}function u(d,f){f.forEach(function(v,g){var E="F;";v.hidden?E+="M0;":v.hpt?E+="M"+20*v.hpt+";":v.hpx&&(E+="M"+20*D2(v.hpx)+";"),E.length>2&&d.push(E+"R"+(g+1))})}function h(d,f){var v=["ID;PWXL;N;E"],g=[],E=cr(d["!ref"]),_,w=Array.isArray(d),x=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),d["!cols"]&&c(v,d["!cols"]),d["!rows"]&&u(v,d["!rows"]),v.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var R=E.s.r;R<=E.e.r;++R)for(var B=E.s.c;B<=E.e.c;++B){var V=jn({r:R,c:B});_=w?(d[R]||[])[B]:d[V],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,d,R,B))}return v.join(x)+x+g.join(x)+x+"E"+x}return{to_workbook:a,to_sheet:o,from_sheet:h}}(),SK=function(){function n(s,o){switch(o.type){case"base64":return e(Ql(s),o);case"binary":return e(s,o);case"buffer":return e(En&&Buffer.isBuffer(s)?s.toString("binary"):_g(s),o);case"array":return e(t_(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),l=-1,c=-1,u=0,h=[];u!==a.length;++u){if(a[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var d=a[u].trim().split(","),f=d[0],v=d[1];++u;for(var g=a[u]||"";(g.match(/["]/g)||[]).length&1&&u<a.length-1;)g+=`
`+a[++u];switch(g=g.trim(),+f){case-1:if(g==="BOT"){h[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[l][c]=!0:g==="FALSE"?h[l][c]=!1:isNaN(Ol(v))?isNaN(Bm(v).getDate())?h[l][c]=v:h[l][c]=ys(v):h[l][c]=Ol(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function t(s,o){return xp(n(s,o),o)}function r(s,o){return uf(t(s,o),o)}var i=function(){var s=function(l,c,u,h,d){l.push(c),l.push(u+","+h),l.push('"'+d.replace(/"/g,'""')+'"')},o=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=cr(l["!ref"]),h,d=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){o(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=jn({r:f,c:v});if(h=d?(l[f]||[])[v]:l[g],!h){o(c,1,0,"");continue}switch(h.t){case"n":var E=h.w;!E&&h.v!=null&&(E=h.v),E==null?h.f&&!h.F?o(c,1,0,"="+h.f):o(c,1,0,""):o(c,0,E,"V");break;case"b":o(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=bu(h.z||Ar[14],js(ys(h.v)))),o(c,0,h.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var _=`\r
`,w=c.join(_);return w}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),FL=function(){function n(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(h,d){for(var f=h.split(`
`),v=-1,g=-1,E=0,_=[];E!==f.length;++E){var w=f[E].trim().split(":");if(w[0]==="cell"){var x=fi(w[1]);if(_.length<=x.r)for(v=_.length;v<=x.r;++v)_[v]||(_[v]=[]);switch(v=x.r,g=x.c,w[2]){case"t":_[v][g]=n(w[3]);break;case"v":_[v][g]=+w[3];break;case"vtf":var R=w[w.length-1];case"vtc":switch(w[3]){case"nl":_[v][g]=!!+w[4];break;default:_[v][g]=+w[4];break}w[2]=="vtf"&&(_[v][g]=[_[v][g],R])}}}return d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),_}function r(h,d){return xp(t(h,d),d)}function i(h,d){return uf(r(h,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var d=[],f=[],v,g="",E=ho(h["!ref"]),_=Array.isArray(h),w=E.s.r;w<=E.e.r;++w)for(var x=E.s.c;x<=E.e.c;++x)if(g=jn({r:w,c:x}),v=_?(h[w]||[])[x]:h[g],!(!v||v.v==null||v.t==="z")){switch(f=["cell",g,"t"],v.t){case"s":case"str":f.push(e(v.v));break;case"n":v.f?(f[2]="vtf",f[3]="n",f[4]=v.v,f[5]=e(v.f)):(f[2]="v",f[3]=v.v);break;case"b":f[2]="vt"+(v.f?"f":"c"),f[3]="nl",f[4]=v.v?"1":"0",f[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var R=js(ys(v.v));f[2]="vtc",f[3]="nd",f[4]=""+R,f[5]=v.w||bu(v.z||Ar[14],R);break;case"e":continue}d.push(f.join(":"))}return d.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(h){return[s,o,a,o,c(h),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),TK=function(){function n(u,h,d,f,v){v.raw?h[d][f]=u:u===""||(u==="TRUE"?h[d][f]=!0:u==="FALSE"?h[d][f]=!1:isNaN(Ol(u))?isNaN(Bm(u).getDate())?h[d][f]=u:h[d][f]=ys(u):h[d][f]=Ol(u))}function e(u,h){var d=h||{},f=[];if(!u||u.length===0)return f;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var E=10,_=0,w=0;w<=g;++w)_=v[w].indexOf(" "),_==-1?_=v[w].length:_++,E=Math.max(E,_);for(w=0;w<=g;++w){f[w]=[];var x=0;for(n(v[w].slice(0,E).trim(),f,w,x,d),x=1;x<=(v[w].length-E)/10+1;++x)n(v[w].slice(E+(x-1)*10,E+x*10).trim(),f,w,x,d)}return d.sheetRows&&(f=f.slice(0,d.sheetRows)),f}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var h={},d=!1,f=0,v=0;f<u.length;++f)(v=u.charCodeAt(f))==34?d=!d:!d&&v in t&&(h[v]=(h[v]||0)+1);v=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&v.push([h[f],f]);if(!v.length){h=r;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&v.push([h[f],f])}return v.sort(function(g,E){return g[0]-E[0]||r[g[1]]-r[E[1]]}),t[v.pop()[1]]||44}function s(u,h){var d=h||{},f="",v=d.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=i(u.slice(0,1024)):d&&d.FS?f=d.FS:f=i(u.slice(0,1024));var E=0,_=0,w=0,x=0,R=0,B=f.charCodeAt(0),V=!1,T=0,b=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=d.dateNF!=null?UY(d.dateNF):null;function L(){var A=u.slice(x,R),C={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)C.t="z";else if(d.raw)C.t="s",C.v=A;else if(A.trim().length===0)C.t="s",C.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(C.t="s",C.v=A.slice(2,-1).replace(/""/g,'"')):EQ(A)?(C.t="n",C.f=A.slice(1)):(C.t="s",C.v=A);else if(A=="TRUE")C.t="b",C.v=!0;else if(A=="FALSE")C.t="b",C.v=!1;else if(!isNaN(w=Ol(A)))C.t="n",d.cellText!==!1&&(C.w=A),C.v=w;else if(!isNaN(Bm(A).getDate())||I&&A.match(I)){C.z=d.dateNF||Ar[14];var D=0;I&&A.match(I)&&(A=VY(A,d.dateNF,A.match(I)||[]),D=1),d.cellDates?(C.t="d",C.v=ys(A,D)):(C.t="n",C.v=js(ys(A,D))),d.cellText!==!1&&(C.w=bu(C.z,C.v instanceof Date?js(C.v):C.v)),d.cellNF||delete C.z}else C.t="s",C.v=A;if(C.t=="z"||(d.dense?(v[E]||(v[E]=[]),v[E][_]=C):v[jn({c:_,r:E})]=C),x=R+1,b=u.charCodeAt(x),g.e.c<_&&(g.e.c=_),g.e.r<E&&(g.e.r=E),T==B)++_;else if(_=0,++E,d.sheetRows&&d.sheetRows<=E)return!0}e:for(;R<u.length;++R)switch(T=u.charCodeAt(R)){case 34:b===34&&(V=!V);break;case B:case 10:case 13:if(!V&&L())break e;break}return R-x>0&&L(),v["!ref"]=$r(g),v}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,h):xp(e(u,h),h)}function a(u,h){var d="",f=h.type=="string"?[0,0,0,0]:Fee(u,h);switch(h.type){case"base64":d=Ql(u);break;case"binary":d=u;break;case"buffer":h.codepage==65001?d=u.toString("utf8"):h.codepage&&typeof fh<"u"?d=fh.utils.decode(h.codepage,u):d=En&&Buffer.isBuffer(u)?u.toString("binary"):_g(u);break;case"array":d=t_(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?d=W0(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=W0(d):h.type=="binary"&&typeof fh<"u"&&h.codepage&&(d=fh.utils.decode(h.codepage,fh.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?FL.to_sheet(h.type=="string"?d:W0(d),h):o(d,h)}function l(u,h){return uf(a(u,h),h)}function c(u){for(var h=[],d=cr(u["!ref"]),f,v=Array.isArray(u),g=d.s.r;g<=d.e.r;++g){for(var E=[],_=d.s.c;_<=d.e.c;++_){var w=jn({r:g,c:_});if(f=v?(u[g]||[])[_]:u[w],!f||f.v==null){E.push("          ");continue}for(var x=(f.w||(Xl(f),f.w)||"").slice(0,10);x.length<10;)x+=" ";E.push(x+(_===0?" ":""))}h.push(E.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}(),M3=function(){function n(N,M,j){if(N){eo(N,N.l||0);for(var U=j.Enum||me;N.l<N.length;){var Q=N.read_shift(2),ie=U[Q]||U[65535],ge=N.read_shift(2),ve=N.l+ge,Ee=ie.f&&ie.f(N,ge,j);if(N.l=ve,M(Ee,ie,Q))return}}}function e(N,M){switch(M.type){case"base64":return t(na(Ql(N)),M);case"binary":return t(na(N),M);case"buffer":case"array":return t(N,M)}throw"Unsupported type "+M.type}function t(N,M){if(!N)return N;var j=M||{},U=j.dense?[]:{},Q="Sheet1",ie="",ge=0,ve={},Ee=[],Me=[],We={s:{r:0,c:0},e:{r:0,c:0}},tt=j.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)j.Enum=me,n(N,function(Ye,_t,Ke){switch(Ke){case 0:j.vers=Ye,Ye>=4096&&(j.qpro=!0);break;case 6:We=Ye;break;case 204:Ye&&(ie=Ye);break;case 222:ie=Ye;break;case 15:case 51:j.qpro||(Ye[1].v=Ye[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(Ye[2]&112)==112&&(Ye[2]&15)>1&&(Ye[2]&15)<15&&(Ye[1].z=j.dateNF||Ar[14],j.cellDates&&(Ye[1].t="d",Ye[1].v=Z6(Ye[1].v))),j.qpro&&Ye[3]>ge&&(U["!ref"]=$r(We),ve[Q]=U,Ee.push(Q),U=j.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},ge=Ye[3],Q=ie||"Sheet"+(ge+1),ie="");var it=j.dense?(U[Ye[0].r]||[])[Ye[0].c]:U[jn(Ye[0])];if(it){it.t=Ye[1].t,it.v=Ye[1].v,Ye[1].z!=null&&(it.z=Ye[1].z),Ye[1].f!=null&&(it.f=Ye[1].f);break}j.dense?(U[Ye[0].r]||(U[Ye[0].r]=[]),U[Ye[0].r][Ye[0].c]=Ye[1]):U[jn(Ye[0])]=Ye[1];break}},j);else if(N[2]==26||N[2]==14)j.Enum=Ae,N[2]==14&&(j.qpro=!0,N.l=0),n(N,function(Ye,_t,Ke){switch(Ke){case 204:Q=Ye;break;case 22:Ye[1].v=Ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ye[3]>ge&&(U["!ref"]=$r(We),ve[Q]=U,Ee.push(Q),U=j.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},ge=Ye[3],Q="Sheet"+(ge+1)),tt>0&&Ye[0].r>=tt)break;j.dense?(U[Ye[0].r]||(U[Ye[0].r]=[]),U[Ye[0].r][Ye[0].c]=Ye[1]):U[jn(Ye[0])]=Ye[1],We.e.c<Ye[0].c&&(We.e.c=Ye[0].c),We.e.r<Ye[0].r&&(We.e.r=Ye[0].r);break;case 27:Ye[14e3]&&(Me[Ye[14e3][0]]=Ye[14e3][1]);break;case 1537:Me[Ye[0]]=Ye[1],Ye[0]==ge&&(Q=Ye[1]);break}},j);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(U["!ref"]=$r(We),ve[ie||Q]=U,Ee.push(ie||Q),!Me.length)return{SheetNames:Ee,Sheets:ve};for(var at={},Fe=[],pe=0;pe<Me.length;++pe)ve[Ee[pe]]?(Fe.push(Me[pe]||Ee[pe]),at[Me[pe]]=ve[Me[pe]]||ve[Ee[pe]]):(Fe.push(Me[pe]),at[Me[pe]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:at}}function r(N,M){var j=M||{};if(+j.codepage>=0&&Fm(+j.codepage),j.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Bs(),Q=cr(N["!ref"]),ie=Array.isArray(N),ge=[];lt(U,0,s(1030)),lt(U,6,l(Q));for(var ve=Math.min(Q.e.r,8191),Ee=Q.s.r;Ee<=ve;++Ee)for(var Me=Li(Ee),We=Q.s.c;We<=Q.e.c;++We){Ee===Q.s.r&&(ge[We]=Zi(We));var tt=ge[We]+Me,at=ie?(N[Ee]||[])[We]:N[tt];if(!(!at||at.t=="z"))if(at.t=="n")(at.v|0)==at.v&&at.v>=-32768&&at.v<=32767?lt(U,13,f(Ee,We,at.v)):lt(U,14,g(Ee,We,at.v));else{var Fe=Xl(at);lt(U,15,h(Ee,We,Fe.slice(0,239)))}}return lt(U,1),U.end()}function i(N,M){var j=M||{};if(+j.codepage>=0&&Fm(+j.codepage),j.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Bs();lt(U,0,o(N));for(var Q=0,ie=0;Q<N.SheetNames.length;++Q)(N.Sheets[N.SheetNames[Q]]||{})["!ref"]&&lt(U,27,Z(N.SheetNames[Q],ie++));var ge=0;for(Q=0;Q<N.SheetNames.length;++Q){var ve=N.Sheets[N.SheetNames[Q]];if(!(!ve||!ve["!ref"])){for(var Ee=cr(ve["!ref"]),Me=Array.isArray(ve),We=[],tt=Math.min(Ee.e.r,8191),at=Ee.s.r;at<=tt;++at)for(var Fe=Li(at),pe=Ee.s.c;pe<=Ee.e.c;++pe){at===Ee.s.r&&(We[pe]=Zi(pe));var Ye=We[pe]+Fe,_t=Me?(ve[at]||[])[pe]:ve[Ye];if(!(!_t||_t.t=="z"))if(_t.t=="n")lt(U,23,L(at,pe,ge,_t.v));else{var Ke=Xl(_t);lt(U,22,T(at,pe,ge,Ke.slice(0,239)))}}++ge}}return lt(U,1),U.end()}function s(N){var M=Ve(2);return M.write_shift(2,N),M}function o(N){var M=Ve(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var j=0,U=0,Q=0,ie=0;ie<N.SheetNames.length;++ie){var ge=N.SheetNames[ie],ve=N.Sheets[ge];if(!(!ve||!ve["!ref"])){++Q;var Ee=ho(ve["!ref"]);j<Ee.e.r&&(j=Ee.e.r),U<Ee.e.c&&(U=Ee.e.c)}}return j>8191&&(j=8191),M.write_shift(2,j),M.write_shift(1,Q),M.write_shift(1,U),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function a(N,M,j){var U={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&j.qpro?(U.s.c=N.read_shift(1),N.l++,U.s.r=N.read_shift(2),U.e.c=N.read_shift(1),N.l++,U.e.r=N.read_shift(2),U):(U.s.c=N.read_shift(2),U.s.r=N.read_shift(2),M==12&&j.qpro&&(N.l+=2),U.e.c=N.read_shift(2),U.e.r=N.read_shift(2),M==12&&j.qpro&&(N.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function l(N){var M=Ve(8);return M.write_shift(2,N.s.c),M.write_shift(2,N.s.r),M.write_shift(2,N.e.c),M.write_shift(2,N.e.r),M}function c(N,M,j){var U=[{c:0,r:0},{t:"n",v:0},0,0];return j.qpro&&j.vers!=20768?(U[0].c=N.read_shift(1),U[3]=N.read_shift(1),U[0].r=N.read_shift(2),N.l+=2):(U[2]=N.read_shift(1),U[0].c=N.read_shift(2),U[0].r=N.read_shift(2)),U}function u(N,M,j){var U=N.l+M,Q=c(N,M,j);if(Q[1].t="s",j.vers==20768){N.l++;var ie=N.read_shift(1);return Q[1].v=N.read_shift(ie,"utf8"),Q}return j.qpro&&N.l++,Q[1].v=N.read_shift(U-N.l,"cstr"),Q}function h(N,M,j){var U=Ve(7+j.length);U.write_shift(1,255),U.write_shift(2,M),U.write_shift(2,N),U.write_shift(1,39);for(var Q=0;Q<U.length;++Q){var ie=j.charCodeAt(Q);U.write_shift(1,ie>=128?95:ie)}return U.write_shift(1,0),U}function d(N,M,j){var U=c(N,M,j);return U[1].v=N.read_shift(2,"i"),U}function f(N,M,j){var U=Ve(7);return U.write_shift(1,255),U.write_shift(2,M),U.write_shift(2,N),U.write_shift(2,j,"i"),U}function v(N,M,j){var U=c(N,M,j);return U[1].v=N.read_shift(8,"f"),U}function g(N,M,j){var U=Ve(13);return U.write_shift(1,255),U.write_shift(2,M),U.write_shift(2,N),U.write_shift(8,j,"f"),U}function E(N,M,j){var U=N.l+M,Q=c(N,M,j);if(Q[1].v=N.read_shift(8,"f"),j.qpro)N.l=U;else{var ie=N.read_shift(2);R(N.slice(N.l,N.l+ie),Q),N.l+=ie}return Q}function _(N,M,j){var U=M&32768;return M&=-32769,M=(U?N:0)+(M>=8192?M-16384:M),(U?"":"$")+(j?Zi(M):Li(M))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(N,M){eo(N,0);for(var j=[],U=0,Q="",ie="",ge="",ve="";N.l<N.length;){var Ee=N[N.l++];switch(Ee){case 0:j.push(N.read_shift(8,"f"));break;case 1:ie=_(M[0].c,N.read_shift(2),!0),Q=_(M[0].r,N.read_shift(2),!1),j.push(ie+Q);break;case 2:{var Me=_(M[0].c,N.read_shift(2),!0),We=_(M[0].r,N.read_shift(2),!1);ie=_(M[0].c,N.read_shift(2),!0),Q=_(M[0].r,N.read_shift(2),!1),j.push(Me+We+":"+ie+Q)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:j.push("("+j.pop()+")");break;case 5:j.push(N.read_shift(2));break;case 6:{for(var tt="";Ee=N[N.l++];)tt+=String.fromCharCode(Ee);j.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:j.push("-"+j.pop());break;case 23:j.push("+"+j.pop());break;case 22:j.push("NOT("+j.pop()+")");break;case 20:case 21:ve=j.pop(),ge=j.pop(),j.push(["AND","OR"][Ee-20]+"("+ge+","+ve+")");break;default:if(Ee<32&&x[Ee])ve=j.pop(),ge=j.pop(),j.push(ge+x[Ee]+ve);else if(w[Ee]){if(U=w[Ee][1],U==69&&(U=N[N.l++]),U>j.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+j.join("|")+"|");return}var at=j.slice(-U);j.length-=U,j.push(w[Ee][0]+"("+at.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}j.length==1?M[1].f=""+j[0]:console.error("WK1 bad formula parse |"+j.join("|")+"|")}function B(N){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=N.read_shift(2),M[3]=N[N.l++],M[0].c=N[N.l++],M}function V(N,M){var j=B(N);return j[1].t="s",j[1].v=N.read_shift(M-4,"cstr"),j}function T(N,M,j,U){var Q=Ve(6+U.length);Q.write_shift(2,N),Q.write_shift(1,j),Q.write_shift(1,M),Q.write_shift(1,39);for(var ie=0;ie<U.length;++ie){var ge=U.charCodeAt(ie);Q.write_shift(1,ge>=128?95:ge)}return Q.write_shift(1,0),Q}function b(N,M){var j=B(N);j[1].v=N.read_shift(2);var U=j[1].v>>1;if(j[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return j[1].v=U,j}function I(N,M){var j=B(N),U=N.read_shift(4),Q=N.read_shift(4),ie=N.read_shift(2);if(ie==65535)return U===0&&Q===3221225472?(j[1].t="e",j[1].v=15):U===0&&Q===3489660928?(j[1].t="e",j[1].v=42):j[1].v=0,j;var ge=ie&32768;return ie=(ie&32767)-16446,j[1].v=(1-ge*2)*(Q*Math.pow(2,ie+32)+U*Math.pow(2,ie)),j}function L(N,M,j,U){var Q=Ve(14);if(Q.write_shift(2,N),Q.write_shift(1,j),Q.write_shift(1,M),U==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var ie=0,ge=0,ve=0,Ee=0;return U<0&&(ie=1,U=-U),ge=Math.log2(U)|0,U/=Math.pow(2,ge-31),Ee=U>>>0,Ee&2147483648||(U/=2,++ge,Ee=U>>>0),U-=Ee,Ee|=2147483648,Ee>>>=0,U*=Math.pow(2,32),ve=U>>>0,Q.write_shift(4,ve),Q.write_shift(4,Ee),ge+=16383+(ie?32768:0),Q.write_shift(2,ge),Q}function A(N,M){var j=I(N);return N.l+=M-14,j}function C(N,M){var j=B(N),U=N.read_shift(4);return j[1].v=U>>6,j}function D(N,M){var j=B(N),U=N.read_shift(8,"f");return j[1].v=U,j}function q(N,M){var j=D(N);return N.l+=M-10,j}function he(N,M){return N[N.l+M-1]==0?N.read_shift(M,"cstr"):""}function ne(N,M){var j=N[N.l++];j>M-1&&(j=M-1);for(var U="";U.length<j;)U+=String.fromCharCode(N[N.l++]);return U}function ee(N,M,j){if(!(!j.qpro||M<21)){var U=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var Q=N.read_shift(M-21,"cstr");return[U,Q]}}function K(N,M){for(var j={},U=N.l+M;N.l<U;){var Q=N.read_shift(2);if(Q==14e3){for(j[Q]=[0,""],j[Q][0]=N.read_shift(2);N[N.l];)j[Q][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return j}function Z(N,M){var j=Ve(5+N.length);j.write_shift(2,14e3),j.write_shift(2,M);for(var U=0;U<N.length;++U){var Q=N.charCodeAt(U);j[j.l++]=Q>127?95:Q}return j[j.l++]=0,j}var me={0:{n:"BOF",f:PL},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},Ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:V},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:b},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),bK=/^\s|\s$|[\t\n\r]/;function ML(n,e){if(!e.bookSST)return"";var t=[Gr];t[t.length]=ot("sst",null,{xmlns:wp[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(bK)&&(s+=' xml:space="preserve"'),s+=">"+On(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function AK(n){return[n.read_shift(4),n.read_shift(4)]}function CK(n,e){return e||(e=Ve(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var kK=yG;function IK(n){var e=Bs();Ge(e,159,CK(n));for(var t=0;t<n.length;++t)Ge(e,19,kK(n[t]));return Ge(e,160),e.end()}function NK(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function BL(n){var e=0,t,r=NK(n),i=r.length+1,s,o,a,l,c;for(t=Gh(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],a=e&16384?1:0,l=e<<1&32767,c=a|l,e=c^o;return e^52811}var PK=function(){function n(i,s){switch(s.type){case"base64":return e(Ql(i),s);case"binary":return e(i,s);case"buffer":return e(En&&Buffer.isBuffer(i)?i.toString("binary"):_g(i),s);case"array":return e(t_(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(a)&&(a[h]=[]);for(var d=/\\\w+\b/g,f=0,v,g=-1;v=d.exec(u);){switch(v[0]){case"\\cell":var E=u.slice(f,d.lastIndex-v[0].length);if(E[0]==" "&&(E=E.slice(1)),++g,E.length){var _={v:E,t:"s"};Array.isArray(a)?a[h][g]=_:a[jn({r:h,c:g})]=_}break}f=d.lastIndex}g>c.e.c&&(c.e.c=g)}),a["!ref"]=$r(c),a}function t(i,s){return uf(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=cr(i["!ref"]),a,l=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=jn({r:c,c:u});a=l?(i[c]||[])[u]:i[h],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Xl(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function B3(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var DK=6,Fl=DK;function N2(n){return Math.floor((n+Math.round(128/Fl)/256)*Fl)}function P2(n){return Math.floor((n-5)/Fl*100+.5)/100}function j5(n){return Math.round((n*Fl+5)/Fl*256)/256}function tb(n){n.width?(n.wpx=N2(n.width),n.wch=P2(n.wpx),n.MDW=Fl):n.wpx?(n.wch=P2(n.wpx),n.width=j5(n.wch),n.MDW=Fl):typeof n.wch=="number"&&(n.width=j5(n.wch),n.wpx=N2(n.width),n.MDW=Fl),n.customWidth&&delete n.customWidth}var RK=96,jL=RK;function D2(n){return n*96/jL}function UL(n){return n*jL/96}function LK(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=ot("numFmt",null,{numFmtId:r,formatCode:On(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ot("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function OK(n){var e=[];return e[e.length]=ot("cellXfs",null),n.forEach(function(t){e[e.length]=ot("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ot("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function VL(n,e){var t=[Gr,ot("styleSheet",null,{xmlns:wp[0],"xmlns:vt":hi.vt})],r;return n.SSF&&(r=LK(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=OK(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function FK(n,e){var t=n.read_shift(2),r=es(n);return[t,r]}function MK(n,e,t){t||(t=Ve(6+4*e.length)),t.write_shift(2,n),di(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function BK(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=bG(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var a=n.read_shift(1);a>0&&(r.family=a);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=TG(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=es(n),r}function jK(n,e){e||(e=Ve(25+4*32)),e.write_shift(2,n.sz*20),AG(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),k2(n.color,e);var r=0;return n.scheme=="major"&&(r=1),n.scheme=="minor"&&(r=2),e.write_shift(1,r),di(n.name,e),e.length>e.l?e.slice(0,e.l):e}var UK=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Rw,VK=Qa;function j3(n,e){e||(e=Ve(4*3+8*7+16*1)),Rw||(Rw=HT(UK));var t=Rw[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(k2({auto:1},e),k2({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function WK(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function WL(n,e,t){t||(t=Ve(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function n0(n,e){return e||(e=Ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var HK=Qa;function zK(n,e){return e||(e=Ve(51)),e.write_shift(1,0),n0(null,e),n0(null,e),n0(null,e),n0(null,e),n0(null,e),e.length>e.l?e.slice(0,e.l):e}function qK(n,e){return e||(e=Ve(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,+n.builtinId),e.write_shift(1,0),C2(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function $K(n,e,t){var r=Ve(2052);return r.write_shift(4,n),C2(e,r),C2(t,r),r.length>r.l?r.slice(0,r.l):r}function YK(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Ge(n,615,ca(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ge(n,44,MK(i,e[i]))}),Ge(n,616))}}function GK(n){var e=1;Ge(n,611,ca(e)),Ge(n,43,jK({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ge(n,612)}function KK(n){var e=2;Ge(n,603,ca(e)),Ge(n,45,j3({patternType:"none"})),Ge(n,45,j3({patternType:"gray125"})),Ge(n,604)}function QK(n){var e=1;Ge(n,613,ca(e)),Ge(n,46,zK()),Ge(n,614)}function XK(n){var e=1;Ge(n,626,ca(e)),Ge(n,47,WL({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ge(n,627)}function JK(n,e){Ge(n,617,ca(e.length)),e.forEach(function(t){Ge(n,47,WL(t,0))}),Ge(n,618)}function ZK(n){var e=1;Ge(n,619,ca(e)),Ge(n,48,qK({xfId:0,builtinId:0,name:"Normal"})),Ge(n,620)}function eQ(n){var e=0;Ge(n,505,ca(e)),Ge(n,506)}function tQ(n){var e=0;Ge(n,508,$K(e,"TableStyleMedium9","PivotStyleMedium4")),Ge(n,509)}function nQ(n,e){var t=Bs();return Ge(t,278),YK(t,n.SSF),GK(t),KK(t),QK(t),XK(t),JK(t,e.cellXfs),ZK(t),eQ(t),tQ(t),Ge(t,279),t.end()}function HL(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Gr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function rQ(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:es(n)}}function iQ(n){var e=Ve(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),di(n.name,e),e.slice(0,e.l)}function sQ(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function oQ(n){var e=Ve(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function aQ(n,e){var t=Ve(8+2*e.length);return t.write_shift(4,n),di(e,t),t.slice(0,t.l)}function lQ(n){return n.l+=4,n.read_shift(4)!=0}function cQ(n,e){var t=Ve(8);return t.write_shift(4,n),t.write_shift(4,1),t}function uQ(){var n=Bs();return Ge(n,332),Ge(n,334,ca(1)),Ge(n,335,iQ({name:"XLDAPR",version:12e4,flags:3496657072})),Ge(n,336),Ge(n,339,aQ(1,"XLDAPR")),Ge(n,52),Ge(n,35,ca(514)),Ge(n,4096,ca(0)),Ge(n,4097,To(1)),Ge(n,36),Ge(n,53),Ge(n,340),Ge(n,337,cQ(1)),Ge(n,51,oQ([[1,0]])),Ge(n,338),Ge(n,333),n.end()}function zL(){var n=[Gr];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function hQ(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=jn(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var dd=1024;function qL(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ot("xml",null,{"xmlns:v":to.v,"xmlns:o":to.o,"xmlns:x":to.x,"xmlns:mv":to.mv}).replace(/\/>/,">"),ot("o:shapelayout",ot("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),ot("v:shapetype",[ot("v:stroke",null,{joinstyle:"miter"}),ot("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];dd<n*1e3;)dd+=1e3;return e.forEach(function(s){var o=fi(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?ot("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ot("v:fill",l,a),u={on:"t",obscured:"t"};++dd,i=i.concat(["<v:shape"+Um({id:"_x0000_s"+dd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ot("v:shadow",null,u),ot("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Pi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Pi("x:AutoFill","False"),Pi("x:Row",String(o.r)),Pi("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function $L(n){var e=[Gr,ot("comments",null,{xmlns:wp[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=On(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=t.indexOf(On(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Pi("t",On(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(Pi("t",On(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function fQ(n,e,t){var r=[Gr,ot("ThreadedComments",null,{xmlns:hi.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(ot("threadedComment",Pi("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function dQ(n){var e=[Gr,ot("personList",null,{xmlns:hi.TCMNT,"xmlns:x":wp[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(ot("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function pQ(n){var e={};e.iauthor=n.read_shift(4);var t=pf(n);return e.rfx=t.s,e.ref=jn(t.s),n.l+=16,e}function mQ(n,e){return e==null&&(e=Ve(36)),e.write_shift(4,n[1].iauthor),Ep(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var gQ=es;function vQ(n){return di(n.slice(0,54))}function yQ(n){var e=Bs(),t=[];return Ge(e,628),Ge(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Ge(e,632,vQ(i.a)))})}),Ge(e,631),Ge(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:fi(r[0]),e:fi(r[0])};Ge(e,635,mQ([s,i])),i.t&&i.t.length>0&&Ge(e,637,wG(i)),Ge(e,636),delete i.iauthor})}),Ge(e,634),Ge(e,629),e.end()}function _Q(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&qn.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var YL=["xlsb","xlsm","xlam","biff8","xla"],wQ=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=e.c:--u,l?c+=e.r:--c,i+(a?"":"$")+Zi(u)+(l?"":"$")+Li(c)}return function(i,s){return e=s,i.replace(n,t)}}(),nb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,rb=function(){return function(e,t){return e.replace(nb,function(r,i,s,o,a,l){var c=QT(o)-(s?0:t.c),u=KT(l)-(a?0:t.r),h=u==0?"":a?u+1:"["+u+"]",d=c==0?"":s?c+1:"["+c+"]";return i+"R"+h+"C"+d})}}();function xQ(n,e){return n.replace(nb,function(t,r,i,s,o,a){return r+(i=="$"?i+s:Zi(QT(s)+e.c))+(o=="$"?o+a:Li(KT(a)+e.r))})}function EQ(n){return n.length!=1}function Vr(n){n.l+=1}function Au(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function GL(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return KL(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=Au(n),a=Au(n);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function KL(n){var e=Au(n),t=Au(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function SQ(n,e,t){if(t.biff<8)return KL(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=Au(n),o=Au(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function QL(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return TQ(n);var r=n.read_shift(t&&t.biff==12?4:2),i=Au(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function TQ(n){var e=Au(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function bQ(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function AQ(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return CQ(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function CQ(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function kQ(n,e,t){var r=(n[n.l++]&96)>>5,i=GL(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function IQ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=GL(n,s,t);return[r,i,o]}function NQ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function PQ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function DQ(n,e,t){var r=(n[n.l++]&96)>>5,i=SQ(n,e-1,t);return[r,i]}function RQ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function U3(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function LQ(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function OQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function FQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function MQ(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function BQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function XL(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function jQ(n){return n.read_shift(2),XL(n)}function UQ(n){return n.read_shift(2),XL(n)}function VQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=QL(n,0,t);return[r,i]}function WQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=AQ(n,0,t);return[r,i]}function HQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=QL(n,0,t);return[r,i,s]}function zQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[zX[i],eO[i],r]}function qQ(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:$Q(n);return[i,(s[0]===0?eO:HX)[s[1]]]}function $Q(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function YQ(n,e,t){n.l+=t&&t.biff==2?3:4}function GQ(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function KQ(n){return n.l++,Eg[n.read_shift(1)]}function QQ(n){return n.l++,n.read_shift(2)}function XQ(n){return n.l++,n.read_shift(1)!==0}function JQ(n){return n.l++,Sp(n)}function ZQ(n,e,t){return n.l++,RL(n,e-1,t)}function eX(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=HG(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Eg[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Sp(n);break;case 2:t[1]=YG(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function tX(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?pf:QG)(n));return i}function nX(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=eX(n,t.biff);return o}function rX(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function iX(n,e,t){if(t.biff==5)return sX(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function sX(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function oX(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function aX(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function lX(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function cX(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var uX=Qa,hX=Qa,fX=Qa;function Sg(n,e,t){return n.l+=2,[bQ(n)]}function ib(n){return n.l+=6,[]}var dX=Sg,pX=ib,mX=ib,gX=Sg;function JL(n){return n.l+=2,[PL(n),n.read_shift(2)&1]}var vX=Sg,yX=JL,_X=ib,wX=Sg,xX=Sg,EX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function SX(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=EX[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function TX(n){return n.l+=2,[n.read_shift(4)]}function bX(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function AX(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function CX(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function kX(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function IX(n){return n.l+=4,[0,0]}var V3={1:{n:"PtgExp",f:GQ},2:{n:"PtgTbl",f:fX},3:{n:"PtgAdd",f:Vr},4:{n:"PtgSub",f:Vr},5:{n:"PtgMul",f:Vr},6:{n:"PtgDiv",f:Vr},7:{n:"PtgPower",f:Vr},8:{n:"PtgConcat",f:Vr},9:{n:"PtgLt",f:Vr},10:{n:"PtgLe",f:Vr},11:{n:"PtgEq",f:Vr},12:{n:"PtgGe",f:Vr},13:{n:"PtgGt",f:Vr},14:{n:"PtgNe",f:Vr},15:{n:"PtgIsect",f:Vr},16:{n:"PtgUnion",f:Vr},17:{n:"PtgRange",f:Vr},18:{n:"PtgUplus",f:Vr},19:{n:"PtgUminus",f:Vr},20:{n:"PtgPercent",f:Vr},21:{n:"PtgParen",f:Vr},22:{n:"PtgMissArg",f:Vr},23:{n:"PtgStr",f:ZQ},26:{n:"PtgSheet",f:bX},27:{n:"PtgEndSheet",f:AX},28:{n:"PtgErr",f:KQ},29:{n:"PtgBool",f:XQ},30:{n:"PtgInt",f:QQ},31:{n:"PtgNum",f:JQ},32:{n:"PtgArray",f:RQ},33:{n:"PtgFunc",f:zQ},34:{n:"PtgFuncVar",f:qQ},35:{n:"PtgName",f:rX},36:{n:"PtgRef",f:VQ},37:{n:"PtgArea",f:kQ},38:{n:"PtgMemArea",f:oX},39:{n:"PtgMemErr",f:uX},40:{n:"PtgMemNoMem",f:hX},41:{n:"PtgMemFunc",f:aX},42:{n:"PtgRefErr",f:lX},43:{n:"PtgAreaErr",f:NQ},44:{n:"PtgRefN",f:WQ},45:{n:"PtgAreaN",f:DQ},46:{n:"PtgMemAreaN",f:CX},47:{n:"PtgMemNoMemN",f:kX},57:{n:"PtgNameX",f:iX},58:{n:"PtgRef3d",f:HQ},59:{n:"PtgArea3d",f:IQ},60:{n:"PtgRefErr3d",f:cX},61:{n:"PtgAreaErr3d",f:PQ},255:{}},NX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},PX={1:{n:"PtgElfLel",f:JL},2:{n:"PtgElfRw",f:wX},3:{n:"PtgElfCol",f:dX},6:{n:"PtgElfRwV",f:xX},7:{n:"PtgElfColV",f:gX},10:{n:"PtgElfRadical",f:vX},11:{n:"PtgElfRadicalS",f:_X},13:{n:"PtgElfColS",f:pX},15:{n:"PtgElfColSV",f:mX},16:{n:"PtgElfRadicalLel",f:yX},25:{n:"PtgList",f:SX},29:{n:"PtgSxName",f:TX},255:{}},DX={0:{n:"PtgAttrNoop",f:IX},1:{n:"PtgAttrSemi",f:BQ},2:{n:"PtgAttrIf",f:FQ},4:{n:"PtgAttrChoose",f:LQ},8:{n:"PtgAttrGoto",f:OQ},16:{n:"PtgAttrSum",f:YQ},32:{n:"PtgAttrBaxcel",f:U3},33:{n:"PtgAttrBaxcel",f:U3},64:{n:"PtgAttrSpace",f:jQ},65:{n:"PtgAttrSpaceSemi",f:UQ},128:{n:"PtgAttrIfError",f:MQ},255:{}};function RX(n,e,t,r){if(r.biff<8)return Qa(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=nX(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=tX(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=i-n.l,e!==0&&s.push(Qa(n,e)),s}function LX(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=V3[s]||V3[NX[s]],(s===24||s===25)&&(i=(s===24?PX:DX)[n[n.l+1]]),!i||!i.f?Qa(n,e):o.push([i.n,i.f(n,e,t)]);return o}function OX(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var FX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function MX(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function ZL(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function W3(n,e,t){var r=ZL(n,e,t);return r=="#REF"?r:MX(r,t)}function tp(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],l,c,u,h=0,d=0,f,v="";if(!n[0]||!n[0][0])return"";for(var g=-1,E="",_=0,w=n[0].length;_<w;++_){var x=n[0][_];switch(x[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),g>=0){switch(n[0][g][1][0]){case 0:E=br(" ",n[0][g][1][1]);break;case 1:E=br("\r",n[0][g][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][g][1][0])}c=c+E,g=-1}a.push(c+FX[x[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=z0(x[1][1],o,i),a.push(q0(u,s));break;case"PtgRefN":u=t?z0(x[1][1],t,i):x[1][1],a.push(q0(u,s));break;case"PtgRef3d":h=x[1][1],u=z0(x[1][2],o,i),v=W3(r,h,i),a.push(v+"!"+q0(u,s));break;case"PtgFunc":case"PtgFuncVar":var R=x[1][0],B=x[1][1];R||(R=0),R&=127;var V=R==0?[]:a.slice(-R);a.length-=R,B==="User"&&(B=V.shift()),a.push(B+"("+V.join(",")+")");break;case"PtgBool":a.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(x[1]);break;case"PtgNum":a.push(String(x[1]));break;case"PtgStr":a.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(x[1]);break;case"PtgAreaN":f=A3(x[1][1],t?{s:t}:o,i),a.push(Pw(f,i));break;case"PtgArea":f=A3(x[1][1],o,i),a.push(Pw(f,i));break;case"PtgArea3d":h=x[1][1],f=x[1][2],v=W3(r,h,i),a.push(v+"!"+Pw(f,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=x[1][2];var T=(r.names||[])[d-1]||(r[0]||[])[d],b=T?T.Name:"SH33TJSNAME"+String(d);b&&b.slice(0,6)=="_xlfn."&&!i.xlfn&&(b=b.slice(6)),a.push(b);break;case"PtgNameX":var I=x[1][1];d=x[1][2];var L;if(i.biff<=5)I<0&&(I=-I),r[I]&&(L=r[I][d]);else{var A="";if(((r[I]||[])[0]||[])[0]==14849||(((r[I]||[])[0]||[])[0]==1025?r[I][d]&&r[I][d].itab>0&&(A=r.SheetNames[r[I][d].itab-1]+"!"):A=r.SheetNames[d-1]+"!"),r[I]&&r[I][d])A+=r[I][d].Name;else if(r[0]&&r[0][d])A+=r[0][d].Name;else{var C=(ZL(r,I,i)||"").split(";;");C[d-1]?A=C[d-1]:A+="SH33TJSERRX"}a.push(A);break}L||(L={Name:"SH33TJSERRY"}),a.push(L.Name);break;case"PtgParen":var D="(",q=")";if(g>=0){switch(E="",n[0][g][1][0]){case 2:D=br(" ",n[0][g][1][1])+D;break;case 3:D=br("\r",n[0][g][1][1])+D;break;case 4:q=br(" ",n[0][g][1][1])+q;break;case 5:q=br("\r",n[0][g][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][g][1][0])}g=-1}a.push(D+a.pop()+q);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var he={c:t.c,r:t.r};if(r.sharedf[jn(u)]){var ne=r.sharedf[jn(u)];a.push(tp(ne,o,he,r,i))}else{var ee=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){a.push(tp(c[1],o,he,r,i)),ee=!0;break}ee||a.push(x[1])}break;case"PtgArray":a.push("{"+OX(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&K.indexOf(n[0][_][0])==-1){x=n[0][g];var Z=!0;switch(x[1][0]){case 4:Z=!1;case 0:E=br(" ",x[1][1]);break;case 5:Z=!1;case 1:E=br("\r",x[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}a.push((Z?E:"")+a.pop()+(Z?"":E)),g=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function BX(n){if(n==null){var e=Ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Kh(n);return Kh(0)}function jX(n,e,t,r,i){var s=Qh(e,t,i),o=BX(n.v),a=Ve(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=Ve(n.bf.length),u=0;u<n.bf.length;++u)c[u]=n.bf[u];var h=Ni([s,o,a,c]);return h}function n_(n,e,t){var r=n.read_shift(4),i=LX(n,r,t),s=n.read_shift(4),o=s>0?RX(n,s,i,t):null;return[i,o]}var UX=n_,r_=n_,VX=n_,WX=n_,HX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},eO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},zX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qX(n){var e="of:="+n.replace(nb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function $X(n){return n.replace(/\./,"!")}var $0=typeof Map<"u";function sb(n,e,t){var r=0,i=n.length;if(t){if($0?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=$0?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&($0?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function i_(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Fl=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=P2(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=j5(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function tO(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Uu(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){Q6(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function YX(n,e,t){if(n&&n["!ref"]){var r=cr(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function GX(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+$r(n[t])+'"/>';return e+"</mergeCells>"}function KX(n,e,t,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[t];try{e.Workbook&&(l=e.Workbook.Sheets[t].CodeName||l)}catch{}s=!0,o.codeName=jm(On(l))}if(n&&n["!outline"]){var c={summaryBelow:1,summaryRight:1};n["!outline"].above&&(c.summaryBelow=0),n["!outline"].left&&(c.summaryRight=0),a=(a||"")+ot("outlinePr",null,c)}!s&&!a||(i[i.length]=ot("sheetPr",a,o))}var QX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],XX=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function JX(n){var e={sheet:1};return QX.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),XX.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=BL(n.password).toString(16).toUpperCase()),ot("sheetProtection",null,e)}function ZX(n){return tO(n),ot("pageMargins",null,n)}function eJ(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=ot("col",null,i_(i,r)));return t[t.length]="</cols>",t.join("")}function tJ(n,e,t,r){var i=typeof n.ref=="string"?n.ref:$r(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=ho(i);o.s.r==o.e.r&&(o.e.r=ho(e["!ref"]).e.r,i=$r(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),ot("autoFilter",null,{ref:i})}function nJ(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ot("sheetViews",ot("sheetView",null,i),{})}function rJ(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Eg[n.v];break;case"d":r&&r.cellDates?i=ys(n.v,-1).toISOString():(n=Us(n),n.t="n",i=""+(n.v=js(ys(n.v)))),typeof n.z>"u"&&(n.z=Ar[14]);break;default:i=n.v;break}var a=Pi("v",On(i)),l={r:e},c=Uu(r.cellXfs,n,r);switch(c!==0&&(l.s=c),n.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=Pi("v",""+sb(r.Strings,n.v,r.revStrings)),l.t="s";break}l.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var u=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;a=ot("f",On(n.f),u)+(n.v!=null?a:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(l.cm=1),ot("c",a,l)}function iJ(n,e,t,r){var i=[],s=[],o=cr(n["!ref"]),a="",l,c="",u=[],h=0,d=0,f=n["!rows"],v=Array.isArray(n),g={r:c},E,_=-1;for(d=o.s.c;d<=o.e.c;++d)u[d]=Zi(d);for(h=o.s.r;h<=o.e.r;++h){for(s=[],c=Li(h),d=o.s.c;d<=o.e.c;++d){l=u[d]+c;var w=v?(n[h]||[])[d]:n[l];w!==void 0&&(a=rJ(w,l,n,e))!=null&&s.push(a)}(s.length>0||f&&f[h])&&(g={r:c},f&&f[h]&&(E=f[h],E.hidden&&(g.hidden=1),_=-1,E.hpx?_=D2(E.hpx):E.hpt&&(_=E.hpt),_>-1&&(g.ht=_,g.customHeight=1),E.level&&(g.outlineLevel=E.level)),i[i.length]=ot("row",s.join(""),g))}if(f)for(;h<f.length;++h)f&&f[h]&&(g={r:h+1},E=f[h],E.hidden&&(g.hidden=1),_=-1,E.hpx?_=D2(E.hpx):E.hpt&&(_=E.hpt),_>-1&&(g.ht=_,g.customHeight=1),E.level&&(g.outlineLevel=E.level),i[i.length]=ot("row","",g));return i.join("")}function nO(n,e,t,r){var i=[Gr,ot("worksheet",null,{xmlns:wp[0],"xmlns:r":hi.r})],s=t.SheetNames[n],o=0,a="",l=t.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=cr(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=$r(u)}r||(r={}),l["!comments"]=[];var h=[];KX(l,t,n,e,i),i[i.length]=ot("dimension",null,{ref:c}),i[i.length]=nJ(l,e,n,t),e.sheetFormat&&(i[i.length]=ot("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=eJ(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=iJ(l,e),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=JX(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=tJ(l["!autofilter"],l,t,n)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=GX(l["!merges"]));var d=-1,f,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(f={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Dn(r,-1,On(g[1].Target).replace(/#.*$/,""),vn.HLINK),f["r:id"]="rId"+v),(d=g[1].Target.indexOf("#"))>-1&&(f.location=On(g[1].Target.slice(d+1))),g[1].Tooltip&&(f.tooltip=On(g[1].Tooltip)),i[i.length]=ot("hyperlink",null,f))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=ZX(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Pi("ignoredErrors",ot("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(v=Dn(r,-1,"../drawings/drawing"+(n+1)+".xml",vn.DRAW),i[i.length]=ot("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=h),l["!comments"].length>0&&(v=Dn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",vn.VML),i[i.length]=ot("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function sJ(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function oJ(n,e,t){var r=Ve(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=D2(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var c={r:n,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var h=-1,d=-1,f=u<<10;f<u+1<<10;++f){c.c=f;var v=Array.isArray(t)?(t[c.r]||[])[c.c]:t[jn(c)];v&&(h<0&&(h=f),d=f)}h<0||(++a,r.write_shift(4,h),r.write_shift(4,d))}var g=r.l;return r.l=l,r.write_shift(4,a),r.l=g,r.length>r.l?r.slice(0,r.l):r}function aJ(n,e,t,r){var i=oJ(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Ge(n,0,i)}var lJ=pf,cJ=Ep;function uJ(){}function hJ(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=xG(n),t}function fJ(n,e,t){t==null&&(t=Ve(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return k2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),vL(n,t),t.slice(0,t.l)}function dJ(n){var e=Oo(n);return[e]}function pJ(n,e,t){return t==null&&(t=Ve(8)),hf(e,t)}function mJ(n){var e=ff(n);return[e]}function gJ(n,e,t){return t==null&&(t=Ve(4)),df(e,t)}function vJ(n){var e=Oo(n),t=n.read_shift(1);return[e,t,"b"]}function yJ(n,e,t){return t==null&&(t=Ve(9)),hf(e,t),t.write_shift(1,n.v?1:0),t}function _J(n){var e=ff(n),t=n.read_shift(1);return[e,t,"b"]}function wJ(n,e,t){return t==null&&(t=Ve(5)),df(e,t),t.write_shift(1,n.v?1:0),t}function xJ(n){var e=Oo(n),t=n.read_shift(1);return[e,t,"e"]}function EJ(n,e,t){return t==null&&(t=Ve(9)),hf(e,t),t.write_shift(1,n.v),t}function SJ(n){var e=ff(n),t=n.read_shift(1);return[e,t,"e"]}function TJ(n,e,t){return t==null&&(t=Ve(8)),df(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function bJ(n){var e=Oo(n),t=n.read_shift(4);return[e,t,"s"]}function AJ(n,e,t){return t==null&&(t=Ve(12)),hf(e,t),t.write_shift(4,e.v),t}function CJ(n){var e=ff(n),t=n.read_shift(4);return[e,t,"s"]}function kJ(n,e,t){return t==null&&(t=Ve(8)),df(e,t),t.write_shift(4,e.v),t}function IJ(n){var e=Oo(n),t=Sp(n);return[e,t,"n"]}function NJ(n,e,t){return t==null&&(t=Ve(16)),hf(e,t),Kh(n.v,t),t}function PJ(n){var e=ff(n),t=Sp(n);return[e,t,"n"]}function DJ(n,e,t){return t==null&&(t=Ve(12)),df(e,t),Kh(n.v,t),t}function RJ(n){var e=Oo(n),t=yL(n);return[e,t,"n"]}function LJ(n,e,t){return t==null&&(t=Ve(12)),hf(e,t),_L(n.v,t),t}function OJ(n){var e=ff(n),t=yL(n);return[e,t,"n"]}function FJ(n,e,t){return t==null&&(t=Ve(8)),df(e,t),_L(n.v,t),t}function MJ(n){var e=Oo(n),t=XT(n);return[e,t,"is"]}function BJ(n){var e=Oo(n),t=es(n);return[e,t,"str"]}function jJ(n,e,t){return t==null&&(t=Ve(12+4*n.v.length)),hf(e,t),di(n.v,t),t.length>t.l?t.slice(0,t.l):t}function UJ(n){var e=ff(n),t=es(n);return[e,t,"str"]}function VJ(n,e,t){return t==null&&(t=Ve(8+4*n.v.length)),df(e,t),di(n.v,t),t.length>t.l?t.slice(0,t.l):t}function WJ(n,e,t){var r=n.l+e,i=Oo(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var a=r_(n,r-n.l,t);o[3]=tp(a,null,i,t.supbooks,t)}else n.l=r;return o}function HJ(n,e,t){var r=n.l+e,i=Oo(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var a=r_(n,r-n.l,t);o[3]=tp(a,null,i,t.supbooks,t)}else n.l=r;return o}function zJ(n,e,t){var r=n.l+e,i=Oo(n);i.r=t["!row"];var s=Sp(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var a=r_(n,r-n.l,t);o[3]=tp(a,null,i,t.supbooks,t)}else n.l=r;return o}function qJ(n,e,t){var r=n.l+e,i=Oo(n);i.r=t["!row"];var s=es(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var a=r_(n,r-n.l,t);o[3]=tp(a,null,i,t.supbooks,t)}else n.l=r;return o}var $J=pf,YJ=Ep;function GJ(n,e){return e==null&&(e=Ve(4)),e.write_shift(4,n),e}function KJ(n,e){var t=n.l+e,r=pf(n),i=JT(n),s=es(n),o=es(n),a=es(n);n.l=t;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function QJ(n,e){var t=Ve(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Ep({s:fi(n[0]),e:fi(n[0])},t),ZT("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return di(i||"",t),di(n[1].Tooltip||"",t),di("",t),t.slice(0,t.l)}function XJ(){}function JJ(n,e,t){var r=n.l+e,i=wL(n),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var a=UX(n,r-n.l,t);o[1]=a}else n.l=r;return o}function ZJ(n,e,t){var r=n.l+e,i=pf(n),s=[i];if(t.cellFormula){var o=WX(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function eZ(n,e,t){t==null&&(t=Ve(18));var r=i_(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var rO=["left","right","top","bottom","header","footer"];function tZ(n){var e={};return rO.forEach(function(t){e[t]=Sp(n)}),e}function nZ(n,e){return e==null&&(e=Ve(6*8)),tO(n),rO.forEach(function(t){Kh(n[t],e)}),e}function rZ(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function iZ(n,e,t){t==null&&(t=Ve(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function sZ(n){var e=Ve(24);return e.write_shift(4,4),e.write_shift(4,1),Ep(n,e),e}function oZ(n,e){return e==null&&(e=Ve(16*4+2)),e.write_shift(2,n.password?BL(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function aZ(){}function lZ(){}function cZ(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=Us(e),e.z=e.z||Ar[14],e.v=js(ys(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var l={r:t,c:r};switch(l.s=Uu(i.cellXfs,e,i),e.l&&s["!links"].push([jn(l),e.l]),e.c&&s["!comments"].push([jn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(a=sb(i.Strings,e.v,i.revStrings),l.t="s",l.v=a,o?Ge(n,18,kJ(e,l)):Ge(n,7,AJ(e,l))):(l.t="str",o?Ge(n,17,VJ(e,l)):Ge(n,6,jJ(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Ge(n,13,FJ(e,l)):Ge(n,2,LJ(e,l)):o?Ge(n,16,DJ(e,l)):Ge(n,5,NJ(e,l)),!0;case"b":return l.t="b",o?Ge(n,15,wJ(e,l)):Ge(n,4,yJ(e,l)),!0;case"e":return l.t="e",o?Ge(n,14,TJ(e,l)):Ge(n,3,EJ(e,l)),!0}return o?Ge(n,12,gJ(e,l)):Ge(n,1,pJ(e,l)),!0}function uZ(n,e,t,r){var i=cr(e["!ref"]||"A1"),s,o="",a=[];Ge(n,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){o=Li(u),aJ(n,e,i,u);var h=!1;if(u<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(a[d]=Zi(d)),s=a[d]+o;var f=l?(e[u]||[])[d]:e[s];if(!f){h=!1;continue}h=cZ(n,f,u,d,r,e,h)}}Ge(n,146)}function hZ(n,e){!e||!e["!merges"]||(Ge(n,177,GJ(e["!merges"].length)),e["!merges"].forEach(function(t){Ge(n,176,YJ(t))}),Ge(n,178))}function fZ(n,e){!e||!e["!cols"]||(Ge(n,390),e["!cols"].forEach(function(t,r){t&&Ge(n,60,eZ(r,t))}),Ge(n,391))}function dZ(n,e){!e||!e["!ref"]||(Ge(n,648),Ge(n,649,sZ(cr(e["!ref"]))),Ge(n,650))}function pZ(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Dn(t,-1,r[1].Target.replace(/#.*$/,""),vn.HLINK);Ge(n,494,QJ(r,i))}}),delete e["!links"]}function mZ(n,e,t,r){if(e["!comments"].length>0){var i=Dn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",vn.VML);Ge(n,551,ZT("rId"+i)),e["!legacy"]=i}}function gZ(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:$r(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,a=ho(s);a.s.r==a.e.r&&(a.e.r=ho(e["!ref"]).e.r,s=$r(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+t.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Ge(n,161,Ep(cr(s))),Ge(n,162)}}function vZ(n,e,t){Ge(n,133),Ge(n,137,iZ(e,t)),Ge(n,138),Ge(n,134)}function yZ(n,e){e["!protect"]&&Ge(n,535,oZ(e["!protect"]))}function _Z(n,e,t,r){var i=Bs(),s=t.SheetNames[n],o=t.Sheets[s]||{},a=s;try{t&&t.Workbook&&(a=t.Workbook.Sheets[n].CodeName||a)}catch{}var l=cr(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ge(i,129),(t.vbaraw||o["!outline"])&&Ge(i,147,fJ(a,o["!outline"])),Ge(i,148,cJ(l)),vZ(i,o,t.Workbook),fZ(i,o),uZ(i,o,n,e),yZ(i,o),gZ(i,o,t,n),hZ(i,o),pZ(i,o,r),o["!margins"]&&Ge(i,476,nZ(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&dZ(i,o),mZ(i,o,n,r),Ge(i,130),i.end()}function wZ(n,e){n.l+=10;var t=es(n);return{name:t}}var xZ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function EZ(n){return!n.Workbook||!n.Workbook.WBProps?"false":ZY(n.Workbook.WBProps.date1904)?"true":"false"}var SZ="][*?/\\".split("");function iO(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return SZ.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function TZ(n,e,t){n.forEach(function(r,i){iO(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function bZ(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];TZ(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)YX(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function sO(n){var e=[Gr];e[e.length]=ot("workbook",null,{xmlns:wp[0],"xmlns:r":hi.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(xZ.forEach(function(a){n.Workbook.WBProps[a[0]]!=null&&n.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=n.Workbook.WBProps[a[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ot("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:On(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=ot("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(e[e.length]=ot("definedName",On(a.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function AZ(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=B5(n),t.name=es(n),t}function CZ(n,e){return e||(e=Ve(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),ZT(n.strRelID,e),di(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function kZ(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?es(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function IZ(n,e){e||(e=Ve(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),vL(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function NZ(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=EG(n),o=VX(n,0,t),a=JT(n);n.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function PZ(n,e){Ge(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Ge(n,156,CZ(i))}Ge(n,144)}function DZ(n,e){e||(e=Ve(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return di("SheetJS",e),di(x2.version,e),di(x2.version,e),di("7262",e),e.length>e.l?e.slice(0,e.l):e}function RZ(n,e){e||(e=Ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function LZ(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(Ge(n,135),Ge(n,158,RZ(i)),Ge(n,136))}}function OZ(n,e){var t=Bs();return Ge(t,131),Ge(t,128,DZ()),Ge(t,153,IZ(n.Workbook&&n.Workbook.WBProps||null)),LZ(t,n),PZ(t,n),Ge(t,132),t.end()}function FZ(n,e,t){return(e.slice(-4)===".bin"?OZ:sO)(n)}function MZ(n,e,t,r,i){return(e.slice(-4)===".bin"?_Z:nO)(n,t,r,i)}function BZ(n,e,t){return(e.slice(-4)===".bin"?nQ:VL)(n,t)}function jZ(n,e,t){return(e.slice(-4)===".bin"?IK:ML)(n,t)}function UZ(n,e,t){return(e.slice(-4)===".bin"?yQ:$L)(n)}function VZ(n){return(n.slice(-4)===".bin"?uQ:zL)()}function WZ(n,e){var t=[];return n.Props&&t.push(BG(n.Props,e)),n.Custprops&&t.push(jG(n.Props,n.Custprops)),t.join("")}function HZ(){return""}function zZ(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ot("NumberFormat",null,{"ss:Format":On(Ar[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(ot("Style",s.join(""),o))}),ot("Styles",t.join(""))}function oO(n){return ot("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+rb(n.Ref,{r:0,c:0})})}function qZ(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(oO(i)))}return ot("Names",t.join(""))}function $Z(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==t&&(a.Name.match(/^_xlfn\./)||s.push(oO(a)))}return s.join("")}function YZ(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(ot("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(ot("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(ot("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(ot("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Pi("ProtectContents","True")),n["!protect"].objects&&i.push(Pi("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Pi("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(Pi("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(Pi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":ot("WorksheetOptions",i.join(""),{xmlns:to.x})}function GZ(n){return n.map(function(e){var t=JY(e.t||""),r=ot("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ot("Comment",r,{"ss:Author":e.a})}).join("")}function KZ(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var a={};if(n.f&&(a["ss:Formula"]="="+On(rb(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var l=fi(n.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(n.l&&n.l.Target&&(a["ss:HRef"]=On(n.l.Target),n.l.Tooltip&&(a["x:HRefScreenTip"]=On(n.l.Tooltip))),t["!merges"])for(var c=t["!merges"],u=0;u!=c.length;++u)c[u].s.c!=o.c||c[u].s.r!=o.r||(c[u].e.c>c[u].s.c&&(a["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(a["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",d="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",d=String(n.v);break;case"b":h="Boolean",d=n.v?"1":"0";break;case"e":h="Error",d=Eg[n.v];break;case"d":h="DateTime",d=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Ar[14]);break;case"s":h="String",d=XY(n.v||"");break}var f=Uu(r.cellXfs,n,r);a["ss:StyleID"]="s"+(21+f),a["ss:Index"]=o.c+1;var v=n.v!=null?d:"",g=n.t=="z"?"":'<Data ss:Type="'+h+'">'+v+"</Data>";return(n.c||[]).length>0&&(g+=GZ(n.c)),ot("Cell",g,a)}function QZ(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=UL(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function XZ(n,e,t,r){if(!n["!ref"])return"";var i=cr(n["!ref"]),s=n["!merges"]||[],o=0,a=[];n["!cols"]&&n["!cols"].forEach(function(E,_){tb(E);var w=!!E.width,x=i_(_,E),R={"ss:Index":_+1};w&&(R["ss:Width"]=N2(x.width)),E.hidden&&(R["ss:Hidden"]="1"),a.push(ot("Column",null,R))});for(var l=Array.isArray(n),c=i.s.r;c<=i.e.r;++c){for(var u=[QZ(c,(n["!rows"]||[])[c])],h=i.s.c;h<=i.e.c;++h){var d=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>h)&&!(s[o].s.r>c)&&!(s[o].e.c<h)&&!(s[o].e.r<c)){(s[o].s.c!=h||s[o].s.r!=c)&&(d=!0);break}if(!d){var f={r:c,c:h},v=jn(f),g=l?(n[c]||[])[h]:n[v];u.push(KZ(g,v,n,e,t,r,f))}}u.push("</Row>"),u.length>2&&a.push(u.join(""))}return a.join("")}function JZ(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?$Z(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?XZ(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(YZ(s,e,n,t)),r.join("")}function ZZ(n,e){e||(e={}),n.SSF||(n.SSF=Us(Ar)),n.SSF&&(Zy(),Jy(n.SSF),e.revssf=e_(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Uu(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(WZ(n,e)),t.push(HZ()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(ot("Worksheet",JZ(r,e,n),{"ss:Name":On(n.SheetNames[r])}));return t[2]=zZ(n,e),t[3]=qZ(n),Gr+ot("Workbook",t.join(""),{xmlns:to.ss,"xmlns:o":to.o,"xmlns:x":to.x,"xmlns:ss":to.ss,"xmlns:dt":to.dt,"xmlns:html":to.html})}var Lw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function eee(n,e){var t=[],r=[],i=[],s=0,o,a=m3(k3,"n"),l=m3(I3,"n");if(n.Props)for(o=Bi(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=Bi(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var c=[];for(s=0;s<i.length;++s)NL.indexOf(i[s][0])>-1||CL.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&qn.utils.cfb_add(e,"/SummaryInformation",L3(r,Lw.SI,l,I3)),(t.length||c.length)&&qn.utils.cfb_add(e,"/DocumentSummaryInformation",L3(t,Lw.DSI,a,k3,c.length?c:null,Lw.UDI))}function tee(n,e){var t=e||{},r=qn.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return qn.utils.cfb_add(r,i,aO(n,t)),t.biff==8&&(n.Props||n.Custprops)&&eee(n,r),t.biff==8&&n.vbaraw&&_Q(r,qn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var nee={0:{f:sJ},1:{f:dJ},2:{f:RJ},3:{f:xJ},4:{f:vJ},5:{f:IJ},6:{f:BJ},7:{f:bJ},8:{f:qJ},9:{f:zJ},10:{f:WJ},11:{f:HJ},12:{f:mJ},13:{f:OJ},14:{f:SJ},15:{f:_J},16:{f:PJ},17:{f:UJ},18:{f:CJ},19:{f:XT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:NZ},40:{},42:{},43:{f:BK},44:{f:FK},45:{f:VK},46:{f:HK},47:{f:WK},48:{},49:{f:mG},50:{},51:{f:sQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:gK},62:{f:MJ},63:{f:hQ},64:{f:aZ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rZ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:hJ},148:{f:lJ,p:16},151:{f:XJ},152:{},153:{f:kZ},154:{},155:{},156:{f:AZ},157:{},158:{},159:{T:1,f:AK},160:{T:-1},161:{T:1,f:pf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$J},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:rQ},336:{T:-1},337:{f:lQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:B5},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:JJ},427:{f:ZJ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tZ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:uJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KJ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:B5},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:gQ},633:{T:1},634:{T:-1},635:{T:1,f:pQ},636:{T:-1},637:{f:_G},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:wZ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lZ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function lt(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&GT(t)&&n.push(t)}}function ree(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return lt(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var u=n.next(4);for(u.write_shift(2,s),u.write_shift(2,c),n.push(t.slice(l,l+c)),l+=c;l<i;){for(u=n.next(4),u.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;u.write_shift(2,c),n.push(t.slice(l,l+c)),l+=c}}}function Tg(n,e,t){return n||(n=Ve(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function iee(n,e,t,r){var i=Ve(9);return Tg(i,n,e),DL(t,r||"b",i),i}function see(n,e,t){var r=Ve(8+2*t.length);return Tg(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function oee(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?js(ys(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?lt(n,2,wK(t,r,i)):lt(n,3,_K(t,r,i));return;case"b":case"e":lt(n,5,iee(t,r,e.v,e.t));return;case"s":case"str":lt(n,4,see(t,r,(e.v||"").slice(0,255)));return}lt(n,1,Tg(null,t,r))}function aee(n,e,t,r){var i=Array.isArray(e),s=cr(e["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=$r(s)}for(var c=s.s.r;c<=s.e.r;++c){a=Li(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Zi(u)),o=l[u]+a;var h=i?(e[c]||[])[u]:e[o];h&&oee(n,h,c,u)}}}function lee(n,e){for(var t=e||{},r=Bs(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return lt(r,t.biff==4?1033:t.biff==3?521:9,eb(n,16,t)),aee(r,n.Sheets[n.SheetNames[i]],i,t),lt(r,10),r.end()}function cee(n,e,t){lt(n,49,nK({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}function uee(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&lt(n,1054,sK(i,e[i],t))})}function hee(n,e){var t=Ve(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),lt(n,2151,t),t=Ve(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),OL(cr(e["!ref"]||"A1"),t),t.write_shift(4,4),lt(n,2152,t)}function fee(n,e){for(var t=0;t<16;++t)lt(n,224,F3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){lt(n,224,F3(r,0,e))})}function dee(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];lt(n,440,dK(r)),r[1].Tooltip&&lt(n,2048,pK(r))}delete e["!links"]}function pee(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&lt(n,125,vK(i_(i,r),i))})}}function mee(n,e,t,r,i){var s=16+Uu(i.cellXfs,e,i);if(e.v==null&&!e.bf){lt(n,513,Qh(t,r,s));return}if(e.bf)lt(n,6,jX(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?js(ys(e.v)):e.v;lt(n,515,cK(t,r,o,s));break;case"b":case"e":lt(n,517,lK(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=sb(i.Strings,e.v,i.revStrings);lt(n,253,rK(t,r,a,s))}else lt(n,516,iK(t,r,(e.v||"").slice(0,255),s,i));break;default:lt(n,513,Qh(t,r,s))}}function gee(n,e,t){var r=Bs(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},a=(o.Sheets||[])[n]||{},l=Array.isArray(s),c=e.biff==8,u,h="",d=[],f=cr(s["!ref"]||"A1"),v=c?65536:16384;if(f.e.c>255||f.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,v-1)}lt(r,2057,eb(t,16,e)),lt(r,13,To(1)),lt(r,12,To(100)),lt(r,15,ps(!0)),lt(r,17,ps(!1)),lt(r,16,Kh(.001)),lt(r,95,ps(!0)),lt(r,42,ps(!1)),lt(r,43,ps(!1)),lt(r,130,To(1)),lt(r,128,aK()),lt(r,131,ps(!1)),lt(r,132,ps(!1)),c&&pee(r,s["!cols"]),lt(r,512,oK(f,e)),c&&(s["!links"]=[]);for(var g=f.s.r;g<=f.e.r;++g){h=Li(g);for(var E=f.s.c;E<=f.e.c;++E){g===f.s.r&&(d[E]=Zi(E)),u=d[E]+h;var _=l?(s[g]||[])[E]:s[u];_&&(mee(r,_,g,E,e),c&&_.l&&s["!links"].push([u,_.l]))}}var w=a.CodeName||a.name||i;return c&&lt(r,574,tK((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&lt(r,229,fK(s["!merges"])),c&&dee(r,s),lt(r,442,LL(w)),c&&hee(r,s),lt(r,10),r.end()}function vee(n,e,t){var r=Bs(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=t.biff==8,l=t.biff==5;if(lt(r,2057,eb(n,5,t)),t.bookType=="xla"&&lt(r,135),lt(r,225,a?To(1200):null),lt(r,193,WG(2)),l&&lt(r,191),l&&lt(r,192),lt(r,226),lt(r,92,XG("SheetJS",t)),lt(r,66,To(a?1200:1252)),a&&lt(r,353,To(0)),a&&lt(r,448),lt(r,317,yK(n.SheetNames.length)),a&&n.vbaraw&&lt(r,211),a&&n.vbaraw){var c=o.CodeName||"ThisWorkbook";lt(r,442,LL(c))}lt(r,156,To(17)),lt(r,25,ps(!1)),lt(r,18,ps(!1)),lt(r,19,To(0)),a&&lt(r,431,ps(!1)),a&&lt(r,444,To(0)),lt(r,61,eK()),lt(r,64,ps(!1)),lt(r,141,To(0)),lt(r,34,ps(EZ(n)=="true")),lt(r,14,ps(!0)),a&&lt(r,439,ps(!1)),lt(r,218,To(0)),cee(r,n,t),uee(r,n.SSF,t),fee(r,t),a&&lt(r,352,ps(!1));var u=r.end(),h=Bs();a&&lt(h,140,mK()),a&&t.Strings&&ree(h,252,ZG(t.Strings)),lt(h,10);var d=h.end(),f=Bs(),v=0,g=0;for(g=0;g<n.SheetNames.length;++g)v+=(a?12:11)+(a?2:1)*n.SheetNames[g].length;var E=u.length+v+d.length;for(g=0;g<n.SheetNames.length;++g){var _=s[g]||{};lt(f,133,JG({pos:E,hs:_.Hidden||0,dt:0,name:n.SheetNames[g]},t)),E+=e[g].length}var w=f.end();if(v!=w.length)throw new Error("BS8 "+v+" != "+w.length);var x=[];return u.length&&x.push(u),w.length&&x.push(w),d.length&&x.push(d),Ni(x)}function yee(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Us(Ar)),n&&n.SSF&&(Zy(),Jy(n.SSF),t.revssf=e_(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ob(t),t.cellXfs=[],Uu(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=gee(i,t,n);return r.unshift(vee(n,r,t)),Ni(r)}function aO(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=ho(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return yee(n,e);case 4:case 3:case 2:return lee(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function _ee(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>t||i[c].s.c>o)&&!(i[c].e.r<t||i[c].e.c<o)){if(i[c].s.r<t||i[c].s.c<o){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var u=jn({r:t,c:o}),h=r.dense?(n[t]||[])[o]:n[u],d=h&&h.v!=null&&(h.h||QY(h.w||(Xl(h),h.w)||""))||"",f={};a>1&&(f.rowspan=a),l>1&&(f.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(r.id||"sjs")+"-"+u,s.push(ot("td",d,f))}}var v="<tr>";return v+s.join("")+"</tr>"}var wee='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',xee="</body></html>";function Eee(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function lO(n,e){var t=e||{},r=t.header!=null?t.header:wee,i=t.footer!=null?t.footer:xee,s=[r],o=ho(n["!ref"]);t.dense=Array.isArray(n),s.push(Eee(n,o,t));for(var a=o.s.r;a<=o.e.r;++a)s.push(_ee(n,o,a,t));return s.push("</table>"+i),s.join("")}function cO(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?fi(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var u=ho(n["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var h=[],d=0,f=n["!rows"]||(n["!rows"]=[]),v=0,g=0,E=0,_=0,w=0,x=0;for(n["!cols"]||(n["!cols"]=[]);v<a.length&&g<l;++v){var R=a[v];if(H3(R)){if(r.display)continue;f[g]={hidden:!0}}var B=R.children;for(E=_=0;E<B.length;++E){var V=B[E];if(!(r.display&&H3(V))){var T=V.hasAttribute("data-v")?V.getAttribute("data-v"):V.hasAttribute("v")?V.getAttribute("v"):eG(V.innerHTML),b=V.getAttribute("data-z")||V.getAttribute("z");for(d=0;d<h.length;++d){var I=h[d];I.s.c==_+s&&I.s.r<g+i&&g+i<=I.e.r&&(_=I.e.c+1-s,d=-1)}x=+V.getAttribute("colspan")||1,((w=+V.getAttribute("rowspan")||1)>1||x>1)&&h.push({s:{r:g+i,c:_+s},e:{r:g+i+(w||1)-1,c:_+s+(x||1)-1}});var L={t:"s",v:T},A=V.getAttribute("data-t")||V.getAttribute("t")||"";T!=null&&(T.length==0?L.t=A||"z":r.raw||T.trim().length==0||A=="s"||(T==="TRUE"?L={t:"b",v:!0}:T==="FALSE"?L={t:"b",v:!1}:isNaN(Ol(T))?isNaN(Bm(T).getDate())||(L={t:"d",v:ys(T)},r.cellDates||(L={t:"n",v:js(L.v)}),L.z=r.dateNF||Ar[14]):L={t:"n",v:Ol(T)})),L.z===void 0&&b!=null&&(L.z=b);var C="",D=V.getElementsByTagName("A");if(D&&D.length)for(var q=0;q<D.length&&!(D[q].hasAttribute("href")&&(C=D[q].getAttribute("href"),C.charAt(0)!="#"));++q);C&&C.charAt(0)!="#"&&(L.l={Target:C}),r.dense?(n[g+i]||(n[g+i]=[]),n[g+i][_+s]=L):n[jn({c:_+s,r:g+i})]=L,c.e.c<_+s&&(c.e.c=_+s),_+=x}}++g}return h.length&&(n["!merges"]=(n["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,g-1+i),n["!ref"]=$r(c),g>=l&&(n["!fullref"]=$r((c.e.r=a.length-v+g-1+i,c))),n}function uO(n,e){var t=e||{},r=t.dense?[]:{};return cO(r,n,e)}function See(n,e){return uf(uO(n,e),e)}function H3(n){var e="",t=Tee(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Tee(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var bee=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Um({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Gr+e}}(),z3=function(){var n=function(s){return On(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+On(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,u=0,h=ho(s["!ref"]||"A1"),d=s["!merges"]||[],f=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",E=s["!rows"]||[];for(c=0;c<h.s.r;++c)g=E[c]?' table:style-name="ro'+E[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=h.e.r;++c){for(g=E[c]?' table:style-name="ro'+E[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<h.s.c;++u)l.push(e);for(;u<=h.e.c;++u){var _=!1,w={},x="";for(f=0;f!=d.length;++f)if(!(d[f].s.c>u)&&!(d[f].s.r>c)&&!(d[f].e.c<u)&&!(d[f].e.r<c)){(d[f].s.c!=u||d[f].s.r!=c)&&(_=!0),w["table:number-columns-spanned"]=d[f].e.c-d[f].s.c+1,w["table:number-rows-spanned"]=d[f].e.r-d[f].s.r+1;break}if(_){l.push(t);continue}var R=jn({r:c,c:u}),B=v?(s[c]||[])[u]:s[R];if(B&&B.f&&(w["table:formula"]=On(qX(B.f)),B.F&&B.F.slice(0,R.length)==R)){var V=ho(B.F);w["table:number-matrix-columns-spanned"]=V.e.c-V.s.c+1,w["table:number-matrix-rows-spanned"]=V.e.r-V.s.r+1}if(!B){l.push(e);continue}switch(B.t){case"b":x=B.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=B.v?"true":"false";break;case"n":x=B.w||String(B.v||0),w["office:value-type"]="float",w["office:value"]=B.v||0;break;case"s":case"str":x=B.v==null?"":B.v,w["office:value-type"]="string";break;case"d":x=B.w||ys(B.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=ys(B.v).toISOString(),w["table:style-name"]="ce1";break;default:l.push(e);continue}var T=n(x);if(B.l&&B.l.Target){var b=B.l.Target;b=b.charAt(0)=="#"?"#"+$X(b.slice(1)):b,b.charAt(0)!="#"&&!b.match(/^\w+:/)&&(b="../"+b),T=ot("text:a",T,{"xlink:href":b.replace(/&/g,"&amp;")})}l.push("          "+ot("table:table-cell",ot("text:p",T,{}),w)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;tb(h),h.ods=a;var d=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Gr],c=Um({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Um({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(bL().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)l.push(r(o.Sheets[o.SheetNames[h]],o,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function hO(n,e){if(e.bookType=="fods")return z3(n,e);var t=zT(),r="",i=[],s=[];return r="mimetype",Xt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Xt(t,r,z3(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Xt(t,r,bee(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Xt(t,r,Gr+bL()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Xt(t,r,MG(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Xt(t,r,OG(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function R2(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Aee(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):na(jm(n))}function Cee(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function Cu(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function kee(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Vm(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Nn(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Pd(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Jr(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Vm(n,t),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=t[0];n[t[0]++]>=128;);a=n.slice(l,t[0])}break;case 5:o=4,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Vm(n,t),a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function bi(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Nn(r*8+i.type)),i.type==2&&e.push(Nn(i.data.length)),e.push(i.data))})}),Cu(e)}function Yo(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Vm(n,r),s=Jr(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:Pd(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=Jr(a.data),c=Pd(l[3][0].data);o.messages.push({meta:l,data:n.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(o.merge=Pd(s[3][0].data)>>>0>0),t.push(o)}return t}function Vf(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Nn(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Nn(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Nn(o.data.length)}],r[2].push({data:bi(o.meta),type:2})});var s=bi(r);e.push(Nn(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),Cu(e)}function Iee(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Vm(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[t[0]],a>1&&(o|=e[t[0]+1]<<8),a>2&&(o|=e[t[0]+2]<<16),a>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=a}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(c=(e[t[0]++]>>2)+1,s==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Cu(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Cu(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Go(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Iee(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Cu(e)}function Wf(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Nn(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return Cu(e)}function Ow(n,e){var t=new Uint8Array(32),r=R2(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,kee(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function Fw(n,e){var t=new Uint8Array(32),r=R2(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Pc(n){var e=Jr(n);return Vm(e[1][0].data)}function Nee(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&Pd(n[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=R2(n[7][0].data),u=0,h=[],d=R2(n[4][0].data),f=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),d.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),d.setUint16(g*2,f,!0);var E,_;switch(typeof e[g]){case"string":E=Ow({t:"s",v:e[g]},t),_=Fw({t:"s",v:e[g]},t);break;case"number":E=Ow({t:"n",v:e[g]},t),_=Fw({t:"n",v:e[g]},t);break;case"boolean":E=Ow({t:"b",v:e[g]},t),_=Fw({t:"b",v:e[g]},t);break;default:throw new Error("Unsupported value "+e[g])}h.push(E),u+=E.length,v.push(_),f+=_.length,++l}for(n[2][0].data=Nn(l);g<n[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),d.setUint16(g*2,65535,!0);return n[6][0].data=Cu(h),n[3][0].data=Cu(v),l}function Pee(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ho(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat($r(r)));var s=L2(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(M){return M.forEach(function(j){typeof j=="string"&&o.push(j)})});var a={},l=[],c=qn.read(e.numbers,{type:"base64"});c.FileIndex.map(function(M,j){return[M,c.FullPaths[j]]}).forEach(function(M){var j=M[0],U=M[1];if(j.type==2&&j.name.match(/\.iwa/)){var Q=j.content,ie=Go(Q),ge=Yo(ie);ge.forEach(function(ve){l.push(ve.id),a[ve.id]={deps:[],location:U,type:Pd(ve.messages[0].meta[1][0].data)}})}}),l.sort(function(M,j){return M-j});var u=l.filter(function(M){return M>1}).map(function(M){return[M,Nn(M)]});c.FileIndex.map(function(M,j){return[M,c.FullPaths[j]]}).forEach(function(M){var j=M[0];if(M[1],!!j.name.match(/\.iwa/)){var U=Yo(Go(j.content));U.forEach(function(Q){Q.messages.forEach(function(ie){u.forEach(function(ge){Q.messages.some(function(ve){return Pd(ve.meta[1][0].data)!=11006&&Cee(ve.data,ge[1])})&&a[ge[0]].deps.push(Q.id)})})})}});for(var h=qn.find(c,a[1].location),d=Yo(Go(h.content)),f,v=0;v<d.length;++v){var g=d[v];g.id==1&&(f=g)}var E=Pc(Jr(f.messages[0].data)[1][0].data);for(h=qn.find(c,a[E].location),d=Yo(Go(h.content)),v=0;v<d.length;++v)g=d[v],g.id==E&&(f=g);for(E=Pc(Jr(f.messages[0].data)[2][0].data),h=qn.find(c,a[E].location),d=Yo(Go(h.content)),v=0;v<d.length;++v)g=d[v],g.id==E&&(f=g);for(E=Pc(Jr(f.messages[0].data)[2][0].data),h=qn.find(c,a[E].location),d=Yo(Go(h.content)),v=0;v<d.length;++v)g=d[v],g.id==E&&(f=g);var _=Jr(f.messages[0].data);{_[6][0].data=Nn(r.e.r+1),_[7][0].data=Nn(r.e.c+1);var w=Pc(_[46][0].data),x=qn.find(c,a[w].location),R=Yo(Go(x.content));{for(var B=0;B<R.length&&R[B].id!=w;++B);if(R[B].id!=w)throw"Bad ColumnRowUIDMapArchive";var V=Jr(R[B].messages[0].data);V[1]=[],V[2]=[],V[3]=[];for(var T=0;T<=r.e.c;++T){var b=[];b[1]=b[2]=[{type:0,data:Nn(T+420690)}],V[1].push({type:2,data:bi(b)}),V[2].push({type:0,data:Nn(T)}),V[3].push({type:0,data:Nn(T)})}V[4]=[],V[5]=[],V[6]=[];for(var I=0;I<=r.e.r;++I)b=[],b[1]=b[2]=[{type:0,data:Nn(I+726270)}],V[4].push({type:2,data:bi(b)}),V[5].push({type:0,data:Nn(I)}),V[6].push({type:0,data:Nn(I)});R[B].messages[0].data=bi(V)}x.content=Wf(Vf(R)),x.size=x.content.length,delete _[46];var L=Jr(_[4][0].data);{L[7][0].data=Nn(r.e.r+1);var A=Jr(L[1][0].data),C=Pc(A[2][0].data);x=qn.find(c,a[C].location),R=Yo(Go(x.content));{if(R[0].id!=C)throw"Bad HeaderStorageBucket";var D=Jr(R[0].messages[0].data);for(I=0;I<s.length;++I){var q=Jr(D[2][0].data);q[1][0].data=Nn(I),q[4][0].data=Nn(s[I].length),D[2][I]={type:D[2][0].type,data:bi(q)}}R[0].messages[0].data=bi(D)}x.content=Wf(Vf(R)),x.size=x.content.length;var he=Pc(L[2][0].data);x=qn.find(c,a[he].location),R=Yo(Go(x.content));{if(R[0].id!=he)throw"Bad HeaderStorageBucket";for(D=Jr(R[0].messages[0].data),T=0;T<=r.e.c;++T)q=Jr(D[2][0].data),q[1][0].data=Nn(T),q[4][0].data=Nn(r.e.r+1),D[2][T]={type:D[2][0].type,data:bi(q)};R[0].messages[0].data=bi(D)}x.content=Wf(Vf(R)),x.size=x.content.length;var ne=Pc(L[4][0].data);(function(){for(var M=qn.find(c,a[ne].location),j=Yo(Go(M.content)),U,Q=0;Q<j.length;++Q){var ie=j[Q];ie.id==ne&&(U=ie)}var ge=Jr(U.messages[0].data);{ge[3]=[];var ve=[];o.forEach(function(We,tt){ve[1]=[{type:0,data:Nn(tt)}],ve[2]=[{type:0,data:Nn(1)}],ve[3]=[{type:2,data:Aee(We)}],ge[3].push({type:2,data:bi(ve)})})}U.messages[0].data=bi(ge);var Ee=Vf(j),Me=Wf(Ee);M.content=Me,M.size=M.content.length})();var ee=Jr(L[3][0].data);{var K=ee[1][0];delete ee[2];var Z=Jr(K.data);{var me=Pc(Z[2][0].data);(function(){for(var M=qn.find(c,a[me].location),j=Yo(Go(M.content)),U,Q=0;Q<j.length;++Q){var ie=j[Q];ie.id==me&&(U=ie)}var ge=Jr(U.messages[0].data);{delete ge[6],delete ee[7];var ve=new Uint8Array(ge[5][0].data);ge[5]=[];for(var Ee=0,Me=0;Me<=r.e.r;++Me){var We=Jr(ve);Ee+=Nee(We,s[Me],o),We[1][0].data=Nn(Me),ge[5].push({data:bi(We),type:2})}ge[1]=[{type:0,data:Nn(r.e.c+1)}],ge[2]=[{type:0,data:Nn(r.e.r+1)}],ge[3]=[{type:0,data:Nn(Ee)}],ge[4]=[{type:0,data:Nn(r.e.r+1)}]}U.messages[0].data=bi(ge);var tt=Vf(j),at=Wf(tt);M.content=at,M.size=M.content.length})()}K.data=bi(Z)}L[3][0].data=bi(ee)}_[4][0].data=bi(L)}f.messages[0].data=bi(_);var Ae=Vf(d),N=Wf(Ae);return h.content=N,h.size=h.content.length,c}function Dee(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function ob(n){Dee([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Ree(n,e){return e.bookType=="ods"?hO(n,e):e.bookType=="numbers"?Pee(n,e):e.bookType=="xlsb"?Lee(n,e):Oee(n,e)}function Lee(n,e){dd=1024,n&&!n.SSF&&(n.SSF=Us(Ar)),n&&n.SSF&&(Zy(),Jy(n.SSF),e.revssf=e_(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,$0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=YL.indexOf(e.bookType)>-1,i=EL();ob(e=e||{});var s=zT(),o="",a=0;if(e.cellXfs=[],Uu(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Xt(s,o,AL(n.Props,e)),i.coreprops.push(o),Dn(e.rels,2,o,vn.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],c=0;c<n.SheetNames.length;++c)(n.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(n.SheetNames[c]);n.Props.SheetNames=l}for(n.Props.Worksheets=n.Props.SheetNames.length,Xt(s,o,kL(n.Props)),i.extprops.push(o),Dn(e.rels,3,o,vn.EXT_PROPS),n.Custprops!==n.Props&&Bi(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Xt(s,o,IL(n.Custprops)),i.custprops.push(o),Dn(e.rels,4,o,vn.CUST_PROPS)),a=1;a<=n.SheetNames.length;++a){var u={"!id":{}},h=n.Sheets[n.SheetNames[a-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,Xt(s,o,MZ(a-1,o,e,n,u)),i.sheets.push(o),Dn(e.wbrels,-1,"worksheets/sheet"+a+"."+t,vn.WS[0])}if(h){var f=h["!comments"],v=!1,g="";f&&f.length>0&&(g="xl/comments"+a+"."+t,Xt(s,g,UZ(f,g)),i.comments.push(g),Dn(u,-1,"../comments"+a+"."+t,vn.CMNT),v=!0),h["!legacy"]&&v&&Xt(s,"xl/drawings/vmlDrawing"+a+".vml",qL(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Xt(s,TL(o),Id(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Xt(s,o,jZ(e.Strings,o,e)),i.strs.push(o),Dn(e.wbrels,-1,"sharedStrings."+t,vn.SST)),o="xl/workbook."+t,Xt(s,o,FZ(n,o)),i.workbooks.push(o),Dn(e.rels,1,o,vn.WB),o="xl/theme/theme1.xml",Xt(s,o,HL(n.Themes,e)),i.themes.push(o),Dn(e.wbrels,-1,"theme/theme1.xml",vn.THEME),o="xl/styles."+t,Xt(s,o,BZ(n,o,e)),i.styles.push(o),Dn(e.wbrels,-1,"styles."+t,vn.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Xt(s,o,n.vbaraw),i.vba.push(o),Dn(e.wbrels,-1,"vbaProject.bin",vn.VBA)),o="xl/metadata."+t,Xt(s,o,VZ(o)),i.metadata.push(o),Dn(e.wbrels,-1,"metadata."+t,vn.XLMETA),Xt(s,"[Content_Types].xml",SL(i,e)),Xt(s,"_rels/.rels",Id(e.rels)),Xt(s,"xl/_rels/workbook."+t+".rels",Id(e.wbrels)),delete e.revssf,delete e.ssf,s}function Oee(n,e){dd=1024,n&&!n.SSF&&(n.SSF=Us(Ar)),n&&n.SSF&&(Zy(),Jy(n.SSF),e.revssf=e_(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,$0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=YL.indexOf(e.bookType)>-1,i=EL();ob(e=e||{});var s=zT(),o="",a=0;if(e.cellXfs=[],Uu(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Xt(s,o,AL(n.Props,e)),i.coreprops.push(o),Dn(e.rels,2,o,vn.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],c=0;c<n.SheetNames.length;++c)(n.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(n.SheetNames[c]);n.Props.SheetNames=l}n.Props.Worksheets=n.Props.SheetNames.length,Xt(s,o,kL(n.Props)),i.extprops.push(o),Dn(e.rels,3,o,vn.EXT_PROPS),n.Custprops!==n.Props&&Bi(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Xt(s,o,IL(n.Custprops)),i.custprops.push(o),Dn(e.rels,4,o,vn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,a=1;a<=n.SheetNames.length;++a){var h={"!id":{}},d=n.Sheets[n.SheetNames[a-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,Xt(s,o,nO(a-1,e,n,h)),i.sheets.push(o),Dn(e.wbrels,-1,"worksheets/sheet"+a+"."+t,vn.WS[0])}if(d){var v=d["!comments"],g=!1,E="";if(v&&v.length>0){var _=!1;v.forEach(function(w){w[1].forEach(function(x){x.T==!0&&(_=!0)})}),_&&(E="xl/threadedComments/threadedComment"+a+"."+t,Xt(s,E,fQ(v,u,e)),i.threadedcomments.push(E),Dn(h,-1,"../threadedComments/threadedComment"+a+"."+t,vn.TCMNT)),E="xl/comments"+a+"."+t,Xt(s,E,$L(v)),i.comments.push(E),Dn(h,-1,"../comments"+a+"."+t,vn.CMNT),g=!0}d["!legacy"]&&g&&Xt(s,"xl/drawings/vmlDrawing"+a+".vml",qL(a,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&Xt(s,TL(o),Id(h))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Xt(s,o,ML(e.Strings,e)),i.strs.push(o),Dn(e.wbrels,-1,"sharedStrings."+t,vn.SST)),o="xl/workbook."+t,Xt(s,o,sO(n)),i.workbooks.push(o),Dn(e.rels,1,o,vn.WB),o="xl/theme/theme1.xml",Xt(s,o,HL(n.Themes,e)),i.themes.push(o),Dn(e.wbrels,-1,"theme/theme1.xml",vn.THEME),o="xl/styles."+t,Xt(s,o,VL(n,e)),i.styles.push(o),Dn(e.wbrels,-1,"styles."+t,vn.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Xt(s,o,n.vbaraw),i.vba.push(o),Dn(e.wbrels,-1,"vbaProject.bin",vn.VBA)),o="xl/metadata."+t,Xt(s,o,zL()),i.metadata.push(o),Dn(e.wbrels,-1,"metadata."+t,vn.XLMETA),u.length>1&&(o="xl/persons/person.xml",Xt(s,o,dQ(u)),i.people.push(o),Dn(e.wbrels,-1,"persons/person.xml",vn.PEOPLE)),Xt(s,"[Content_Types].xml",SL(i,e)),Xt(s,"_rels/.rels",Id(e.rels)),Xt(s,"xl/_rels/workbook."+t+".rels",Id(e.wbrels)),delete e.revssf,delete e.ssf,s}function Fee(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Ql(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function fO(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return wg(e.file,qn.write(n,{type:En?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return qn.write(n,e)}function Mee(n,e){var t=Us(e||{}),r=Ree(n,t);return Bee(r,t)}function Bee(n,e){var t={},r=En?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?qn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Xy(i))}return e.password&&typeof encrypt_agile<"u"?fO(encrypt_agile(i,e.password),e):e.type==="file"?wg(e.file,i):e.type=="string"?W0(i):i}function jee(n,e){var t=e||{},r=tee(n,t);return fO(r,t)}function Ca(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Mm(jm(r));case"binary":return jm(r);case"string":return n;case"file":return wg(e.file,r,"utf8");case"buffer":return En?tc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ca(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Uee(n,e){switch(e.type){case"base64":return Mm(n);case"binary":return n;case"string":return n;case"file":return wg(e.file,n,"binary");case"buffer":return En?tc(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function I1(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Mm(t):e.type=="string"?W0(t):t;case"file":return wg(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function dO(n,e){pY(),bZ(n);var t=Us(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=dO(n,t);return t.type="array",Xy(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ca(ZZ(n,t),t);case"slk":case"sylk":return Ca(EK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Ca(lO(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Uee(pO(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Ca(ab(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Ca(SK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return I1(xK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Ca(TK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Ca(PK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Ca(FL.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Ca(hO(n,t),t);case"wk1":return I1(M3.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return I1(M3.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),I1(aO(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),jee(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Mee(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Vee(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function Wee(n,e,t){var r={};return r.type="file",r.file=e,Vee(r),dO(n,r)}function Hee(n,e,t,r,i,s,o,a){var l=Li(t),c=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:t,enumerable:!1})}catch{d.__rowNum__=t}else d.__rowNum__=t;if(!o||n[t])for(var f=e.s.c;f<=e.e.c;++f){var v=o?n[t][f]:n[r[f]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[f]!=null&&(d[s[f]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[f]!=null){if(g==null)if(v.t=="e"&&g===null)d[s[f]]=null;else if(c!==void 0)d[s[f]]=c;else if(u&&g===null)d[s[f]]=null;else continue;else d[s[f]]=u&&(v.t!=="n"||v.t==="n"&&a.rawNumbers!==!1)?g:Xl(v,g,a);g!=null&&(h=!1)}}return{row:d,isempty:h}}function L2(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:n["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=cr(u);break;case"number":l=cr(n["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var h=Li(l.s.r),d=[],f=[],v=0,g=0,E=Array.isArray(n),_=l.s.r,w=0,x={};E&&!n[_]&&(n[_]=[]);var R=c.skipHidden&&n["!cols"]||[],B=c.skipHidden&&n["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(R[w]||{}).hidden)switch(d[w]=Zi(w),t=E?n[_][w]:n[d[w]+h],r){case 1:s[w]=w-l.s.c;break;case 2:s[w]=d[w];break;case 3:s[w]=c.header[w-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),a=o=Xl(t,null,c),g=x[o]||0,!g)x[o]=1;else{do a=o+"_"+g++;while(x[a]);x[o]=g,x[a]=1}s[w]=a}for(_=l.s.r+i;_<=l.e.r;++_)if(!(B[_]||{}).hidden){var V=Hee(n,l,_,d,r,s,E,c);(V.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(f[v++]=V.row)}return f.length=v,f}var q3=/"/g;function zee(n,e,t,r,i,s,o,a){for(var l=!0,c=[],u="",h=Li(t),d=e.s.c;d<=e.e.c;++d)if(r[d]){var f=a.dense?(n[t]||[])[d]:n[r[d]+h];if(f==null)u="";else if(f.v!=null){l=!1,u=""+(a.rawNumbers&&f.t=="n"?f.v:Xl(f,null,a));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||a.forceQuotes){u='"'+u.replace(q3,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(l=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(q3,'""')+'"')):u="";c.push(u)}return a.blankrows===!1&&l?null:c.join(o)}function ab(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=cr(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",h=[];r.dense=Array.isArray(n);for(var d=r.skipHidden&&n["!cols"]||[],f=r.skipHidden&&n["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(d[v]||{}).hidden||(h[v]=Zi(v));for(var g=0,E=i.s.r;E<=i.e.r;++E)(f[E]||{}).hidden||(u=zee(n,i,E,h,o,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&t.push((g++?a:"")+u)));return delete r.dense,t.join("")}function pO(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=ab(n,e);return t}function qee(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=cr(n["!ref"]),s="",o=[],a,l=[],c=Array.isArray(n);for(a=i.s.c;a<=i.e.c;++a)o[a]=Zi(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=Li(u),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,t=c?(n[u]||[])[a]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}l[l.length]=e+"="+r}return l}function mO(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?fi(r.origin):r.origin;o=l.r,a=l.c}var c,u={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var h=cr(s["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+e.length-1+i)}else o==-1&&(o=0,u.e.r=e.length-1+i);var d=r.header||[],f=0;e.forEach(function(g,E){Bi(g).forEach(function(_){(f=d.indexOf(_))==-1&&(d[f=d.length]=_);var w=g[_],x="z",R="",B=jn({c:a+f,r:o+E+i});c=Wm(s,B),w&&typeof w=="object"&&!(w instanceof Date)?s[B]=w:(typeof w=="number"?x="n":typeof w=="boolean"?x="b":typeof w=="string"?x="s":w instanceof Date?(x="d",r.cellDates||(x="n",w=js(w)),R=r.dateNF||Ar[14]):w===null&&r.nullError&&(x="e",w=0),c?(c.t=x,c.v=w,delete c.w,delete c.R,R&&(c.z=R)):s[B]=c={t:x,v:w},R&&(c.z=R))})}),u.e.c=Math.max(u.e.c,a+d.length-1);var v=Li(o);if(i)for(f=0;f<d.length;++f)s[Zi(f+a)+v]={t:"s",v:d[f]};return s["!ref"]=$r(u),s}function $ee(n,e){return mO(null,n,e)}function Wm(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=fi(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Wm(n,jn(e)):Wm(n,jn({r:e,c:t||0}))}function Yee(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Gee(){return{SheetNames:[],Sheets:{}}}function Kee(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(iO(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Qee(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Yee(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Xee(n,e){return n.z=e,n}function gO(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Jee(n,e,t){return gO(n,"#"+e,t)}function Zee(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function ete(n,e,t,r){for(var i=typeof e!="string"?e:cr(e),s=typeof e=="string"?e:$r(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=Wm(n,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=t,r&&(l.D=!0))}return n}var Y0={encode_col:Zi,encode_row:Li,encode_cell:jn,encode_range:$r,decode_col:QT,decode_row:KT,split_cell:pG,decode_cell:fi,decode_range:ho,format_cell:Xl,sheet_add_aoa:gL,sheet_add_json:mO,sheet_add_dom:cO,aoa_to_sheet:xp,json_to_sheet:$ee,table_to_sheet:uO,table_to_book:See,sheet_to_csv:ab,sheet_to_txt:pO,sheet_to_json:L2,sheet_to_html:lO,sheet_to_formulae:qee,sheet_to_row_object_array:L2,sheet_get_cell:Wm,book_new:Gee,book_append_sheet:Kee,book_set_sheet_visibility:Qee,cell_set_number_format:Xee,cell_set_hyperlink:gO,cell_set_internal_link:Jee,cell_add_comment:Zee,sheet_set_array_formula:ete,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const tte="modulepreload",nte=function(n){return"/"+n},$3={},U5=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=nte(l),l in $3)return;$3[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":tte,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Fn(n){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(n)}var Xi=Uint8Array,so=Uint16Array,lb=Int32Array,s_=new Xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o_=new Xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),V5=new Xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vO=function(n,e){for(var t=new so(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new lb(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},yO=vO(s_,2),_O=yO.b,W5=yO.r;_O[28]=258,W5[258]=28;var wO=vO(o_,0),rte=wO.b,Y3=wO.r,H5=new so(32768);for(var sr=0;sr<32768;++sr){var Dc=(sr&43690)>>1|(sr&21845)<<1;Dc=(Dc&52428)>>2|(Dc&13107)<<2,Dc=(Dc&61680)>>4|(Dc&3855)<<4,H5[sr]=((Dc&65280)>>8|(Dc&255)<<8)>>1}var za=function(n,e,t){for(var r=n.length,i=0,s=new so(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new so(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new so(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[H5[h]>>l]=c}else for(a=new so(r),i=0;i<r;++i)n[i]&&(a[i]=H5[o[n[i]-1]++]>>15-n[i]);return a},ku=new Xi(288);for(var sr=0;sr<144;++sr)ku[sr]=8;for(var sr=144;sr<256;++sr)ku[sr]=9;for(var sr=256;sr<280;++sr)ku[sr]=7;for(var sr=280;sr<288;++sr)ku[sr]=8;var Hm=new Xi(32);for(var sr=0;sr<32;++sr)Hm[sr]=5;var ite=za(ku,9,0),ste=za(ku,9,1),ote=za(Hm,5,0),ate=za(Hm,5,1),Mw=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ko=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},Bw=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},cb=function(n){return(n+7)/8|0},xO=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Xi(n.subarray(e,t))},lte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jo=function(n,e,t){var r=new Error(e||lte[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Jo),!t)throw r;return r},cte=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new Xi(0);var o=!t,a=o||e.i!=2,l=e.i;o&&(t=new Xi(i*3));var c=function(Me){var We=t.length;if(Me>We){var tt=new Xi(Math.max(We*2,Me));tt.set(t),t=tt}},u=e.f||0,h=e.p||0,d=e.b||0,f=e.l,v=e.d,g=e.m,E=e.n,_=i*8;do{if(!f){u=Ko(n,h,1);var w=Ko(n,h+1,3);if(h+=3,w)if(w==1)f=ste,v=ate,g=9,E=5;else if(w==2){var V=Ko(n,h,31)+257,T=Ko(n,h+10,15)+4,b=V+Ko(n,h+5,31)+1;h+=14;for(var I=new Xi(b),L=new Xi(19),A=0;A<T;++A)L[V5[A]]=Ko(n,h+A*3,7);h+=T*3;for(var C=Mw(L),D=(1<<C)-1,q=za(L,C,1),A=0;A<b;){var he=q[Ko(n,h,D)];h+=he&15;var x=he>>4;if(x<16)I[A++]=x;else{var ne=0,ee=0;for(x==16?(ee=3+Ko(n,h,3),h+=2,ne=I[A-1]):x==17?(ee=3+Ko(n,h,7),h+=3):x==18&&(ee=11+Ko(n,h,127),h+=7);ee--;)I[A++]=ne}}var K=I.subarray(0,V),Z=I.subarray(V);g=Mw(K),E=Mw(Z),f=za(K,g,1),v=za(Z,E,1)}else Jo(1);else{var x=cb(h)+4,R=n[x-4]|n[x-3]<<8,B=x+R;if(B>i){l&&Jo(0);break}a&&c(d+R),t.set(n.subarray(x,B),d),e.b=d+=R,e.p=h=B*8,e.f=u;continue}if(h>_){l&&Jo(0);break}}a&&c(d+131072);for(var me=(1<<g)-1,Ae=(1<<E)-1,N=h;;N=h){var ne=f[Bw(n,h)&me],M=ne>>4;if(h+=ne&15,h>_){l&&Jo(0);break}if(ne||Jo(2),M<256)t[d++]=M;else if(M==256){N=h,f=null;break}else{var j=M-254;if(M>264){var A=M-257,U=s_[A];j=Ko(n,h,(1<<U)-1)+_O[A],h+=U}var Q=v[Bw(n,h)&Ae],ie=Q>>4;Q||Jo(3),h+=Q&15;var Z=rte[ie];if(ie>3){var U=o_[ie];Z+=Bw(n,h)&(1<<U)-1,h+=U}if(h>_){l&&Jo(0);break}a&&c(d+131072);var ge=d+j;if(d<Z){var ve=s-Z,Ee=Math.min(Z,ge);for(ve+d<0&&Jo(3);d<Ee;++d)t[d]=r[ve+d]}for(;d<ge;++d)t[d]=t[d-Z]}}e.l=f,e.p=N,e.b=d,e.f=u,f&&(u=1,e.m=g,e.d=v,e.n=E)}while(!u);return d!=t.length&&o?xO(t,0,d):t.subarray(0,d)},yl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},r0=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},jw=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:SO,l:0};if(i==1){var o=new Xi(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(B,V){return B.f-V.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new so(d+1),v=z5(t[u-1],f,0);if(v>e){var r=0,g=0,E=v-e,_=1<<E;for(s.sort(function(V,T){return f[T.s]-f[V.s]||V.f-T.f});r<i;++r){var w=s[r].s;if(f[w]>e)g+=_-(1<<v-f[w]),f[w]=e;else break}for(g>>=E;g>0;){var x=s[r].s;f[x]<e?g-=1<<e-f[x]++-1:++r}for(;r>=0&&g;--r){var R=s[r].s;f[R]==e&&(--f[R],++g)}v=e}return{t:new Xi(f),l:v}},z5=function(n,e,t){return n.s==-1?Math.max(z5(n.l,e,t+1),z5(n.r,e,t+1)):e[n.s]=t},G3=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new so(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},i0=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},EO=function(n,e,t){var r=t.length,i=cb(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},K3=function(n,e,t,r,i,s,o,a,l,c,u){yl(e,u++,t),++i[256];for(var h=jw(i,15),d=h.t,f=h.l,v=jw(s,15),g=v.t,E=v.l,_=G3(d),w=_.c,x=_.n,R=G3(g),B=R.c,V=R.n,T=new so(19),b=0;b<w.length;++b)++T[w[b]&31];for(var b=0;b<B.length;++b)++T[B[b]&31];for(var I=jw(T,7),L=I.t,A=I.l,C=19;C>4&&!L[V5[C-1]];--C);var D=c+5<<3,q=i0(i,ku)+i0(s,Hm)+o,he=i0(i,d)+i0(s,g)+o+14+3*C+i0(T,L)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&D<=q&&D<=he)return EO(e,u,n.subarray(l,l+c));var ne,ee,K,Z;if(yl(e,u,1+(he<q)),u+=2,he<q){ne=za(d,f,0),ee=d,K=za(g,E,0),Z=g;var me=za(L,A,0);yl(e,u,x-257),yl(e,u+5,V-1),yl(e,u+10,C-4),u+=14;for(var b=0;b<C;++b)yl(e,u+3*b,L[V5[b]]);u+=3*C;for(var Ae=[w,B],N=0;N<2;++N)for(var M=Ae[N],b=0;b<M.length;++b){var j=M[b]&31;yl(e,u,me[j]),u+=L[j],j>15&&(yl(e,u,M[b]>>5&127),u+=M[b]>>12)}}else ne=ite,ee=ku,K=ote,Z=Hm;for(var b=0;b<a;++b){var U=r[b];if(U>255){var j=U>>18&31;r0(e,u,ne[j+257]),u+=ee[j+257],j>7&&(yl(e,u,U>>23&31),u+=s_[j]);var Q=U&31;r0(e,u,K[Q]),u+=Z[Q],Q>3&&(r0(e,u,U>>5&8191),u+=o_[Q])}else r0(e,u,ne[U]),u+=ee[U]}return r0(e,u,ne[256]),u+ee[256]},ute=new lb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SO=new Xi(0),hte=function(n,e,t,r,i,s){var o=s.z||n.length,a=new Xi(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=ute[e-1],d=h>>13,f=h&8191,v=(1<<t)-1,g=s.p||new so(32768),E=s.h||new so(v+1),_=Math.ceil(t/3),w=2*_,x=function(at){return(n[at]^n[at+1]<<_^n[at+2]<<w)&v},R=new lb(25e3),B=new so(288),V=new so(32),T=0,b=0,I=s.i||0,L=0,A=s.w||0,C=0;I+2<o;++I){var D=x(I),q=I&32767,he=E[D];if(g[q]=he,E[D]=q,A<=I){var ne=o-I;if((T>7e3||L>24576)&&(ne>423||!c)){u=K3(n,l,0,R,B,V,b,L,C,I-C,u),L=T=b=0,C=I;for(var ee=0;ee<286;++ee)B[ee]=0;for(var ee=0;ee<30;++ee)V[ee]=0}var K=2,Z=0,me=f,Ae=q-he&32767;if(ne>2&&D==x(I-Ae))for(var N=Math.min(d,ne)-1,M=Math.min(32767,I),j=Math.min(258,ne);Ae<=M&&--me&&q!=he;){if(n[I+K]==n[I+K-Ae]){for(var U=0;U<j&&n[I+U]==n[I+U-Ae];++U);if(U>K){if(K=U,Z=Ae,U>N)break;for(var Q=Math.min(Ae,U-2),ie=0,ee=0;ee<Q;++ee){var ge=I-Ae+ee&32767,ve=g[ge],Ee=ge-ve&32767;Ee>ie&&(ie=Ee,he=ge)}}}q=he,he=g[q],Ae+=q-he&32767}if(Z){R[L++]=268435456|W5[K]<<18|Y3[Z];var Me=W5[K]&31,We=Y3[Z]&31;b+=s_[Me]+o_[We],++B[257+Me],++V[We],A=I+K,++T}else R[L++]=n[I],++B[n[I]]}}for(I=Math.max(I,A);I<o;++I)R[L++]=n[I],++B[n[I]];u=K3(n,l,c,R,B,V,b,L,C,I-C,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=E,s.p=g,s.i=I,s.w=A)}else{for(var I=s.w||0;I<o+c;I+=65535){var tt=I+65535;tt>=o&&(l[u/8|0]=c,tt=o),u=EO(l,u+1,n.subarray(I,tt))}s.i=o}return xO(a,0,r+cb(u)+i)},TO=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},fte=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Xi(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return hte(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},bO=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},dte=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=TO();i.p(e.dictionary),bO(n,2,i.d())}},pte=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Jo(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Jo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function q5(n,e){e||(e={});var t=TO();t.p(n);var r=fte(n,e,e.dictionary?6:2,4);return dte(r,e),bO(r,r.length-4,t.d()),r}function mte(n,e){return cte(n.subarray(pte(n,e),-4),{i:2},e,e)}var gte=typeof TextDecoder<"u"&&new TextDecoder,vte=0;try{gte.decode(SO,{stream:!0}),vte=1}catch{}var Bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Uw(){Bt.console&&typeof Bt.console.log=="function"&&Bt.console.log.apply(Bt.console,arguments)}var Gn={log:Uw,warn:function(n){Bt.console&&(typeof Bt.console.warn=="function"?Bt.console.warn.apply(Bt.console,arguments):Uw.call(null,arguments))},error:function(n){Bt.console&&(typeof Bt.console.error=="function"?Bt.console.error.apply(Bt.console,arguments):Uw(n))}};function Vw(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){uh(r.response,e,t)},r.onerror=function(){Gn.error("could not download file")},r.send()}function Q3(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function N1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var G0,$5,uh=Bt.saveAs||((typeof window>"u"?"undefined":Fn(window))!=="object"||window!==Bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Bt.URL||Bt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Q3(i.href)?Vw(n,e,t):N1(i,i.target="_blank"):N1(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){N1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Q3(n))Vw(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){N1(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Fn(s)!=="object"&&(Gn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Vw(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Bt.HTMLElement)||Bt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Fn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Bt.URL||Bt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function AO(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ww(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=zi(t,r,i,s,e[0],7,-680876936),s=zi(s,t,r,i,e[1],12,-389564586),i=zi(i,s,t,r,e[2],17,606105819),r=zi(r,i,s,t,e[3],22,-1044525330),t=zi(t,r,i,s,e[4],7,-176418897),s=zi(s,t,r,i,e[5],12,1200080426),i=zi(i,s,t,r,e[6],17,-1473231341),r=zi(r,i,s,t,e[7],22,-45705983),t=zi(t,r,i,s,e[8],7,1770035416),s=zi(s,t,r,i,e[9],12,-1958414417),i=zi(i,s,t,r,e[10],17,-42063),r=zi(r,i,s,t,e[11],22,-1990404162),t=zi(t,r,i,s,e[12],7,1804603682),s=zi(s,t,r,i,e[13],12,-40341101),i=zi(i,s,t,r,e[14],17,-1502002290),t=qi(t,r=zi(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=qi(s,t,r,i,e[6],9,-1069501632),i=qi(i,s,t,r,e[11],14,643717713),r=qi(r,i,s,t,e[0],20,-373897302),t=qi(t,r,i,s,e[5],5,-701558691),s=qi(s,t,r,i,e[10],9,38016083),i=qi(i,s,t,r,e[15],14,-660478335),r=qi(r,i,s,t,e[4],20,-405537848),t=qi(t,r,i,s,e[9],5,568446438),s=qi(s,t,r,i,e[14],9,-1019803690),i=qi(i,s,t,r,e[3],14,-187363961),r=qi(r,i,s,t,e[8],20,1163531501),t=qi(t,r,i,s,e[13],5,-1444681467),s=qi(s,t,r,i,e[2],9,-51403784),i=qi(i,s,t,r,e[7],14,1735328473),t=$i(t,r=qi(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=$i(s,t,r,i,e[8],11,-2022574463),i=$i(i,s,t,r,e[11],16,1839030562),r=$i(r,i,s,t,e[14],23,-35309556),t=$i(t,r,i,s,e[1],4,-1530992060),s=$i(s,t,r,i,e[4],11,1272893353),i=$i(i,s,t,r,e[7],16,-155497632),r=$i(r,i,s,t,e[10],23,-1094730640),t=$i(t,r,i,s,e[13],4,681279174),s=$i(s,t,r,i,e[0],11,-358537222),i=$i(i,s,t,r,e[3],16,-722521979),r=$i(r,i,s,t,e[6],23,76029189),t=$i(t,r,i,s,e[9],4,-640364487),s=$i(s,t,r,i,e[12],11,-421815835),i=$i(i,s,t,r,e[15],16,530742520),t=Yi(t,r=$i(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Yi(s,t,r,i,e[7],10,1126891415),i=Yi(i,s,t,r,e[14],15,-1416354905),r=Yi(r,i,s,t,e[5],21,-57434055),t=Yi(t,r,i,s,e[12],6,1700485571),s=Yi(s,t,r,i,e[3],10,-1894986606),i=Yi(i,s,t,r,e[10],15,-1051523),r=Yi(r,i,s,t,e[1],21,-2054922799),t=Yi(t,r,i,s,e[8],6,1873313359),s=Yi(s,t,r,i,e[15],10,-30611744),i=Yi(i,s,t,r,e[6],15,-1560198380),r=Yi(r,i,s,t,e[13],21,1309151649),t=Yi(t,r,i,s,e[4],6,-145523070),s=Yi(s,t,r,i,e[11],10,-1120210379),i=Yi(i,s,t,r,e[2],15,718787259),r=Yi(r,i,s,t,e[9],21,-343485551),n[0]=Qc(t,n[0]),n[1]=Qc(r,n[1]),n[2]=Qc(i,n[2]),n[3]=Qc(s,n[3])}function a_(n,e,t,r,i,s){return e=Qc(Qc(e,n),Qc(r,s)),Qc(e<<i|e>>>32-i,t)}function zi(n,e,t,r,i,s,o){return a_(e&t|~e&r,n,e,i,s,o)}function qi(n,e,t,r,i,s,o){return a_(e&r|t&~r,n,e,i,s,o)}function $i(n,e,t,r,i,s,o){return a_(e^t^r,n,e,i,s,o)}function Yi(n,e,t,r,i,s,o){return a_(t^(e|~r),n,e,i,s,o)}function CO(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Ww(r,yte(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ww(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Ww(r,i),r}function yte(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}G0=Bt.atob.bind(Bt),$5=Bt.btoa.bind(Bt);var X3="0123456789abcdef".split("");function _te(n){for(var e="",t=0;t<4;t++)e+=X3[n>>8*t+4&15]+X3[n>>8*t&15];return e}function wte(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Y5(n){return CO(n).map(wte).join("")}var xte=function(n){for(var e=0;e<n.length;e++)n[e]=_te(n[e]);return n.join("")}(CO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qc(n,e){if(xte){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G5(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,d=0,f=0,v="";for(l=0;l<h;l++)f=(f+(u=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=u,o=a[(a[d]+a[f])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var J3={print:4,modify:8,copy:16,"annot-forms":32};function Qf(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(J3.perm!==void 0)throw new Error("Invalid permission: "+a);i+=J3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Y5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=G5(this.encryptionKey,this.padding)}function Xf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function Z3(n){if(Fn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Bt.console&&Gn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function zm(n){if(!(this instanceof zm))return new zm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function kO(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function zc(n,e,t,r,i){if(!(this instanceof zc))return new zc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,kO.call(this,r,i)}function wh(n,e,t,r,i){if(!(this instanceof wh))return new wh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,kO.call(this,r,i)}function Ot(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Fn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=Z3;var v="1.3",g=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(S){v=S};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return E};var _=f.__private__.getPageFormat=function(S){return E[S]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},x=w.COMPAT;function R(){this.saveGraphicsState(),pe(new xt(mt,0,0,-mt,0,Ui()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),c="n",x=w.ADVANCED}function B(){this.restoreGraphicsState(),c="S",x=w.COMPAT}var V=f.__private__.combineFontStyleAndFontWeight=function(S,W){if(S=="bold"&&W=="normal"||S=="bold"&&W==400||S=="normal"&&W=="italic"||S=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(S=W==400||W==="normal"?S==="italic"?"italic":"normal":W!=700&&W!=="bold"||S!=="normal"?(W==700?"bold":W)+""+S:"bold"),S};f.advancedAPI=function(S){var W=x===w.COMPAT;return W&&R.call(this),typeof S!="function"||(S(this),W&&B.call(this)),this},f.compatAPI=function(S){var W=x===w.ADVANCED;return W&&B.call(this),typeof S!="function"||(S(this),W&&R.call(this)),this},f.isAdvancedAPI=function(){return x===w.ADVANCED};var T,b=function(S){if(x!==w.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=f.roundToPrecision=f.__private__.roundToPrecision=function(S,W){var fe=e||W;if(isNaN(S)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(fe).replace(/0+$/,"")};T=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return I(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return I(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return I(S,16)};var L=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return I(S,2)},A=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return I(S,3)},C=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return x===w.COMPAT?S*mt:x===w.ADVANCED?S:void 0},D=function(S){return x===w.COMPAT?Ui()-S:x===w.ADVANCED?S:void 0},q=function(S){return C(D(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var he,ne="00000000000000000000000000000000",ee=f.__private__.getFileId=function(){return ne},K=f.__private__.setFileId=function(S){return ne=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(nr=new Qf(u.userPermissions,u.userPassword,u.ownerPassword,ne)),ne};f.setFileId=function(S){return K(S),this},f.getFileId=function(){return ee()};var Z=f.__private__.convertDateToPDFDate=function(S){var W=S.getTimezoneOffset(),fe=W<0?"+":"-",ye=Math.floor(Math.abs(W/60)),Te=Math.abs(W%60),Ue=[fe,j(ye),"'",j(Te),"'"].join("");return["D:",S.getFullYear(),j(S.getMonth()+1),j(S.getDate()),j(S.getHours()),j(S.getMinutes()),j(S.getSeconds()),Ue].join("")},me=f.__private__.convertPDFDateToDate=function(S){var W=parseInt(S.substr(2,4),10),fe=parseInt(S.substr(6,2),10)-1,ye=parseInt(S.substr(8,2),10),Te=parseInt(S.substr(10,2),10),Ue=parseInt(S.substr(12,2),10),Je=parseInt(S.substr(14,2),10);return new Date(W,fe,ye,Te,Ue,Je,0)},Ae=f.__private__.setCreationDate=function(S){var W;if(S===void 0&&(S=new Date),S instanceof Date)W=Z(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=S}return he=W},N=f.__private__.getCreationDate=function(S){var W=he;return S==="jsDate"&&(W=me(he)),W};f.setCreationDate=function(S){return Ae(S),this},f.getCreationDate=function(S){return N(S)};var M,j=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},U=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},Q=0,ie=[],ge=[],ve=0,Ee=[],Me=[],We=!1,tt=ge,at=function(){Q=0,ve=0,ge=[],ie=[],Ee=[],re=ur(),se=ur()};f.__private__.setCustomOutputDestination=function(S){We=!0,tt=S};var Fe=function(S){We||(tt=S)};f.__private__.resetCustomOutputDestination=function(){We=!1,tt=ge};var pe=f.__private__.out=function(S){return S=S.toString(),ve+=S.length+1,tt.push(S),tt},Ye=f.__private__.write=function(S){return pe(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},_t=f.__private__.getArrayBuffer=function(S){for(var W=S.length,fe=new ArrayBuffer(W),ye=new Uint8Array(fe);W--;)ye[W]=S.charCodeAt(W);return fe},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ke};var it=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return it=x===w.ADVANCED?S/mt:S,this};var ut,ht=f.__private__.getFontSize=f.getFontSize=function(){return x===w.COMPAT?it:it*mt},At=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return At=S,this},f.__private__.getR2L=f.getR2L=function(){return At};var kt,Mt=f.__private__.setZoomMode=function(S){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))ut=S;else if(isNaN(S)){if(W.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');ut=S}else ut=parseInt(S,10)};f.__private__.getZoomMode=function(){return ut};var It,Dt=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');kt=S};f.__private__.getPageMode=function(){return kt};var Qt=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');It=S};f.__private__.getLayoutMode=function(){return It},f.__private__.setDisplayMode=f.setDisplayMode=function(S,W,fe){return Mt(S),Qt(W),Dt(fe),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(Rt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[S]},f.__private__.getDocumentProperties=function(){return Rt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var W in Rt)Rt.hasOwnProperty(W)&&S[W]&&(Rt[W]=S[W]);return this},f.__private__.setDocumentProperty=function(S,W){if(Object.keys(Rt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[S]=W};var Gt,mt,er,Zt,_i,hn={},Vn={},xs=[],rn={},Ws={},Wn={},Kr={},is=null,_n=0,Pt=[],un=new Z3(f),Es=n.hotfixes||[],_r={},ri={},ss=[],xt=function S(W,fe,ye,Te,Ue,Je){if(!(this instanceof S))return new S(W,fe,ye,Te,Ue,Je);isNaN(W)&&(W=1),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=0),isNaN(Te)&&(Te=1),isNaN(Ue)&&(Ue=0),isNaN(Je)&&(Je=0),this._matrix=[W,fe,ye,Te,Ue,Je]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(S)},xt.prototype.multiply=function(S){var W=S.sx*this.sx+S.shy*this.shx,fe=S.sx*this.shy+S.shy*this.sy,ye=S.shx*this.sx+S.sy*this.shx,Te=S.shx*this.shy+S.sy*this.sy,Ue=S.tx*this.sx+S.ty*this.shx+this.tx,Je=S.tx*this.shy+S.ty*this.sy+this.ty;return new xt(W,fe,ye,Te,Ue,Je)},xt.prototype.decompose=function(){var S=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Te=this.tx,Ue=this.ty,Je=Math.sqrt(S*S+W*W),pt=(S/=Je)*fe+(W/=Je)*ye;fe-=S*pt,ye-=W*pt;var m=Math.sqrt(fe*fe+ye*ye);return pt/=m,S*(ye/=m)<W*(fe/=m)&&(S=-S,W=-W,pt=-pt,Je=-Je),{scale:new xt(Je,0,0,m,0,0),translate:new xt(1,0,0,1,Te,Ue),rotate:new xt(S,W,-W,S,0,0),skew:new xt(1,0,pt,1,0,0)}},xt.prototype.toString=function(S){return this.join(" ")},xt.prototype.inversed=function(){var S=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Te=this.tx,Ue=this.ty,Je=1/(S*ye-W*fe),pt=ye*Je,m=-W*Je,P=-fe*Je,F=S*Je;return new xt(pt,m,P,F,-pt*Te-P*Ue,-m*Te-F*Ue)},xt.prototype.applyToPoint=function(S){var W=S.x*this.sx+S.y*this.shx+this.tx,fe=S.x*this.shy+S.y*this.sy+this.ty;return new cl(W,fe)},xt.prototype.applyToRectangle=function(S){var W=this.applyToPoint(S),fe=this.applyToPoint(new cl(S.x+S.w,S.y+S.h));return new pc(W.x,W.y,fe.x-W.x,fe.y-W.y)},xt.prototype.clone=function(){var S=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Te=this.tx,Ue=this.ty;return new xt(S,W,fe,ye,Te,Ue)},f.Matrix=xt;var ji=f.matrixMult=function(S,W){return W.multiply(S)},Br=new xt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Br;var wr=function(S,W){if(!Ws[S]){var fe=(W instanceof zc?"Sh":"P")+(Object.keys(rn).length+1).toString(10);W.id=fe,Ws[S]=fe,rn[fe]=W,un.publish("addPattern",W)}};f.ShadingPattern=zc,f.TilingPattern=wh,f.addShadingPattern=function(S,W){return b("addShadingPattern()"),wr(S,W),this},f.beginTilingPattern=function(S){b("beginTilingPattern()"),mc(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,W){b("endTilingPattern()"),W.stream=Me[M].join(`
`),wr(S,W),un.publish("endTilingPattern",W),ss.pop().restore()};var dr=f.__private__.newObject=function(){var S=ur();return z(S,!0),S},ur=f.__private__.newObjectDeferred=function(){return Q++,ie[Q]=function(){return ve},Q},z=function(S,W){return W=typeof W=="boolean"&&W,ie[S]=ve,W&&pe(S+" 0 obj"),S},ce=f.__private__.newAdditionalObject=function(){var S={objId:ur(),content:""};return Ee.push(S),S},re=ur(),se=ur(),le=f.__private__.decodeColorString=function(S){var W=S.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var fe=parseFloat(W[0]);W=[fe,fe,fe,"r"]}for(var ye="#",Te=0;Te<3;Te++)ye+=("0"+Math.floor(255*parseFloat(W[Te])).toString(16)).slice(-2);return ye},ue=f.__private__.encodeColorString=function(S){var W;typeof S=="string"&&(S={ch1:S});var fe=S.ch1,ye=S.ch2,Te=S.ch3,Ue=S.ch4,Je=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var pt=new AO(fe);if(pt.ok)fe=pt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var m=parseInt(fe.substr(1),16);fe=m>>16&255,ye=m>>8&255,Te=255&m}if(ye===void 0||Ue===void 0&&fe===ye&&ye===Te)if(typeof fe=="string")W=fe+" "+Je[0];else switch(S.precision){case 2:W=L(fe/255)+" "+Je[0];break;case 3:default:W=A(fe/255)+" "+Je[0]}else if(Ue===void 0||Fn(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return W=["1.","1.","1.",Je[1]].join(" ");if(typeof fe=="string")W=[fe,ye,Te,Je[1]].join(" ");else switch(S.precision){case 2:W=[L(fe/255),L(ye/255),L(Te/255),Je[1]].join(" ");break;default:case 3:W=[A(fe/255),A(ye/255),A(Te/255),Je[1]].join(" ")}}else if(typeof fe=="string")W=[fe,ye,Te,Ue,Je[2]].join(" ");else switch(S.precision){case 2:W=[L(fe),L(ye),L(Te),L(Ue),Je[2]].join(" ");break;case 3:default:W=[A(fe),A(ye),A(Te),A(Ue),Je[2]].join(" ")}return W},Ce=f.__private__.getFilters=function(){return o},Oe=f.__private__.putStream=function(S){var W=(S=S||{}).data||"",fe=S.filters||Ce(),ye=S.alreadyAppliedFilters||[],Te=S.addLength1||!1,Ue=W.length,Je=S.objectId,pt=function(Ht){return Ht};if(u!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(pt=nr.encryptor(Je,0));var m={};fe===!0&&(fe=["FlateEncode"]);var P=S.additionalKeyValues||[],F=(m=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(W,fe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(m.data.length!==0&&(P.push({key:"Length",value:m.data.length}),Te===!0&&P.push({key:"Length1",value:Ue})),F.length!=0)if(F.split("/").length-1==1)P.push({key:"Filter",value:F});else{P.push({key:"Filter",value:"["+F+"]"});for(var X=0;X<P.length;X+=1)if(P[X].key==="DecodeParms"){for(var Se=[],De=0;De<m.reverseChain.split("/").length-1;De+=1)Se.push("null");Se.push(P[X].value),P[X].value="["+Se.join(" ")+"]"}}pe("<<");for(var Ze=0;Ze<P.length;Ze++)pe("/"+P[Ze].key+" "+P[Ze].value);pe(">>"),m.data.length!==0&&(pe("stream"),pe(pt(m.data)),pe("endstream"))},ke=f.__private__.putPage=function(S){var W=S.number,fe=S.data,ye=S.objId,Te=S.contentsObjId;z(ye,!0),pe("<</Type /Page"),pe("/Parent "+S.rootDictionaryObjId+" 0 R"),pe("/Resources "+S.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(T(S.mediaBox.bottomLeftX))+" "+parseFloat(T(S.mediaBox.bottomLeftY))+" "+T(S.mediaBox.topRightX)+" "+T(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&pe("/CropBox ["+T(S.cropBox.bottomLeftX)+" "+T(S.cropBox.bottomLeftY)+" "+T(S.cropBox.topRightX)+" "+T(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&pe("/BleedBox ["+T(S.bleedBox.bottomLeftX)+" "+T(S.bleedBox.bottomLeftY)+" "+T(S.bleedBox.topRightX)+" "+T(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&pe("/TrimBox ["+T(S.trimBox.bottomLeftX)+" "+T(S.trimBox.bottomLeftY)+" "+T(S.trimBox.topRightX)+" "+T(S.trimBox.topRightY)+"]"),S.artBox!==null&&pe("/ArtBox ["+T(S.artBox.bottomLeftX)+" "+T(S.artBox.bottomLeftY)+" "+T(S.artBox.topRightX)+" "+T(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&pe("/UserUnit "+S.userUnit),un.publish("putPage",{objId:ye,pageContext:Pt[W],pageNumber:W,page:fe}),pe("/Contents "+Te+" 0 R"),pe(">>"),pe("endobj");var Ue=fe.join(`
`);return x===w.ADVANCED&&(Ue+=`
Q`),z(Te,!0),Oe({data:Ue,filters:Ce(),objectId:Te}),pe("endobj"),ye},Ie=f.__private__.putPages=function(){var S,W,fe=[];for(S=1;S<=_n;S++)Pt[S].objId=ur(),Pt[S].contentsObjId=ur();for(S=1;S<=_n;S++)fe.push(ke({number:S,data:Me[S],objId:Pt[S].objId,contentsObjId:Pt[S].contentsObjId,mediaBox:Pt[S].mediaBox,cropBox:Pt[S].cropBox,bleedBox:Pt[S].bleedBox,trimBox:Pt[S].trimBox,artBox:Pt[S].artBox,userUnit:Pt[S].userUnit,rootDictionaryObjId:re,resourceDictionaryObjId:se}));z(re,!0),pe("<</Type /Pages");var ye="/Kids [";for(W=0;W<_n;W++)ye+=fe[W]+" 0 R ";pe(ye+"]"),pe("/Count "+_n),pe(">>"),pe("endobj"),un.publish("postPutPages")},Re=function(S){un.publish("putFont",{font:S,out:pe,newObject:dr,putStream:Oe}),S.isAlreadyPutted!==!0&&(S.objectNumber=dr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Xf(S.postScriptName)),pe("/Subtype /Type1"),typeof S.encoding=="string"&&pe("/Encoding /"+S.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},Xe=function(){for(var S in hn)hn.hasOwnProperty(S)&&(h===!1||h===!0&&d.hasOwnProperty(S))&&Re(hn[S])},st=function(S){S.objectNumber=dr();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[T(S.x),T(S.y),T(S.x+S.width),T(S.y+S.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var fe=S.pages[1].join(`
`);Oe({data:fe,additionalKeyValues:W,objectId:S.objectNumber}),pe("endobj")},gt=function(){for(var S in _r)_r.hasOwnProperty(S)&&st(_r[S])},nt=function(S,W){var fe,ye=[],Te=1/(W-1);for(fe=0;fe<1;fe+=Te)ye.push(fe);if(ye.push(1),S[0].offset!=0){var Ue={offset:0,color:S[0].color};S.unshift(Ue)}if(S[S.length-1].offset!=1){var Je={offset:1,color:S[S.length-1].color};S.push(Je)}for(var pt="",m=0,P=0;P<ye.length;P++){for(fe=ye[P];fe>S[m+1].offset;)m++;var F=S[m].offset,X=(fe-F)/(S[m+1].offset-F),Se=S[m].color,De=S[m+1].color;pt+=U(Math.round((1-X)*Se[0]+X*De[0]).toString(16))+U(Math.round((1-X)*Se[1]+X*De[1]).toString(16))+U(Math.round((1-X)*Se[2]+X*De[2]).toString(16))}return pt.trim()},ft=function(S,W){W||(W=21);var fe=dr(),ye=nt(S.colors,W),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+W+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe({data:ye,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),pe("endobj"),S.objectNumber=dr(),pe("<< /ShadingType "+S.type),pe("/ColorSpace /DeviceRGB");var Ue="/Coords ["+T(parseFloat(S.coords[0]))+" "+T(parseFloat(S.coords[1]))+" ";S.type===2?Ue+=T(parseFloat(S.coords[2]))+" "+T(parseFloat(S.coords[3])):Ue+=T(parseFloat(S.coords[2]))+" "+T(parseFloat(S.coords[3]))+" "+T(parseFloat(S.coords[4]))+" "+T(parseFloat(S.coords[5])),pe(Ue+="]"),S.matrix&&pe("/Matrix ["+S.matrix.toString()+"]"),pe("/Function "+fe+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Ft=function(S,W){var fe=ur(),ye=dr();W.push({resourcesOid:fe,objectOid:ye}),S.objectNumber=ye;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+S.boundingBox.map(T).join(" ")+"]"}),Te.push({key:"XStep",value:T(S.xStep)}),Te.push({key:"YStep",value:T(S.yStep)}),Te.push({key:"Resources",value:fe+" 0 R"}),S.matrix&&Te.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Oe({data:S.stream,additionalKeyValues:Te,objectId:S.objectNumber}),pe("endobj")},fn=function(S){var W;for(W in rn)rn.hasOwnProperty(W)&&(rn[W]instanceof zc?ft(rn[W]):rn[W]instanceof wh&&Ft(rn[W],S))},dn=function(S){for(var W in S.objectNumber=dr(),pe("<<"),S)switch(W){case"opacity":pe("/ca "+L(S[W]));break;case"stroke-opacity":pe("/CA "+L(S[W]))}pe(">>"),pe("endobj")},Hn=function(){var S;for(S in Wn)Wn.hasOwnProperty(S)&&dn(Wn[S])},os=function(){for(var S in pe("/XObject <<"),_r)_r.hasOwnProperty(S)&&_r[S].objectNumber>=0&&pe("/"+S+" "+_r[S].objectNumber+" 0 R");un.publish("putXobjectDict"),pe(">>")},Fo=function(){nr.oid=dr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+nr.v),pe("/R "+nr.r),pe("/U <"+nr.toHexString(nr.U)+">"),pe("/O <"+nr.toHexString(nr.O)+">"),pe("/P "+nr.P),pe(">>"),pe("endobj")},Hs=function(){for(var S in pe("/Font <<"),hn)hn.hasOwnProperty(S)&&(h===!1||h===!0&&d.hasOwnProperty(S))&&pe("/"+S+" "+hn[S].objectNumber+" 0 R");pe(">>")},Ss=function(){if(Object.keys(rn).length>0){for(var S in pe("/Shading <<"),rn)rn.hasOwnProperty(S)&&rn[S]instanceof zc&&rn[S].objectNumber>=0&&pe("/"+S+" "+rn[S].objectNumber+" 0 R");un.publish("putShadingPatternDict"),pe(">>")}},zs=function(S){if(Object.keys(rn).length>0){for(var W in pe("/Pattern <<"),rn)rn.hasOwnProperty(W)&&rn[W]instanceof f.TilingPattern&&rn[W].objectNumber>=0&&rn[W].objectNumber<S&&pe("/"+W+" "+rn[W].objectNumber+" 0 R");un.publish("putTilingPatternDict"),pe(">>")}},wi=function(){if(Object.keys(Wn).length>0){var S;for(S in pe("/ExtGState <<"),Wn)Wn.hasOwnProperty(S)&&Wn[S].objectNumber>=0&&pe("/"+S+" "+Wn[S].objectNumber+" 0 R");un.publish("putGStateDict"),pe(">>")}},tr=function(S){z(S.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Hs(),Ss(),zs(S.objectOid),wi(),os(),pe(">>"),pe("endobj")},Wu=function(){var S=[];Xe(),Hn(),gt(),fn(S),un.publish("putResources"),S.forEach(tr),tr({resourcesOid:se,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources")},Hu=function(){un.publish("putAdditionalObjects");for(var S=0;S<Ee.length;S++){var W=Ee[S];z(W.objId,!0),pe(W.content),pe("endobj")}un.publish("postPutAdditionalObjects")},vf=function(S){Vn[S.fontName]=Vn[S.fontName]||{},Vn[S.fontName][S.fontStyle]=S.id},zu=function(S,W,fe,ye,Te){var Ue={id:"F"+(Object.keys(hn).length+1).toString(10),postScriptName:S,fontName:W,fontStyle:fe,encoding:ye,isStandardFont:Te||!1,metadata:{}};return un.publish("addFont",{font:Ue,instance:this}),hn[Ue.id]=Ue,vf(Ue),Ue.id},yf=function(S){for(var W=0,fe=Ke.length;W<fe;W++){var ye=zu.call(this,S[W][0],S[W][1],S[W][2],Ke[W][3],!0);h===!1&&(d[ye]=!0);var Te=S[W][0].split("-");vf({id:ye,fontName:Te[0],fontStyle:Te[1]||""})}un.publish("addFonts",{fonts:hn,dictionary:Vn})},Ts=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ye){var W=ye.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var fe="Error in function "+W.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Bt.console)throw new Error(fe);Bt.console.error(fe,ye),Bt.alert&&alert(fe)}},S.foo.bar=S,S.foo},nc=function(S,W){var fe,ye,Te,Ue,Je,pt,m,P,F;if(Te=(W=W||{}).sourceEncoding||"Unicode",Je=W.outputEncoding,(W.autoencode||Je)&&hn[Gt].metadata&&hn[Gt].metadata[Te]&&hn[Gt].metadata[Te].encoding&&(Ue=hn[Gt].metadata[Te].encoding,!Je&&hn[Gt].encoding&&(Je=hn[Gt].encoding),!Je&&Ue.codePages&&(Je=Ue.codePages[0]),typeof Je=="string"&&(Je=Ue[Je]),Je)){for(m=!1,pt=[],fe=0,ye=S.length;fe<ye;fe++)(P=Je[S.charCodeAt(fe)])?pt.push(String.fromCharCode(P)):pt.push(S[fe]),pt[fe].charCodeAt(0)>>8&&(m=!0);S=pt.join("")}for(fe=S.length;m===void 0&&fe!==0;)S.charCodeAt(fe-1)>>8&&(m=!0),fe--;if(!m)return S;for(pt=W.noBOM?[]:[254,255],fe=0,ye=S.length;fe<ye;fe++){if((F=(P=S.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(F),pt.push(P-(F<<8))}return String.fromCharCode.apply(void 0,pt)},xr=f.__private__.pdfEscape=f.pdfEscape=function(S,W){return nc(S,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},as=f.__private__.beginPage=function(S){Me[++_n]=[],Pt[_n]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},qu(_n),Fe(Me[M])},il=function(S,W){var fe,ye,Te;switch(t=W||t,typeof S=="string"&&(fe=_(S.toLowerCase()),Array.isArray(fe)&&(ye=fe[0],Te=fe[1])),Array.isArray(S)&&(ye=S[0]*mt,Te=S[1]*mt),isNaN(ye)&&(ye=i[0],Te=i[1]),(ye>14400||Te>14400)&&(Gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Te=Math.min(14400,Te)),i=[ye,Te],t.substr(0,1)){case"l":Te>ye&&(i=[Te,ye]);break;case"p":ye>Te&&(i=[Te,ye])}as(i),Qu(Ku),pe(xi),Zu!==0&&pe(Zu+" J"),dc!==0&&pe(dc+" j"),un.publish("addPage",{pageNumber:_n})},rc=function(S){S>0&&S<=_n&&(Me.splice(S,1),Pt.splice(S,1),_n--,M>_n&&(M=_n),this.setPage(M))},qu=function(S){S>0&&S<=_n&&(M=S)},Cn=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Me.length-1},sl=function(S,W,fe){var ye,Te=void 0;return fe=fe||{},S=S!==void 0?S:hn[Gt].fontName,W=W!==void 0?W:hn[Gt].fontStyle,ye=S.toLowerCase(),Vn[ye]!==void 0&&Vn[ye][W]!==void 0?Te=Vn[ye][W]:Vn[S]!==void 0&&Vn[S][W]!==void 0?Te=Vn[S][W]:fe.disableWarning===!1&&Gn.warn("Unable to look up font label for font '"+S+"', '"+W+"'. Refer to getFontList() for available fonts."),Te||fe.noFallback||(Te=Vn.times[W])==null&&(Te=Vn.times.normal),Te},ol=f.__private__.putInfo=function(){var S=dr(),W=function(ye){return ye};for(var fe in u!==null&&(W=nr.encryptor(S,0)),pe("<<"),pe("/Producer ("+xr(W("jsPDF "+Ot.version))+")"),Rt)Rt.hasOwnProperty(fe)&&Rt[fe]&&pe("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+xr(W(Rt[fe]))+")");pe("/CreationDate ("+xr(W(he))+")"),pe(">>"),pe("endobj")},Mo=f.__private__.putCatalog=function(S){var W=(S=S||{}).rootDictionaryObjId||re;switch(dr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+W+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+ut;fe.substr(fe.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+L(ut)+"]")}switch(It||(It="continuous"),It){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}kt&&pe("/PageMode /"+kt),un.publish("putCatalog"),pe(">>"),pe("endobj")},bp=f.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(Q+1)),pe("/Root "+Q+" 0 R"),pe("/Info "+(Q-1)+" 0 R"),u!==null&&pe("/Encrypt "+nr.oid+" 0 R"),pe("/ID [ <"+ne+"> <"+ne+"> ]"),pe(">>")},_f=f.__private__.putHeader=function(){pe("%PDF-"+v),pe("%")},Ap=f.__private__.putXRef=function(){var S="0000000000";pe("xref"),pe("0 "+(Q+1)),pe("0000000000 65535 f ");for(var W=1;W<=Q;W++)typeof ie[W]=="function"?pe((S+ie[W]()).slice(-10)+" 00000 n "):ie[W]!==void 0?pe((S+ie[W]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Bo=f.__private__.buildDocument=function(){at(),Fe(ge),un.publish("buildDocument"),_f(),Ie(),Hu(),Wu(),u!==null&&Fo(),ol(),Mo();var S=ve;return Ap(),bp(),pe("startxref"),pe(""+S),pe("%%EOF"),Fe(Me[M]),ge.join(`
`)},ic=f.__private__.getBlob=function(S){return new Blob([_t(S)],{type:"application/pdf"})},sc=f.output=f.__private__.output=Ts(function(S,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",S){case void 0:return Bo();case"save":f.save(W.filename);break;case"arraybuffer":return _t(Bo());case"blob":return ic(Bo());case"bloburi":case"bloburl":if(Bt.URL!==void 0&&typeof Bt.URL.createObjectURL=="function")return Bt.URL&&Bt.URL.createObjectURL(ic(Bo()))||void 0;Gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ye=Bo();try{fe=$5(ye)}catch{fe=$5(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+W.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Te=W.pdfObjectUrl,Ue="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",pt=Bt.open();return pt!==null&&pt.document.write(Je),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',P=Bt.open();if(P!==null){P.document.write(m);var F=this;P.document.documentElement.querySelector("#pdfViewer").onload=function(){P.document.title=W.filename,P.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(F.output("bloburl"))}}return P}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var X='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Se=Bt.open();if(Se!==null&&(Se.document.write(X),Se.document.title=W.filename),Se||typeof safari>"u")return Se;break;case"datauri":case"dataurl":return Bt.document.location.href=this.output("datauristring",W);default:return null}}),va=function(S){return Array.isArray(Es)===!0&&Es.indexOf(S)>-1};switch(r){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=va("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);mt=r}var nr=null;Ae(),K();var wf=function(S){return u!==null?nr.encryptor(S,0):function(W){return W}},$u=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[S].objId,pageNumber:S,pageContext:Pt[S]}},jt=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Pt)if(Pt[W].objId===S)break;return $u(W)},ya=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Pt[M].objId,pageNumber:M,pageContext:Pt[M]}};f.addPage=function(){return il.apply(this,arguments),this},f.setPage=function(){return qu.apply(this,arguments),Fe.call(this,Me[M]),this},f.insertPage=function(S){return this.addPage(),this.movePage(M,S),this},f.movePage=function(S,W){var fe,ye;if(S>W){fe=Me[S],ye=Pt[S];for(var Te=S;Te>W;Te--)Me[Te]=Me[Te-1],Pt[Te]=Pt[Te-1];Me[W]=fe,Pt[W]=ye,this.setPage(W)}else if(S<W){fe=Me[S],ye=Pt[S];for(var Ue=S;Ue<W;Ue++)Me[Ue]=Me[Ue+1],Pt[Ue]=Pt[Ue+1];Me[W]=fe,Pt[W]=ye,this.setPage(W)}return this},f.deletePage=function(){return rc.apply(this,arguments),this},f.__private__.text=f.text=function(S,W,fe,ye,Te){var Ue,Je,pt,m,P,F,X,Se,De,Ze=(ye=ye||{}).scope||this;if(typeof S=="number"&&typeof W=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Ht=fe;fe=W,W=S,S=Ht}if(arguments[3]instanceof xt?(b("The transform parameter of text() with a Matrix value"),De=Te):(pt=arguments[4],m=arguments[5],Fn(X=arguments[3])==="object"&&X!==null||(typeof pt=="string"&&(m=pt,pt=null),typeof X=="string"&&(m=X,X=null),typeof X=="number"&&(pt=X,X=null),ye={flags:X,angle:pt,align:m})),isNaN(W)||isNaN(fe)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Ze;var on="",zt=!1,An=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:bn,$n=Ze.internal.scaleFactor;function Ho(Qn){return Qn=Qn.split("	").join(Array(ye.TabLen||9).join(" ")),xr(Qn,X)}function Ei(Qn){for(var Xn,Ir=Qn.concat(),Xr=[],pl=Ir.length;pl--;)typeof(Xn=Ir.shift())=="string"?Xr.push(Xn):Array.isArray(Qn)&&(Xn.length===1||Xn[1]===void 0&&Xn[2]===void 0)?Xr.push(Xn[0]):Xr.push([Xn[0],Xn[1],Xn[2]]);return Xr}function Ea(Qn,Xn){var Ir;if(typeof Qn=="string")Ir=Xn(Qn)[0];else if(Array.isArray(Qn)){for(var Xr,pl,Op=Qn.concat(),Rf=[],Dg=Op.length;Dg--;)typeof(Xr=Op.shift())=="string"?Rf.push(Xn(Xr)[0]):Array.isArray(Xr)&&typeof Xr[0]=="string"&&(pl=Xn(Xr[0],Xr[1],Xr[2]),Rf.push([pl[0],pl[1],pl[2]]));Ir=Rf}return Ir}var Sa=!1,kp=!0;if(typeof S=="string")Sa=!0;else if(Array.isArray(S)){var Ip=S.concat();Je=[];for(var bf,Si=Ip.length;Si--;)(typeof(bf=Ip.shift())!="string"||Array.isArray(bf)&&typeof bf[0]!="string")&&(kp=!1);Sa=kp}if(Sa===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Af=it/Ze.internal.scaleFactor,Cf=Af*(An-1);switch(ye.baseline){case"bottom":fe-=Cf;break;case"top":fe+=Af-Cf;break;case"hanging":fe+=Af-2*Cf;break;case"middle":fe+=Af/2-Cf}if((F=ye.maxWidth||0)>0&&(typeof S=="string"?S=Ze.splitTextToSize(S,F):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Qn,Xn){return Qn.concat(Ze.splitTextToSize(Xn,F))},[]))),Ue={text:S,x:W,y:fe,options:ye,mutex:{pdfEscape:xr,activeFontKey:Gt,fonts:hn,activeFontSize:it}},un.publish("preProcessText",Ue),S=Ue.text,pt=(ye=Ue.options).angle,!(De instanceof xt)&&pt&&typeof pt=="number"){pt*=Math.PI/180,ye.rotationDirection===0&&(pt=-pt),x===w.ADVANCED&&(pt=-pt);var kf=Math.cos(pt),Np=Math.sin(pt);De=new xt(kf,Np,-Np,kf,0,0)}else pt&&pt instanceof xt&&(De=pt);x!==w.ADVANCED||De||(De=Br),(P=ye.charSpace||ll)!==void 0&&(on+=T(C(P))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Se=ye.horizontalScale)!==void 0&&(on+=T(100*Se)+` Tz
`),ye.lang;var bs=-1,y_=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Pp=Ze.internal.getCurrentPageInfo().pageContext;switch(y_){case 0:case!1:case"fill":bs=0;break;case 1:case!0:case"stroke":bs=1;break;case 2:case"fillThenStroke":bs=2;break;case 3:case"invisible":bs=3;break;case 4:case"fillAndAddForClipping":bs=4;break;case 5:case"strokeAndAddPathForClipping":bs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bs=6;break;case 7:case"addToPathForClipping":bs=7}var kg=Pp.usedRenderingMode!==void 0?Pp.usedRenderingMode:-1;bs!==-1?on+=bs+` Tr
`:kg!==-1&&(on+=`0 Tr
`),bs!==-1&&(Pp.usedRenderingMode=bs),m=ye.align||"left";var go,If=it*An,Ig=Ze.internal.pageSize.getWidth(),Ng=hn[Gt];P=ye.charSpace||ll,F=ye.maxWidth||0,X=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var yc=[],eh=function(Qn){return Ze.getStringUnitWidth(Qn,{font:Ng,charSpace:P,fontSize:it,doKerning:!1})*it/$n};if(Object.prototype.toString.call(S)==="[object Array]"){var As;Je=Ei(S),m!=="left"&&(go=Je.map(eh));var ls,_c=0;if(m==="right"){W-=go[0],S=[],Si=Je.length;for(var hl=0;hl<Si;hl++)hl===0?(ls=Ys(W),As=Qr(fe)):(ls=C(_c-go[hl]),As=-If),S.push([Je[hl],ls,As]),_c=go[hl]}else if(m==="center"){W-=go[0]/2,S=[],Si=Je.length;for(var fl=0;fl<Si;fl++)fl===0?(ls=Ys(W),As=Qr(fe)):(ls=C((_c-go[fl])/2),As=-If),S.push([Je[fl],ls,As]),_c=go[fl]}else if(m==="left"){S=[],Si=Je.length;for(var Nf=0;Nf<Si;Nf++)S.push(Je[Nf])}else if(m==="justify"&&Ng.encoding==="Identity-H"){S=[],Si=Je.length,F=F!==0?F:Ig;for(var dl=0,kr=0;kr<Si;kr++)if(As=kr===0?Qr(fe):-If,ls=kr===0?Ys(W):dl,kr<Si-1){var Dp=C((F-go[kr])/(Je[kr].split(" ").length-1)),cs=Je[kr].split(" ");S.push([cs[0]+" ",ls,As]),dl=0;for(var vo=1;vo<cs.length;vo++){var Pf=(eh(cs[vo-1]+" "+cs[vo])-eh(cs[vo]))*$n+Dp;vo==cs.length-1?S.push([cs[vo],Pf,0]):S.push([cs[vo]+" ",Pf,0]),dl-=Pf}}else S.push([Je[kr],ls,As]);S.push(["",dl,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Si=Je.length,F=F!==0?F:Ig,kr=0;kr<Si;kr++)As=kr===0?Qr(fe):-If,ls=kr===0?Ys(W):0,kr<Si-1?yc.push(T(C((F-go[kr])/(Je[kr].split(" ").length-1)))):yc.push(0),S.push([Je[kr],ls,As])}}var Pg=typeof ye.R2L=="boolean"?ye.R2L:At;Pg===!0&&(S=Ea(S,function(Qn,Xn,Ir){return[Qn.split("").reverse().join(""),Xn,Ir]})),Ue={text:S,x:W,y:fe,options:ye,mutex:{pdfEscape:xr,activeFontKey:Gt,fonts:hn,activeFontSize:it}},un.publish("postProcessText",Ue),S=Ue.text,zt=Ue.mutex.isHex||!1;var Rp=hn[Gt].encoding;Rp!=="WinAnsiEncoding"&&Rp!=="StandardEncoding"||(S=Ea(S,function(Qn,Xn,Ir){return[Ho(Qn),Xn,Ir]})),Je=Ei(S),S=[];for(var th,nh,wc,rh=0,Df=1,ih=Array.isArray(Je[0])?Df:rh,xc="",Lp=function(Qn,Xn,Ir){var Xr="";return Ir instanceof xt?(Ir=typeof ye.angle=="number"?ji(Ir,new xt(1,0,0,1,Qn,Xn)):ji(new xt(1,0,0,1,Qn,Xn),Ir),x===w.ADVANCED&&(Ir=ji(new xt(1,0,0,-1,0,0),Ir)),Xr=Ir.join(" ")+` Tm
`):Xr=T(Qn)+" "+T(Xn)+` Td
`,Xr},yo=0;yo<Je.length;yo++){switch(xc="",ih){case Df:wc=(zt?"<":"(")+Je[yo][0]+(zt?">":")"),th=parseFloat(Je[yo][1]),nh=parseFloat(Je[yo][2]);break;case rh:wc=(zt?"<":"(")+Je[yo]+(zt?">":")"),th=Ys(W),nh=Qr(fe)}yc!==void 0&&yc[yo]!==void 0&&(xc=yc[yo]+` Tw
`),yo===0?S.push(xc+Lp(th,nh,De)+wc):ih===rh?S.push(xc+wc):ih===Df&&S.push(xc+Lp(th,nh,De)+wc)}S=ih===rh?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var _o=`BT
/`;return _o+=Gt+" "+it+` Tf
`,_o+=T(it*An)+` TL
`,_o+=Vo+`
`,_o+=on,_o+=S,pe(_o+="ET"),d[Gt]=!0,Ze};var Cp=f.__private__.clip=f.clip=function(S){return pe(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Cp("evenodd")},f.__private__.discardPath=f.discardPath=function(){return pe("n"),this};var mo=f.__private__.isValidStyle=function(S){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(W=!0),W};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return mo(S)&&(c=S),this};var xf=f.__private__.getStyle=f.getStyle=function(S){var W=c;switch(S){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=S}return W},qs=f.close=function(){return pe("h"),this};f.stroke=function(){return pe("S"),this},f.fill=function(S){return oc("f",S),this},f.fillEvenOdd=function(S){return oc("f*",S),this},f.fillStroke=function(S){return oc("B",S),this},f.fillStrokeEvenOdd=function(S){return oc("B*",S),this};var oc=function(S,W){Fn(W)==="object"?lc(W,S):pe(S)},Yu=function(S){S===null||x===w.ADVANCED&&S===void 0||(S=xf(S),pe(S))};function ac(S,W,fe,ye,Te){var Ue=new wh(W||this.boundingBox,fe||this.xStep,ye||this.yStep,this.gState,Te||this.matrix);Ue.stream=this.stream;var Je=S+"$$"+this.cloneIndex+++"$$";return wr(Je,Ue),Ue}var lc=function(S,W){var fe=Ws[S.key],ye=rn[fe];if(ye instanceof zc)pe("q"),pe(Ef(W)),ye.gState&&f.setGState(ye.gState),pe(S.matrix.toString()+" cm"),pe("/"+fe+" sh"),pe("Q");else if(ye instanceof wh){var Te=new xt(1,0,0,-1,0,Ui());S.matrix&&(Te=Te.multiply(S.matrix||Br),fe=ac.call(ye,S.key,S.boundingBox,S.xStep,S.yStep,Te).id),pe("q"),pe("/Pattern cs"),pe("/"+fe+" scn"),ye.gState&&f.setGState(ye.gState),pe(W),pe("Q")}},Ef=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},jo=f.moveTo=function(S,W){return pe(T(C(S))+" "+T(q(W))+" m"),this},$s=f.lineTo=function(S,W){return pe(T(C(S))+" "+T(q(W))+" l"),this},Uo=f.curveTo=function(S,W,fe,ye,Te,Ue){return pe([T(C(S)),T(q(W)),T(C(fe)),T(q(ye)),T(C(Te)),T(q(Ue)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,W,fe,ye,Te){if(isNaN(S)||isNaN(W)||isNaN(fe)||isNaN(ye)||!mo(Te))throw new Error("Invalid arguments passed to jsPDF.line");return x===w.COMPAT?this.lines([[fe-S,ye-W]],S,W,[1,1],Te||"S"):this.lines([[fe-S,ye-W]],S,W,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,W,fe,ye,Te,Ue){var Je,pt,m,P,F,X,Se,De,Ze,Ht,on,zt;if(typeof S=="number"&&(zt=fe,fe=W,W=S,S=zt),ye=ye||[1,1],Ue=Ue||!1,isNaN(W)||isNaN(fe)||!Array.isArray(S)||!Array.isArray(ye)||!mo(Te)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jo(W,fe),Je=ye[0],pt=ye[1],P=S.length,Ht=W,on=fe,m=0;m<P;m++)(F=S[m]).length===2?(Ht=F[0]*Je+Ht,on=F[1]*pt+on,$s(Ht,on)):(X=F[0]*Je+Ht,Se=F[1]*pt+on,De=F[2]*Je+Ht,Ze=F[3]*pt+on,Ht=F[4]*Je+Ht,on=F[5]*pt+on,Uo(X,Se,De,Ze,Ht,on));return Ue&&qs(),Yu(Te),this},f.path=function(S){for(var W=0;W<S.length;W++){var fe=S[W],ye=fe.c;switch(fe.op){case"m":jo(ye[0],ye[1]);break;case"l":$s(ye[0],ye[1]);break;case"c":Uo.apply(this,ye);break;case"h":qs()}}return this},f.__private__.rect=f.rect=function(S,W,fe,ye,Te){if(isNaN(S)||isNaN(W)||isNaN(fe)||isNaN(ye)||!mo(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return x===w.COMPAT&&(ye=-ye),pe([T(C(S)),T(q(W)),T(C(fe)),T(C(ye)),"re"].join(" ")),Yu(Te),this},f.__private__.triangle=f.triangle=function(S,W,fe,ye,Te,Ue,Je){if(isNaN(S)||isNaN(W)||isNaN(fe)||isNaN(ye)||isNaN(Te)||isNaN(Ue)||!mo(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-S,ye-W],[Te-fe,Ue-ye],[S-Te,W-Ue]],S,W,[1,1],Je,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,W,fe,ye,Te,Ue,Je){if(isNaN(S)||isNaN(W)||isNaN(fe)||isNaN(ye)||isNaN(Te)||isNaN(Ue)||!mo(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*fe),Ue=Math.min(Ue,.5*ye),this.lines([[fe-2*Te,0],[Te*pt,0,Te,Ue-Ue*pt,Te,Ue],[0,ye-2*Ue],[0,Ue*pt,-Te*pt,Ue,-Te,Ue],[2*Te-fe,0],[-Te*pt,0,-Te,-Ue*pt,-Te,-Ue],[0,2*Ue-ye],[0,-Ue*pt,Te*pt,-Ue,Te,-Ue]],S+Te,W,[1,1],Je,!0),this},f.__private__.ellipse=f.ellipse=function(S,W,fe,ye,Te){if(isNaN(S)||isNaN(W)||isNaN(fe)||isNaN(ye)||!mo(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*fe,Je=4/3*(Math.SQRT2-1)*ye;return jo(S+fe,W),Uo(S+fe,W-Je,S+Ue,W-ye,S,W-ye),Uo(S-Ue,W-ye,S-fe,W-Je,S-fe,W),Uo(S-fe,W+Je,S-Ue,W+ye,S,W+ye),Uo(S+Ue,W+ye,S+fe,W+Je,S+fe,W),Yu(Te),this},f.__private__.circle=f.circle=function(S,W,fe,ye){if(isNaN(S)||isNaN(W)||isNaN(fe)||!mo(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,W,fe,fe,ye)},f.setFont=function(S,W,fe){return fe&&(W=V(W,fe)),Gt=sl(S,W,{disableWarning:!1}),this};var Gu=f.__private__.getFont=f.getFont=function(){return hn[sl.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,W,fe={};for(S in Vn)if(Vn.hasOwnProperty(S))for(W in fe[S]=[],Vn[S])Vn[S].hasOwnProperty(W)&&fe[S].push(W);return fe},f.addFont=function(S,W,fe,ye,Te){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(fe=V(fe,ye)),Te=Te||"Identity-H",zu.call(this,S,W,fe,Te)};var bn,Ku=n.lineWidth||.200025,cc=f.__private__.getLineWidth=f.getLineWidth=function(){return Ku},Qu=f.__private__.setLineWidth=f.setLineWidth=function(S){return Ku=S,pe(T(C(S))+" w"),this};f.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(S,W){if(S=S||[],W=W||0,isNaN(W)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(fe){return T(C(fe))}).join(" "),W=T(C(W)),pe("["+S+"] "+W+" d"),this};var Xu=f.__private__.getLineHeight=f.getLineHeight=function(){return it*bn};f.__private__.getLineHeight=f.getLineHeight=function(){return it*bn};var Ju=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(bn=S),this},al=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return bn};Ju(n.lineHeight);var Ys=f.__private__.getHorizontalCoordinate=function(S){return C(S)},Qr=f.__private__.getVerticalCoordinate=function(S){return x===w.ADVANCED?S:Pt[M].mediaBox.topRightY-Pt[M].mediaBox.bottomLeftY-C(S)},Sf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return T(Ys(S))},_a=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return T(Qr(S))},xi=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return le(xi)},f.__private__.setStrokeColor=f.setDrawColor=function(S,W,fe,ye){return xi=ue({ch1:S,ch2:W,ch3:fe,ch4:ye,pdfColorType:"draw",precision:2}),pe(xi),this};var uc=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return le(uc)},f.__private__.setFillColor=f.setFillColor=function(S,W,fe,ye){return uc=ue({ch1:S,ch2:W,ch3:fe,ch4:ye,pdfColorType:"fill",precision:2}),pe(uc),this};var Vo=n.textColor||"0 g",hc=f.__private__.getTextColor=f.getTextColor=function(){return le(Vo)};f.__private__.setTextColor=f.setTextColor=function(S,W,fe,ye){return Vo=ue({ch1:S,ch2:W,ch3:fe,ch4:ye,pdfColorType:"text",precision:3}),this};var ll=n.charSpace,fc=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ll||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ll=S,this};var Zu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var W=f.CapJoinStyles[S];if(W===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zu=W,pe(W+" J"),this};var dc=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var W=f.CapJoinStyles[S];if(W===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dc=W,pe(W+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(T(C(S))+" M"),this},f.GState=zm,f.setGState=function(S){(S=typeof S=="string"?Wn[Kr[S]]:wa(null,S)).equals(is)||(pe("/"+S.id+" gs"),is=S)};var wa=function(S,W){if(!S||!Kr[S]){var fe=!1;for(var ye in Wn)if(Wn.hasOwnProperty(ye)&&Wn[ye].equals(W)){fe=!0;break}if(fe)W=Wn[ye];else{var Te="GS"+(Object.keys(Wn).length+1).toString(10);Wn[Te]=W,W.id=Te}return S&&(Kr[S]=W.id),un.publish("addGState",W),W}};f.addGState=function(S,W){return wa(S,W),this},f.saveGraphicsState=function(){return pe("q"),xs.push({key:Gt,size:it,color:Vo}),this},f.restoreGraphicsState=function(){pe("Q");var S=xs.pop();return Gt=S.key,it=S.size,Vo=S.color,is=null,this},f.setCurrentTransformationMatrix=function(S){return pe(S.toString()+" cm"),this},f.comment=function(S){return pe("#"+S),this};var cl=function(S,W){var fe=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Ue){isNaN(Ue)||(fe=parseFloat(Ue))}});var ye=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Ue){isNaN(Ue)||(ye=parseFloat(Ue))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ue){Te=Ue.toString()}}),this},pc=function(S,W,fe,ye){cl.call(this,S,W),this.type="rect";var Te=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(Je){isNaN(Je)||(Te=parseFloat(Je))}});var Ue=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Je){isNaN(Je)||(Ue=parseFloat(Je))}}),this},ul=function(){this.page=_n,this.currentPage=M,this.pages=Me.slice(0),this.pagesContext=Pt.slice(0),this.x=er,this.y=Zt,this.matrix=_i,this.width=xa(M),this.height=Ui(M),this.outputDestination=tt,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){_n=this.page,M=this.currentPage,Pt=this.pagesContext,Me=this.pages,er=this.x,Zt=this.y,_i=this.matrix,gc(M,this.width),vc(M,this.height),tt=this.outputDestination};var mc=function(S,W,fe,ye,Te){ss.push(new ul),_n=M=0,Me=[],er=S,Zt=W,_i=Te,as([fe,ye])},Tf=function(S){if(ri[S])ss.pop().restore();else{var W=new ul,fe="Xo"+(Object.keys(_r).length+1).toString(10);W.id=fe,ri[S]=fe,_r[fe]=W,un.publish("addFormObject",W),ss.pop().restore()}};for(var Wo in f.beginFormObject=function(S,W,fe,ye,Te){return mc(S,W,fe,ye,Te),this},f.endFormObject=function(S){return Tf(S),this},f.doFormObject=function(S,W){var fe=_r[ri[S]];return pe("q"),pe(W.toString()+" cm"),pe("/"+fe.id+" Do"),pe("Q"),this},f.getFormObject=function(S){var W=_r[ri[S]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},f.save=function(S,W){return S=S||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(uh(ic(Bo()),S),typeof uh.unload=="function"&&Bt.setTimeout&&setTimeout(uh.unload,911),this):new Promise(function(fe,ye){try{var Te=uh(ic(Bo()),S);typeof uh.unload=="function"&&Bt.setTimeout&&setTimeout(uh.unload,911),fe(Te)}catch(Ue){ye(Ue.message)}})},Ot.API)Ot.API.hasOwnProperty(Wo)&&(Wo==="events"&&Ot.API.events.length?function(S,W){var fe,ye,Te;for(Te=W.length-1;Te!==-1;Te--)fe=W[Te][0],ye=W[Te][1],S.subscribe.apply(S,[fe].concat(typeof ye=="function"?[ye]:ye))}(un,Ot.API.events):f[Wo]=Ot.API[Wo]);var xa=f.getPageWidth=function(S){return(Pt[S=S||M].mediaBox.topRightX-Pt[S].mediaBox.bottomLeftX)/mt},gc=f.setPageWidth=function(S,W){Pt[S].mediaBox.topRightX=W*mt+Pt[S].mediaBox.bottomLeftX},Ui=f.getPageHeight=function(S){return(Pt[S=S||M].mediaBox.topRightY-Pt[S].mediaBox.bottomLeftY)/mt},vc=f.setPageHeight=function(S,W){Pt[S].mediaBox.topRightY=W*mt+Pt[S].mediaBox.bottomLeftY};return f.internal={pdfEscape:xr,getStyle:xf,getFont:Gu,getFontSize:ht,getCharSpace:fc,getTextColor:hc,getLineHeight:Xu,getLineHeightFactor:al,getLineWidth:cc,write:Ye,getHorizontalCoordinate:Ys,getVerticalCoordinate:Qr,getCoordinateString:Sf,getVerticalCoordinateString:_a,collections:{},newObject:dr,newAdditionalObject:ce,newObjectDeferred:ur,newObjectDeferredBegin:z,getFilters:Ce,putStream:Oe,events:un,scaleFactor:mt,pageSize:{getWidth:function(){return xa(M)},setWidth:function(S){gc(M,S)},getHeight:function(){return Ui(M)},setHeight:function(S){vc(M,S)}},encryptionOptions:u,encryption:nr,getEncryptor:wf,output:sc,getNumberOfPages:Cn,pages:Me,out:pe,f2:L,f3:A,getPageInfo:$u,getPageInfoByObjId:jt,getCurrentPageInfo:ya,getPDFVersion:g,Point:cl,Rectangle:pc,Matrix:xt,hasHotfix:va},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return xa(M)},set:function(S){gc(M,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ui(M)},set:function(S){vc(M,S)},enumerable:!0,configurable:!0}),yf.call(f,Ke),Gt="F1",il(i,t),un.publish("initialized"),f}Qf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Qf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Qf.prototype.processOwnerPassword=function(n,e){return G5(Y5(e).substr(0,5),n)},Qf.prototype.encryptor=function(n,e){var t=Y5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return G5(t,r)}},zm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Fn(n)!==Fn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ot.API={events:[]},Ot.version="2.5.2";var Sr=Ot.API,ub=1,mf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(n){return n.toFixed(2)},Rc=function(n){return n.toFixed(5)};Sr.__acroform__={};var Vs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},ek=function(n){return n*ub},ka=function(n){var e=new NO,t=bt.internal.getHeight(n)||0,r=bt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(qt(r)),Number(qt(t))],e},Ete=Sr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Ste=Sr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Tte=Sr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Dr=Sr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tte(n,e-1)},Rr=Sr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ete(n,e-1)},Lr=Sr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ste(n,e-1)},bte=Sr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(qt(l.lowerLeft_X)),Number(qt(l.lowerLeft_Y)),Number(qt(l.upperRight_X)),Number(qt(l.upperRight_Y))]},Ate=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=K5(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ka(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},K5=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var s=t,o=bt.internal.getHeight(n)||0;o=o<0?-o:o;var a=bt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(A,C,D){if(A+1<i.length){var q=C+" "+i[A+1][0];return P1(q,n,D).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=P1("3",n,s).height,d=n.multiline?o-s:(o-h)/2,f=d+=2,v=0,g=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+P1(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var R=!1;if(i[x].length!==1&&E!==i[x].length-1){if((h+2)*(w+2)+2>o)continue e;_+=i[x][E],R=!0,g=x,x--}else{_=(_+=i[x][E]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var B=parseInt(x),V=l(B,_,s),T=x>=i.length-1;if(V&&!T){_+=" ",E=0;continue}if(V||T){if(T)g=B;else if(n.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(w+2)+2>o)continue e;g=B}}for(var b="",I=v;I<=g;I++){var L=i[I];if(n.multiline){if(I===g){b+=L[E]+" ",E=(E+1)%L.length;continue}if(I===v){b+=L[L.length-1]+" ";continue}}b+=L[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,u=P1(b,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=qt(c)+" "+qt(f)+` Td
`,e+="("+mf(b)+`) Tj
`,e+=-qt(c)+` 0 Td
`,f=-(s+2),u=0,v=R?g:g+1,w++,_=""}break}return r.text=e,r.fontSize=s,r},P1=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Cte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kte=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Ite=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Fn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Nte=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ma.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Cte)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ub=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new PO,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&kte(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=bte(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=bt.createDefaultAppearanceStream(a),Fn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Ate(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var v=f[o];typeof v=="function"&&(v=v.call(i,a)),h+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(i,a)),h+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Ite(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},IO=Sr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Fn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+mf(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hw=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+mf(r(n))+")"},Fa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fa.prototype.toString=function(){return this.objId+" 0 R"},Fa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Fa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:IO(i,this.objId,this.scope)}):i instanceof Fa?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var NO=function(){Fa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Vs(NO,Fa);var PO=function(){Fa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+mf(t(n))+")"}},set:function(t){n=t}})};Vs(PO,Fa);var ma=function n(){Fa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dr(e,3)},set:function(_){_?this.F=Rr(e,3):this.F=Lr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');t=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof O2)return;s="FieldObject"+n.FieldNum++}var _=function(w){return w};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+mf(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ub:c},set:function(_){c=_}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof O2||this instanceof hu))return Hw(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=_}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ei?d:Hw(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=this instanceof ei?_:_.substr(0,1)==="("?Hf(_.substr(1,_.length-2)):Hf(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?Hf(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof ei?"/"+_:_}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ei?f:Hw(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=this instanceof ei?_:_.substr(0,1)==="("?Hf(_.substr(1,_.length-2)):Hf(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?Hf(f.substr(1,f.length-1)):f},set:function(_){_=_.toString(),f=this instanceof ei?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){_=!!_,g=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(_){v=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,1)},set:function(_){_?this.Ff=Rr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,2)},set:function(_){_?this.Ff=Rr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,3)},set:function(_){_?this.Ff=Rr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');E=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(E){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};Vs(ma,Fa);var Ah=function(){ma.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return IO(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,18)},set:function(t){t?this.Ff=Rr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Rr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,20)},set:function(t){t?(this.Ff=Rr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,22)},set:function(t){t?this.Ff=Rr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(t){t?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,27)},set:function(t){t?this.Ff=Rr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Vs(Ah,ma);var Ch=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};Vs(Ch,Ah);var kh=function(){Ch.call(this),this.combo=!0};Vs(kh,Ch);var K0=function(){kh.call(this),this.edit=!0};Vs(K0,kh);var ei=function(){ma.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,15)},set:function(t){t?this.Ff=Rr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,16)},set:function(t){t?this.Ff=Rr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,17)},set:function(t){t?this.Ff=Rr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(t){t?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+mf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Fn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Vs(ei,ma);var Q0=function(){ei.call(this),this.pushButton=!0};Vs(Q0,ei);var Ih=function(){ei.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Vs(Ih,ei);var O2=function(){var n,e;ma.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+mf(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Fn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vs(O2,ma),Ih.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ih.prototype.createOption=function(n){var e=new O2;return e.Parent=this,e.optionName=n,this.Kids.push(e),Pte.call(this.scope,e),e};var X0=function(){ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};Vs(X0,ei);var hu=function(){ma.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,13)},set:function(e){e?this.Ff=Rr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,21)},set:function(e){e?this.Ff=Rr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(e){e?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,24)},set:function(e){e?this.Ff=Rr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,25)},set:function(e){e?this.Ff=Rr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(e){e?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vs(hu,ma);var J0=function(){hu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,14)},set:function(n){n?this.Ff=Rr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Vs(J0,hu);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=ka(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=K5(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+qt(bt.internal.getWidth(n))+" "+qt(bt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+qt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=ka(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=bt.internal.getHeight(n),o=bt.internal.getWidth(n),a=K5(n,n.caption);return i.push("1 g"),i.push("0 0 "+qt(o)+" "+qt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+qt(o-1)+" "+qt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+qt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=ka(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+qt(bt.internal.getWidth(n))+" "+qt(bt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=bt.RadioButton.Circle.YesNormal,e.D[n]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=ka(n);e.scope=n.scope;var t=[],r=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=bt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ka(n);e.scope=n.scope;var t=[],r=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*bt.internal.Bezier_C).toFixed(5)),o=Number((r*bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=ka(n);e.scope=n.scope;var t=[],r=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=bt.RadioButton.Cross.YesNormal,e.D[n]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=ka(n);e.scope=n.scope;var t=[],r=bt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+qt(bt.internal.getWidth(n)-2)+" "+qt(bt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(qt(r.x1.x)+" "+qt(r.x1.y)+" m"),t.push(qt(r.x2.x)+" "+qt(r.x2.y)+" l"),t.push(qt(r.x4.x)+" "+qt(r.x4.y)+" m"),t.push(qt(r.x3.x)+" "+qt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ka(n);e.scope=n.scope;var t=bt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(bt.internal.getWidth(n))+" "+qt(bt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qt(bt.internal.getWidth(n)-2)+" "+qt(bt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(qt(t.x1.x)+" "+qt(t.x1.y)+" m"),r.push(qt(t.x2.x)+" "+qt(t.x2.y)+" l"),r.push(qt(t.x4.x)+" "+qt(t.x4.y)+" m"),r.push(qt(t.x3.x)+" "+qt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=ka(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+qt(bt.internal.getWidth(n))+" "+qt(bt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};bt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=bt.internal.getWidth(n),t=bt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},bt.internal.getWidth=function(n){var e=0;return Fn(n)==="object"&&(e=ek(n.Rect[2])),e},bt.internal.getHeight=function(n){var e=0;return Fn(n)==="object"&&(e=ek(n.Rect[3])),e};var Pte=Sr.addField=function(n){if(Nte(this,n),!(n instanceof ma))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Sr.AcroFormChoiceField=Ah,Sr.AcroFormListBox=Ch,Sr.AcroFormComboBox=kh,Sr.AcroFormEditBox=K0,Sr.AcroFormButton=ei,Sr.AcroFormPushButton=Q0,Sr.AcroFormRadioButton=Ih,Sr.AcroFormCheckBox=X0,Sr.AcroFormTextField=hu,Sr.AcroFormPasswordField=J0,Sr.AcroFormAppearance=bt,Sr.AcroForm={ChoiceField:Ah,ListBox:Ch,ComboBox:kh,EditBox:K0,Button:ei,PushButton:Q0,RadioButton:Ih,CheckBox:X0,TextField:hu,PasswordField:J0,Appearance:bt},Ot.AcroForm={ChoiceField:Ah,ListBox:Ch,ComboBox:kh,EditBox:K0,Button:ei,PushButton:Q0,RadioButton:Ih,CheckBox:X0,TextField:hu,PasswordField:J0,Appearance:bt};var Dte=Ot.AcroForm;function DO(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(A,C){var D,q,he,ne,ee,K=e;if((C=C||e)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(V(A))for(ee in t)for(he=t[ee],D=0;D<he.length;D+=1){for(ne=!0,q=0;q<he[D].length;q+=1)if(he[D][q]!==void 0&&he[D][q]!==A[q]){ne=!1;break}if(ne===!0){K=ee;break}}else for(ee in t)for(he=t[ee],D=0;D<he.length;D+=1){for(ne=!0,q=0;q<he[D].length;q+=1)if(he[D][q]!==void 0&&he[D][q]!==A.charCodeAt(q)){ne=!1;break}if(ne===!0){K=ee;break}}return K===e&&C!==e&&(K=C),K},i=function A(C){for(var D=this.internal.write,q=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:C.width}),ne.push({key:"Height",value:C.height}),C.colorSpace===E.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===E.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ee="",K=0,Z=C.transparency.length;K<Z;K++)ee+=C.transparency[K]+" "+C.transparency[K]+" ";ne.push({key:"Mask",value:"["+ee+"]"})}C.sMask!==void 0&&ne.push({key:"SMask",value:C.objectId+1+" 0 R"});var me=C.filter!==void 0?["/"+C.filter]:void 0;if(q({data:C.data,additionalKeyValues:ne,alreadyAppliedFilters:me,objectId:C.objectId}),D("endobj"),"sMask"in C&&C.sMask!==void 0){var Ae="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,N={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:Ae,data:C.sMask};"filter"in C&&(N.filter=C.filter),A.call(this,N)}if(C.colorSpace===E.INDEXED){var M=this.internal.newObject();q({data:b(new Uint8Array(C.palette)),objectId:M}),D("endobj")}},s=function(){var A=this.internal.collections.addImage_images;for(var C in A)i.call(this,A[C])},o=function(){var A,C=this.internal.collections.addImage_images,D=this.internal.write;for(var q in C)D("/I"+(A=C[q]).index,A.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var A=this.internal.collections.addImage_images;return a.call(this),A},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(A){return typeof n["process"+A.toUpperCase()]=="function"},h=function(A){return Fn(A)==="object"&&A.nodeType===1},d=function(A,C){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var D=""+A.getAttribute("src");if(D.indexOf("data:image/")===0)return G0(unescape(D).split("base64,").pop());var q=n.loadFile(D,!0);if(q!==void 0)return q}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var he;switch(C){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;case"JPEG":case"JPG":default:he="image/jpeg"}return G0(A.toDataURL(he,1).split("base64,").pop())}},f=function(A){var C=this.internal.collections.addImage_images;if(C){for(var D in C)if(A===C[D].alias)return C[D]}},v=function(A,C,D){return A||C||(A=-96,C=-96),A<0&&(A=-1*D.width*72/A/this.internal.scaleFactor),C<0&&(C=-1*D.height*72/C/this.internal.scaleFactor),A===0&&(A=C*D.width/D.height),C===0&&(C=A*D.height/D.width),[A,C]},g=function(A,C,D,q,he,ne){var ee=v.call(this,D,q,he),K=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,me=l.call(this);if(D=ee[0],q=ee[1],me[he.index]=he,ne){ne*=Math.PI/180;var Ae=Math.cos(ne),N=Math.sin(ne),M=function(U){return U.toFixed(4)},j=[M(Ae),M(N),M(-1*N),M(Ae),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,K(A),Z(C+q),"cm"].join(" ")),this.internal.write(j.join(" ")),this.internal.write([K(D),"0","0",K(q),"0","0","cm"].join(" "))):this.internal.write([K(D),"0","0",K(q),K(A),Z(C+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},E=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=n.__addimage__.sHashCode=function(A){var C,D,q=0;if(typeof A=="string")for(D=A.length,C=0;C<D;C++)q=(q<<5)-q+A.charCodeAt(C),q|=0;else if(V(A))for(D=A.byteLength/2,C=0;C<D;C++)q=(q<<5)-q+A[C],q|=0;return q},x=n.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var C=!0;return A.length===0&&(C=!1),A.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(C=!1),C},R=n.__addimage__.extractImageFromDataUrl=function(A){var C=(A=A||"").split("base64,"),D=null;if(C.length===2){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(q)&&(D={mimeType:q[1],charset:q[2],data:C[1]})}return D},B=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(A){return B()&&A instanceof ArrayBuffer};var V=n.__addimage__.isArrayBufferView=function(A){return B()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},T=n.__addimage__.binaryStringToUint8Array=function(A){for(var C=A.length,D=new Uint8Array(C),q=0;q<C;q++)D[q]=A.charCodeAt(q);return D},b=n.__addimage__.arrayBufferToBinaryString=function(A){for(var C="",D=V(A)?A:new Uint8Array(A),q=0;q<D.length;q+=8192)C+=String.fromCharCode.apply(null,D.subarray(q,q+8192));return C};n.addImage=function(){var A,C,D,q,he,ne,ee,K,Z;if(typeof arguments[1]=="number"?(C=e,D=arguments[1],q=arguments[2],he=arguments[3],ne=arguments[4],ee=arguments[5],K=arguments[6],Z=arguments[7]):(C=arguments[1],D=arguments[2],q=arguments[3],he=arguments[4],ne=arguments[5],ee=arguments[6],K=arguments[7],Z=arguments[8]),Fn(A=arguments[0])==="object"&&!h(A)&&"imageData"in A){var me=A;A=me.imageData,C=me.format||C||e,D=me.x||D||0,q=me.y||q||0,he=me.w||me.width||he,ne=me.h||me.height||ne,ee=me.alias||ee,K=me.compression||K,Z=me.rotation||me.angle||Z}var Ae=this.internal.getFilters();if(K===void 0&&Ae.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(D)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var N=I.call(this,A,C,ee,K);return g.call(this,D,q,he,ne,N,Z),this};var I=function(A,C,D,q){var he,ne,ee;if(typeof A=="string"&&r(A)===e){A=unescape(A);var K=L(A,!1);(K!==""||(K=n.loadFile(A,!0))!==void 0)&&(A=K)}if(h(A)&&(A=d(A,C)),C=r(A,C),!u(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ee=D)==null||ee.length===0)&&(D=function(Z){return typeof Z=="string"||V(Z)?w(Z):V(Z.data)?w(Z.data):null}(A)),(he=f.call(this,D))||(B()&&(A instanceof Uint8Array||C==="RGBA"||(ne=A,A=T(A))),he=this["process"+C.toUpperCase()](A,c.call(this),D,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in n.image_compression?Z:_.NONE}(q),ne)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},L=n.__addimage__.convertBase64ToBinaryString=function(A,C){var D;C=typeof C!="boolean"||C;var q,he="";if(typeof A=="string"){q=(D=R(A))!==null?D.data:A;try{he=G0(q)}catch(ne){if(C)throw x(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};n.getImageProperties=function(A){var C,D,q="";if(h(A)&&(A=d(A)),typeof A=="string"&&r(A)===e&&((q=L(A,!1))===""&&(q=n.loadFile(A)||""),A=q),D=r(A),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!B()||A instanceof Uint8Array||(A=T(A)),!(C=this["process"+D.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=D,C}})(Ot.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ot.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(g.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(_(r.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(_(w))+") >>",g.content=s;var x=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(g.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(v(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var V=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Ot.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=n.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(g){var E=0,_=t,w="",x=0;for(E=0;E<g.length;E+=1)_[g.charCodeAt(E)]!==void 0?(x++,typeof(_=_[g.charCodeAt(E)])=="number"&&(w+=String.fromCharCode(_),_=t,x=0),E===g.length-1&&(_=t,w+=g.charAt(E-(x-1)),E-=x-1,x=0)):(_=t,w+=g.charAt(E-x),E-=x,x=0);return w};n.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var d=n.__arabicParser__.getCorrectForm=function(g,E,_){return o(g)?s(g)===!1?-1:!c(g)||!o(E)&&!o(_)||!o(_)&&a(E)||a(g)&&!o(E)||a(g)&&l(E)||a(g)&&a(E)?0:u(g)&&o(E)&&!a(E)&&o(_)&&c(_)?3:a(g)||!o(_)?1:2:-1},f=function(g){var E=0,_=0,w=0,x="",R="",B="",V=(g=g||"").split("\\s+"),T=[];for(E=0;E<V.length;E+=1){for(T.push(""),_=0;_<V[E].length;_+=1)x=V[E][_],R=V[E][_-1],B=V[E][_+1],o(x)?(w=d(x,R,B),T[E]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):T[E]+=x;T[E]=h(T[E])}return T.join(" ")},v=n.__arabicParser__.processArabic=n.processArabic=function(){var g,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(E)){var w=0;for(_=[],w=0;w<E.length;w+=1)Array.isArray(E[w])?_.push([f(E[w][0]),E[w][1],E[w][2]]):_.push([f(E[w])]);g=_}else g=f(E);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};n.events.push(["preProcessText",v])}(Ot.API),Ot.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ot.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,v=0,g=0,E=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,R){return x.concat(E.splitTextToSize(R,_))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(g=this.getStringUnitWidth(l[w],{font:h})*u)&&(f=g);return f!==0&&(v=l.length),{w:f/=d,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,v,g,E,_=[],w=[],x=[],R={},B={},V=[],T=[],b=(d=d||{}).autoSize||!1,I=d.printHeaders!==!1,L=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,A=d.margins||Object.assign({width:this.getPageWidth()},e),C=typeof d.padding=="number"?d.padding:3,D=d.headerBackgroundColor||"#c8c8c8",q=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=q,this.setFontSize(L),h==null)w=_=Object.keys(u[0]),x=_.map(function(){return"left"});else if(Array.isArray(h)&&Fn(h[0])==="object")for(_=h.map(function(me){return me.name}),w=h.map(function(me){return me.prompt||me.name||""}),x=h.map(function(me){return me.align||"left"}),f=0;f<h.length;f+=1)B[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(w=_=h,x=_.map(function(){return"left"}));if(b||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<_.length;f+=1){for(R[E=_[f]]=u.map(function(me){return me[E]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=R[E],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)V.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[E]=Math.max.apply(null,V)+C+C,V=[]}if(I){var he={};for(f=0;f<_.length;f+=1)he[_[f]]={},he[_[f]].text=w[f],he[_[f]].align=x[f];var ne=a.call(this,he,B);T=_.map(function(me){return new s(l,c,B[me],ne,he[me].text,void 0,he[me].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ee=h.reduce(function(me,Ae){return me[Ae.name]=Ae.align,me},{});for(f=0;f<u.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:u[f]},this);var K=a.call(this,u[f],B);for(g=0;g<_.length;g+=1){var Z=u[f][_[g]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:g,data:Z},this),o.call(this,new s(l,c,B[_[g]],K,Z,f+2,ee[_[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+u+u},this).reduce(function(f,v){return Math.max(f,v)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(v)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}}(Ot.API);var RO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q5=DO(LO),OO=[100,200,300,400,500,600,700,800,900],Rte=DO(OO);function X5(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return RO[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof Q5[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function tk(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Lte={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rk(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Ote(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Lte,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=X5(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+rk(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=Q5[l],h=u<=Q5.normal?-1:1,d=tk(c,LO,u,h);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=RO[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=Rte[l],h=tk(c,OO,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+rk(s)+"'.");return o}function ik(n){return n.trimLeft()}function Fte(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Mte(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var D1,sk,ok,zw=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=N;Object.defineProperty(this,"pdf",{get:function(){return M}});var j=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return j},set:function(Fe){j=!!Fe}});var U=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return U},set:function(Fe){U=!!Fe}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Fe){isNaN(Fe)||(Q=Fe)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(Fe){isNaN(Fe)||(ie=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Fe){var pe;typeof Fe=="number"?pe=[Fe,Fe,Fe,Fe]:((pe=new Array(4))[0]=Fe[0],pe[1]=Fe.length>=2?Fe[1]:pe[0],pe[2]=Fe.length>=3?Fe[2]:pe[0],pe[3]=Fe.length>=4?Fe[3]:pe[1]),c.margin=pe}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Fe){ge=Fe}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Fe){ve=Fe}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(Fe){Ee=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Fe){Fe instanceof u&&(c=Fe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Fe){c.path=Fe}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Fe){Me=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var pe;pe=d(Fe),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var pe=d(Fe);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var We=null;function tt(Fe,pe){if(We===null){var Ye=function(_t){var Ke=[];return Object.keys(_t).forEach(function(it){_t[it].forEach(function(ut){var ht=null;switch(ut){case"bold":ht={family:it,weight:"bold"};break;case"italic":ht={family:it,style:"italic"};break;case"bolditalic":ht={family:it,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:it}}ht!==null&&(ht.ref={name:it,style:ut},Ke.push(ht))})}),Ke}(Fe.getFontList());We=function(_t){for(var Ke={},it=0;it<_t.length;++it){var ut=X5(_t[it]),ht=ut.family,At=ut.stretch,kt=ut.style,Mt=ut.weight;Ke[ht]=Ke[ht]||{},Ke[ht][At]=Ke[ht][At]||{},Ke[ht][At][kt]=Ke[ht][At][kt]||{},Ke[ht][At][kt][Mt]=ut}return Ke}(Ye.concat(pe))}return We}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(Fe){We=null,at=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var pe;if(this.ctx.font=Fe,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var Ye=pe[1],_t=(pe[2],pe[3]),Ke=pe[4],it=(pe[5],pe[6]),ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(ut==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var ht=function(Rt){var Gt,mt,er=[],Zt=Rt.trim();if(Zt==="")return zw;if(Zt in nk)return[nk[Zt]];for(;Zt!=="";){switch(mt=null,Gt=(Zt=ik(Zt)).charAt(0)){case'"':case"'":mt=Fte(Zt.substring(1),Gt);break;default:mt=Mte(Zt)}if(mt===null||(er.push(mt[0]),(Zt=ik(mt[1]))!==""&&Zt.charAt(0)!==","))return zw;Zt=Zt.replace(/^,/,"")}return er}(it);if(this.fontFaces){var At=Ote(tt(this.pdf,this.fontFaces),ht.map(function(Rt){return{family:Rt,stretch:"normal",weight:_t,style:Ye}}));this.pdf.setFont(At.ref.name,At.ref.style)}else{var kt="";(_t==="bold"||parseInt(_t,10)>=700||Ye==="bold")&&(kt="bold"),Ye==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var Mt="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Dt=0;Dt<ht.length;Dt++){if(this.pdf.internal.getFont(ht[Dt],kt,{noFallback:!0,disableWarning:!0})!==void 0){Mt=ht[Dt];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(ht[Dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=ht[Dt],kt="bold";else if(this.pdf.internal.getFont(ht[Dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=ht[Dt],kt="normal";break}}if(Mt===""){for(var Qt=0;Qt<ht.length;Qt++)if(It[ht[Qt]]){Mt=It[ht[Qt]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};h.prototype.setLineDash=function(N){this.lineDash=N},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){R.call(this,"fill",!1)},h.prototype.stroke=function(){R.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(N,M){if(isNaN(N)||isNaN(M))throw Gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var j=this.ctx.transform.applyToPoint(new o(N,M));this.path.push({type:"mt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(N,M)},h.prototype.closePath=function(){var N=new o(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Fn(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){N=new o(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},h.prototype.lineTo=function(N,M){if(isNaN(N)||isNaN(M))throw Gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var j=this.ctx.transform.applyToPoint(new o(N,M));this.path.push({type:"lt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(j.x,j.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},h.prototype.quadraticCurveTo=function(N,M,j,U){if(isNaN(j)||isNaN(U)||isNaN(N)||isNaN(M))throw Gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o(j,U)),ie=this.ctx.transform.applyToPoint(new o(N,M));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.bezierCurveTo=function(N,M,j,U,Q,ie){if(isNaN(Q)||isNaN(ie)||isNaN(N)||isNaN(M)||isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(Q,ie)),ve=this.ctx.transform.applyToPoint(new o(N,M)),Ee=this.ctx.transform.applyToPoint(new o(j,U));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Ee.x,y2:Ee.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},h.prototype.arc=function(N,M,j,U,Q,ie){if(isNaN(N)||isNaN(M)||isNaN(j)||isNaN(U)||isNaN(Q))throw Gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(N,M));N=ge.x,M=ge.y;var ve=this.ctx.transform.applyToPoint(new o(0,j)),Ee=this.ctx.transform.applyToPoint(new o(0,0));j=Math.sqrt(Math.pow(ve.x-Ee.x,2)+Math.pow(ve.y-Ee.y,2))}Math.abs(Q-U)>=2*Math.PI&&(U=0,Q=2*Math.PI),this.path.push({type:"arc",x:N,y:M,radius:j,startAngle:U,endAngle:Q,counterclockwise:ie})},h.prototype.arcTo=function(N,M,j,U,Q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(N,M,j,U){if(isNaN(N)||isNaN(M)||isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,M),this.lineTo(N+j,M),this.lineTo(N+j,M+U),this.lineTo(N,M+U),this.lineTo(N,M),this.lineTo(N+j,M),this.lineTo(N,M)},h.prototype.fillRect=function(N,M,j,U){if(isNaN(N)||isNaN(M)||isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,M,j,U),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},h.prototype.strokeRect=function(N,M,j,U){if(isNaN(N)||isNaN(M)||isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(N,M,j,U),this.stroke())},h.prototype.clearRect=function(N,M,j,U){if(isNaN(N)||isNaN(M)||isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,M,j,U))},h.prototype.save=function(N){N=typeof N!="boolean"||N;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var U=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=U}},h.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("Q");this.pdf.setPage(M),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(N){var M,j,U,Q;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))M=0,j=0,U=0,Q=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(ie!==null)M=parseInt(ie[1]),j=parseInt(ie[2]),U=parseInt(ie[3]),Q=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)M=parseInt(ie[1]),j=parseInt(ie[2]),U=parseInt(ie[3]),Q=parseFloat(ie[4]);else{if(Q=1,typeof N=="string"&&N.charAt(0)!=="#"){var ge=new AO(N);N=ge.ok?ge.toHex():"#000000"}N.length===4?(M=N.substring(1,2),M+=M,j=N.substring(2,3),j+=j,U=N.substring(3,4),U+=U):(M=N.substring(1,3),j=N.substring(3,5),U=N.substring(5,7)),M=parseInt(M,16),j=parseInt(j,16),U=parseInt(U,16)}}return{r:M,g:j,b:U,a:Q,style:N}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(N,M,j,U){if(isNaN(M)||isNaN(j)||typeof N!="string")throw Gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(U=isNaN(U)?void 0:U,!f.call(this)){var Q=K(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;C.call(this,{text:N,x:M,y:j,scale:ie,angle:Q,align:this.textAlign,maxWidth:U})}},h.prototype.strokeText=function(N,M,j,U){if(isNaN(M)||isNaN(j)||typeof N!="string")throw Gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){U=isNaN(U)?void 0:U;var Q=K(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;C.call(this,{text:N,x:M,y:j,scale:ie,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:U})}},h.prototype.measureText=function(N){if(typeof N!="string")throw Gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,j=this.pdf.internal.scaleFactor,U=M.internal.getFontSize(),Q=M.getStringUnitWidth(N)*U/M.internal.scaleFactor,ie=function(ge){var ve=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new ie({width:Q*=Math.round(96*j/72*1e4)/1e4})},h.prototype.scale=function(N,M){if(isNaN(N)||isNaN(M))throw Gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var j=new l(N,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(j)},h.prototype.rotate=function(N){if(isNaN(N))throw Gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},h.prototype.translate=function(N,M){if(isNaN(N)||isNaN(M))throw Gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var j=new l(1,0,0,1,N,M);this.ctx.transform=this.ctx.transform.multiply(j)},h.prototype.transform=function(N,M,j,U,Q,ie){if(isNaN(N)||isNaN(M)||isNaN(j)||isNaN(U)||isNaN(Q)||isNaN(ie))throw Gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(N,M,j,U,Q,ie);this.ctx.transform=this.ctx.transform.multiply(ge)},h.prototype.setTransform=function(N,M,j,U,Q,ie){N=isNaN(N)?1:N,M=isNaN(M)?0:M,j=isNaN(j)?0:j,U=isNaN(U)?1:U,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(N,M,j,U,Q,ie)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(N,M,j,U,Q,ie,ge,ve,Ee){var Me=this.pdf.getImageProperties(N),We=1,tt=1,at=1,Fe=1;U!==void 0&&ve!==void 0&&(at=ve/U,Fe=Ee/Q,We=Me.width/U*ve/U,tt=Me.height/Q*Ee/Q),ie===void 0&&(ie=M,ge=j,M=0,j=0),U!==void 0&&ve===void 0&&(ve=U,Ee=Q),U===void 0&&ve===void 0&&(ve=Me.width,Ee=Me.height);for(var pe,Ye=this.ctx.transform.decompose(),_t=K(Ye.rotate.shx),Ke=new l,it=(Ke=(Ke=(Ke=Ke.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new a(ie-M*at,ge-j*Fe,U*We,Q*tt)),ut=E.call(this,it),ht=[],At=0;At<ut.length;At+=1)ht.indexOf(ut[At])===-1&&ht.push(ut[At]);if(x(ht),this.autoPaging)for(var kt=ht[0],Mt=ht[ht.length-1],It=kt;It<Mt+1;It++){this.pdf.setPage(It);var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=It===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=It===1?0:Rt+(It-2)*Gt;if(this.ctx.clip_path.length!==0){var er=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(pe,this.posX+this.margin[3],-mt+Qt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=er}var Zt=JSON.parse(JSON.stringify(it));Zt=w([Zt],this.posX+this.margin[3],-mt+Qt+this.ctx.prevPageLastElemOffset)[0];var _i=(It>kt||It<Mt)&&g.call(this);_i&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Gt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,_t),_i&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",it.x,it.y,it.w,it.h,null,null,_t)};var E=function(N,M,j){var U=[];M=M||this.pdf.internal.pageSize.width,j=j||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":U.push(Math.floor((N.y+Q)/j)+1);break;case"arc":U.push(Math.floor((N.y+Q-N.radius)/j)+1),U.push(Math.floor((N.y+Q+N.radius)/j)+1);break;case"qct":var ie=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);U.push(Math.floor((ie.y+Q)/j)+1),U.push(Math.floor((ie.y+ie.h+Q)/j)+1);break;case"bct":var ge=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);U.push(Math.floor((ge.y+Q)/j)+1),U.push(Math.floor((ge.y+ge.h+Q)/j)+1);break;case"rect":U.push(Math.floor((N.y+Q)/j)+1),U.push(Math.floor((N.y+N.h+Q)/j)+1)}for(var ve=0;ve<U.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<U[ve];)_.call(this);return U},_=function(){var N=this.fillStyle,M=this.strokeStyle,j=this.font,U=this.lineCap,Q=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=M,this.font=j,this.lineCap=U,this.lineWidth=Q,this.lineJoin=ie},w=function(N,M,j){for(var U=0;U<N.length;U++)switch(N[U].type){case"bct":N[U].x2+=M,N[U].y2+=j;case"qct":N[U].x1+=M,N[U].y1+=j;case"mt":case"lt":case"arc":default:N[U].x+=M,N[U].y+=j}return N},x=function(N){return N.sort(function(M,j){return M-j})},R=function(N,M){for(var j,U,Q=this.fillStyle,ie=this.strokeStyle,ge=this.lineCap,ve=this.lineWidth,Ee=Math.abs(ve*this.ctx.transform.scaleX),Me=this.lineJoin,We=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),at=[],Fe=0;Fe<tt.length;Fe++)if(tt[Fe].x!==void 0)for(var pe=E.call(this,tt[Fe]),Ye=0;Ye<pe.length;Ye+=1)at.indexOf(pe[Ye])===-1&&at.push(pe[Ye]);for(var _t=0;_t<at.length;_t++)for(;this.pdf.internal.getNumberOfPages()<at[_t];)_.call(this);if(x(at),this.autoPaging)for(var Ke=at[0],it=at[at.length-1],ut=Ke;ut<it+1;ut++){this.pdf.setPage(ut),this.fillStyle=Q,this.strokeStyle=ie,this.lineCap=ge,this.lineWidth=Ee,this.lineJoin=Me;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=ut===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=ut===1?0:kt+(ut-2)*Mt;if(this.ctx.clip_path.length!==0){var Dt=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(j,this.posX+this.margin[3],-It+At+this.ctx.prevPageLastElemOffset),B.call(this,N,!0),this.path=Dt}if(U=JSON.parse(JSON.stringify(We)),this.path=w(U,this.posX+this.margin[3],-It+At+this.ctx.prevPageLastElemOffset),M===!1||ut===0){var Qt=(ut>Ke||ut<it)&&g.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Mt,null).clip().discardPath()),B.call(this,N,M),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Ee,B.call(this,N,M),this.lineWidth=ve;this.path=We},B=function(N,M){if((N!=="stroke"||M||!v.call(this))&&(N==="stroke"||M||!f.call(this))){for(var j,U,Q=[],ie=this.path,ge=0;ge<ie.length;ge++){var ve=ie[ge];switch(ve.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ve,deltas:[],abs:[]});break;case"lt":var Ee=Q.length;if(ie[ge-1]&&!isNaN(ie[ge-1].x)&&(j=[ve.x-ie[ge-1].x,ve.y-ie[ge-1].y],Ee>0)){for(;Ee>=0;Ee--)if(Q[Ee-1].close!==!0&&Q[Ee-1].begin!==!0){Q[Ee-1].deltas.push(j),Q[Ee-1].abs.push(ve);break}}break;case"bct":j=[ve.x1-ie[ge-1].x,ve.y1-ie[ge-1].y,ve.x2-ie[ge-1].x,ve.y2-ie[ge-1].y,ve.x-ie[ge-1].x,ve.y-ie[ge-1].y],Q[Q.length-1].deltas.push(j);break;case"qct":var Me=ie[ge-1].x+2/3*(ve.x1-ie[ge-1].x),We=ie[ge-1].y+2/3*(ve.y1-ie[ge-1].y),tt=ve.x+2/3*(ve.x1-ve.x),at=ve.y+2/3*(ve.y1-ve.y),Fe=ve.x,pe=ve.y;j=[Me-ie[ge-1].x,We-ie[ge-1].y,tt-ie[ge-1].x,at-ie[ge-1].y,Fe-ie[ge-1].x,pe-ie[ge-1].y],Q[Q.length-1].deltas.push(j);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ve)}}U=M?null:N==="stroke"?"stroke":"fill";for(var Ye=!1,_t=0;_t<Q.length;_t++)if(Q[_t].arc)for(var Ke=Q[_t].abs,it=0;it<Ke.length;it++){var ut=Ke[it];ut.type==="arc"?b.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,M,!Ye):D.call(this,ut.x,ut.y),Ye=!0}else if(Q[_t].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(Q[_t].begin!==!0){var ht=Q[_t].start.x,At=Q[_t].start.y;q.call(this,Q[_t].deltas,ht,At),Ye=!0}U&&I.call(this,U),M&&L.call(this)}},V=function(N){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,j=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-j;case"top":return N+M-j;case"hanging":return N+M-2*j;case"middle":return N+M/2-j;case"ideographic":return N;case"alphabetic":default:return N}},T=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(M,j){this.colorStops.push([M,j])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(N,M,j,U,Q,ie,ge,ve,Ee){for(var Me=ne.call(this,j,U,Q,ie),We=0;We<Me.length;We++){var tt=Me[We];We===0&&(Ee?A.call(this,tt.x1+N,tt.y1+M):D.call(this,tt.x1+N,tt.y1+M)),he.call(this,N,M,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}ve?L.call(this):I.call(this,ge)},I=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(N,M){this.pdf.internal.out(t(N)+" "+r(M)+" m")},C=function(N){var M;switch(N.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var j=this.pdf.getTextDimensions(N.text),U=V.call(this,N.y),Q=T.call(this,U)-j.h,ie=this.ctx.transform.applyToPoint(new o(N.x,U)),ge=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Ee,Me,We,tt=this.ctx.transform.applyToRectangle(new a(N.x,U,j.w,j.h)),at=ve.applyToRectangle(new a(N.x,Q,j.w,j.h)),Fe=E.call(this,at),pe=[],Ye=0;Ye<Fe.length;Ye+=1)pe.indexOf(Fe[Ye])===-1&&pe.push(Fe[Ye]);if(x(pe),this.autoPaging)for(var _t=pe[0],Ke=pe[pe.length-1],it=_t;it<Ke+1;it++){this.pdf.setPage(it);var ut=it===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],kt=At-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],It=Mt-this.margin[3],Dt=it===1?0:ht+(it-2)*kt;if(this.ctx.clip_path.length!==0){var Qt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ee,this.posX+this.margin[3],-1*Dt+ut),B.call(this,"fill",!0),this.path=Qt}var Rt=w([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Dt+ut+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*N.scale),We=this.lineWidth,this.lineWidth=We*N.scale);var Gt=this.autoPaging!=="text";if(Gt||Rt.y+Rt.h<=At){if(Gt||Rt.y>=ut&&Rt.x<=Mt){var mt=Gt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Mt-Rt.x)[0],er=w([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Dt+ut+this.ctx.prevPageLastElemOffset)[0],Zt=Gt&&(it>_t||it<Ke)&&g.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,kt,null).clip().discardPath()),this.pdf.text(mt,er.x,er.y,{angle:N.angle,align:M,renderingMode:N.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Rt.y<At&&(this.ctx.prevPageLastElemOffset+=At-Rt.y);N.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=We)}else N.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*N.scale),We=this.lineWidth,this.lineWidth=We*N.scale),this.pdf.text(N.text,ie.x+this.posX,ie.y+this.posY,{angle:N.angle,align:M,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=We)},D=function(N,M,j,U){j=j||0,U=U||0,this.pdf.internal.out(t(N+j)+" "+r(M+U)+" l")},q=function(N,M,j){return this.pdf.lines(N,M,j,null,null)},he=function(N,M,j,U,Q,ie,ge,ve){this.pdf.internal.out([e(i(j+N)),e(s(U+M)),e(i(Q+N)),e(s(ie+M)),e(i(ge+N)),e(s(ve+M)),"c"].join(" "))},ne=function(N,M,j,U){for(var Q=2*Math.PI,ie=Math.PI/2;M>j;)M-=Q;var ge=Math.abs(j-M);ge<Q&&U&&(ge=Q-ge);for(var ve=[],Ee=U?-1:1,Me=M;ge>1e-5;){var We=Me+Ee*Math.min(ge,ie);ve.push(ee.call(this,N,Me,We)),ge-=Math.abs(We-Me),Me=We}return ve},ee=function(N,M,j){var U=(j-M)/2,Q=N*Math.cos(U),ie=N*Math.sin(U),ge=Q,ve=-ie,Ee=ge*ge+ve*ve,Me=Ee+ge*Q+ve*ie,We=4/3*(Math.sqrt(2*Ee*Me)-Me)/(ge*ie-ve*Q),tt=ge-We*ve,at=ve+We*ge,Fe=tt,pe=-at,Ye=U+M,_t=Math.cos(Ye),Ke=Math.sin(Ye);return{x1:N*Math.cos(M),y1:N*Math.sin(M),x2:tt*_t-at*Ke,y2:tt*Ke+at*_t,x3:Fe*_t-pe*Ke,y3:Fe*Ke+pe*_t,x4:N*Math.cos(j),y4:N*Math.sin(j)}},K=function(N){return 180*N/Math.PI},Z=function(N,M,j,U,Q,ie){var ge=N+.5*(j-N),ve=M+.5*(U-M),Ee=Q+.5*(j-Q),Me=ie+.5*(U-ie),We=Math.min(N,Q,ge,Ee),tt=Math.max(N,Q,ge,Ee),at=Math.min(M,ie,ve,Me),Fe=Math.max(M,ie,ve,Me);return new a(We,at,tt-We,Fe-at)},me=function(N,M,j,U,Q,ie,ge,ve){var Ee,Me,We,tt,at,Fe,pe,Ye,_t,Ke,it,ut,ht,At,kt=j-N,Mt=U-M,It=Q-j,Dt=ie-U,Qt=ge-Q,Rt=ve-ie;for(Me=0;Me<41;Me++)_t=(pe=(We=N+(Ee=Me/40)*kt)+Ee*((at=j+Ee*It)-We))+Ee*(at+Ee*(Q+Ee*Qt-at)-pe),Ke=(Ye=(tt=M+Ee*Mt)+Ee*((Fe=U+Ee*Dt)-tt))+Ee*(Fe+Ee*(ie+Ee*Rt-Fe)-Ye),Me==0?(it=_t,ut=Ke,ht=_t,At=Ke):(it=Math.min(it,_t),ut=Math.min(ut,Ke),ht=Math.max(ht,_t),At=Math.max(At,Ke));return new a(Math.round(it),Math.round(ut),Math.round(ht-it),Math.round(At-ut))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,M,j=(N=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:M}));this.prevLineDash!==j&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=j)}}})(Ot.API),function(n){var e=function(s){var o,a,l,c,u,h,d,f,v,g;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(g=u%85))/85)-(v=u%85))/85)-(f=u%85))/85)-(d=u%85))/85)%85,a.push(h+33,d+33,f+33,v+33,g+33)):a.push(122);return function(E,_){for(var w=_;w>0;w--)E.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,h=String,d="length",f=255,v="charCodeAt",g="slice",E="replace";for(s[g](-2),s=s[g](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[g](s[d]%5||5))[d];u>c;c+=5)a=52200625*(s[v](c)-33)+614125*(s[v](c+1)-33)+7225*(s[v](c+2)-33)+85*(s[v](c+3)-33)+(s[v](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(_,w){for(var x=w;x>0;x--)_.pop()}(l,o[d]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=q5(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ot.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,d=0,f=function(v){var g=v.length,E=[],_=String.fromCharCode;for(d=0;d<g;d+=1)E.push(_(255&v.charCodeAt(d)));return E.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(Ot.API),function(n){function e(){return(Bt.html2canvas?Promise.resolve(Bt.html2canvas):U5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Bt.DOMPurify?Promise.resolve(Bt.DOMPurify):U5(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Fn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||h.appendChild(l(d,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var f=c[d],v=f.src.find(function(g){return g.format==="truetype"});v&&l.addFont(v.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ot.getPageSize=function(o,a,l){if(Fn(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,v=0,g=0;if(d.hasOwnProperty(h))v=d[h][1]/u,g=d[h][0]/u;else try{v=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>v&&(f=g,g=v,v=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(f=g,g=v,v=f)}return{width:g,height:v,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(X5):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Ot.API),Ot.API.addJS=function(n){return ok=n,this.internal.events.subscribe("postPutResources",function(){D1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(D1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ok+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){D1!==void 0&&sk!==void 0&&this.internal.out("/Names <</JavaScript "+D1+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var d=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ot.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,g={width:0,height:0,numcomponents:1},E=4;E<v;E+=2){if(E+=f,e.indexOf(h.charCodeAt(E+1))!==-1){d=256*h.charCodeAt(E+5)+h.charCodeAt(E+6),g={width:256*h.charCodeAt(E+7)+h.charCodeAt(E+8),height:d,numcomponents:h.charCodeAt(E+9)};break}f=256*h.charCodeAt(E+2)+h.charCodeAt(E+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Ot.API);var zf,R1,ak,lk,ck,Bte=function(){var n,e,t;function r(s){var o,a,l,c,u,h,d,f,v,g,E,_,w,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),v=(function(){var R,B;for(B=[],R=0;R<4;++R)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":d=(E=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,E.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,E.slice(d+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(h,d,f,v){var g,E,_,w,x,R,B,V,T,b,I,L,A,C,D,q,he,ne,ee,K,Z,me=Math.ceil((c.width-h)/f),Ae=Math.ceil((c.height-d)/v),N=c.width==me&&c.height==Ae;for(C=o*me,L=N?a:new Uint8Array(C*Ae),R=s.length,A=0,E=0;A<Ae&&l<R;){switch(s[l++]){case 0:for(w=he=0;he<C;w=he+=1)L[E++]=s[l++];break;case 1:for(w=ne=0;ne<C;w=ne+=1)g=s[l++],x=w<o?0:L[E-o],L[E++]=(g+x)%256;break;case 2:for(w=ee=0;ee<C;w=ee+=1)g=s[l++],_=(w-w%o)/o,D=A&&L[(A-1)*C+_*o+w%o],L[E++]=(D+g)%256;break;case 3:for(w=K=0;K<C;w=K+=1)g=s[l++],_=(w-w%o)/o,x=w<o?0:L[E-o],D=A&&L[(A-1)*C+_*o+w%o],L[E++]=(g+Math.floor((x+D)/2))%256;break;case 4:for(w=Z=0;Z<C;w=Z+=1)g=s[l++],_=(w-w%o)/o,x=w<o?0:L[E-o],A===0?D=q=0:(D=L[(A-1)*C+_*o+w%o],q=_&&L[(A-1)*C+(_-1)*o+w%o]),B=x+D-q,V=Math.abs(B-x),b=Math.abs(B-D),I=Math.abs(B-q),T=V<=b&&V<=I?x:b<=I?D:q,L[E++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!N){var M=((d+A*v)*c.width+h)*o,j=A*C;for(w=0;w<me;w+=1){for(var U=0;U<o;U+=1)a[M++]=L[j++];M+=(f-1)*o}}A++}}return s=mte(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,h,d,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,d=a.length;h<d;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,h,d,f,v,g,E,_;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),v=(c=s.data||s).length,h=g||o,u=d=0,l===1)for(;u<v;)f=g?4*o[u/4]:d,E=h[f++],c[u++]=E,c[u++]=E,c[u++]=E,c[u++]=a?h[f++]:255,d=f;else for(;u<v;)f=g?4*o[u/4]:d,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=a?h[f++]:255,d=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Bt)==="[object Window]"){try{e=Bt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,h,d,f;if(this.animation){for(f=[],a=u=0,h=(d=this.animation.frames).length;u<h;a=++u)o=d[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,h,d=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(o=function(){var f,v;if(f=a++%c,v=l[f],d.renderFrame(s,f),c>1&&a/c<u)return d.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function jte(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,d=null,f=0,v=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,v=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((A=n[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=n[e++];h=n[e++]|n[e++]<<8,d=n[e++],!(1&g)&&(d=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((A=n[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var E=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,x=n[e++]|n[e++]<<8,R=n[e++],B=R>>6&1,V=1<<(7&R)+1,T=a,b=l,I=!1;R>>7&&(I=!0,T=e,b=V,e+=3*V);var L=e;for(e++;;){var A;if(!((A=n[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}u.push({x:E,y:_,width:w,height:x,has_local_palette:I,palette_offset:T,palette_size:b,data_offset:L,data_length:e-L,transparent_index:d,interlaced:!!B,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,D){var q=this.frameInfo(C),he=q.width*q.height,ne=new Uint8Array(he);uk(n,q.data_offset,ne,he);var ee=q.palette_offset,K=q.transparent_index;K===null&&(K=256);var Z=q.width,me=t-Z,Ae=Z,N=4*(q.y*t+q.x),M=4*((q.y+q.height)*t+q.x),j=N,U=4*me;q.interlaced===!0&&(U+=4*t*7);for(var Q=8,ie=0,ge=ne.length;ie<ge;++ie){var ve=ne[ie];if(Ae===0&&(Ae=Z,(j+=U)>=M&&(U=4*me+4*t*(Q-1),j=N+(Z+me)*(Q<<1),Q>>=1)),ve===K)j+=4;else{var Ee=n[ee+3*ve],Me=n[ee+3*ve+1],We=n[ee+3*ve+2];D[j++]=We,D[j++]=Me,D[j++]=Ee,D[j++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(C,D){var q=this.frameInfo(C),he=q.width*q.height,ne=new Uint8Array(he);uk(n,q.data_offset,ne,he);var ee=q.palette_offset,K=q.transparent_index;K===null&&(K=256);var Z=q.width,me=t-Z,Ae=Z,N=4*(q.y*t+q.x),M=4*((q.y+q.height)*t+q.x),j=N,U=4*me;q.interlaced===!0&&(U+=4*t*7);for(var Q=8,ie=0,ge=ne.length;ie<ge;++ie){var ve=ne[ie];if(Ae===0&&(Ae=Z,(j+=U)>=M&&(U=4*me+4*t*(Q-1),j=N+(Z+me)*(Q<<1),Q>>=1)),ve===K)j+=4;else{var Ee=n[ee+3*ve],Me=n[ee+3*ve+1],We=n[ee+3*ve+2];D[j++]=Ee,D[j++]=Me,D[j++]=We,D[j++]=255}--Ae}}}function uk(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=n[e++],v=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)h|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var E=h&c;if(h>>=l,u-=l,E!==s){if(E===o)break;for(var _=E<a?E:g,w=0,x=_;x>s;)x=v[x]>>8,++w;var R=x;if(d+w+(_!==E?1:0)>r)return void Gn.log("Warning, gif stream longer than expected.");t[d++]=R;var B=d+=w;for(_!==E&&(t[d++]=R),x=_;w--;)x=v[x],t[--B]=255&x,x>>=8;g!==null&&a<4096&&(v[a++]=g<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=E}else a=o+1,c=(1<<(l=i+1))-1,g=null}return d!==r&&Gn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function qw(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),v=new Array(64),g=[],E=0,_=7,w=new Array(64),x=new Array(64),R=new Array(64),B=new Array(256),V=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(N,M){for(var j=0,U=0,Q=new Array,ie=1;ie<=16;ie++){for(var ge=1;ge<=N[ie];ge++)Q[M[U]]=[],Q[M[U]][0]=j,Q[M[U]][1]=ie,U++,j++;j*=2}return Q}function ee(N){for(var M=N[0],j=N[1]-1;j>=0;)M&1<<j&&(E|=1<<_),j--,--_<0&&(E==255?(K(255),K(0)):K(E),_=7,E=0)}function K(N){g.push(N)}function Z(N){K(N>>8&255),K(255&N)}function me(N,M,j,U,Q){for(var ie,ge=Q[0],ve=Q[240],Ee=function(Ke,it){var ut,ht,At,kt,Mt,It,Dt,Qt,Rt,Gt,mt=0;for(Rt=0;Rt<8;++Rt){ut=Ke[mt],ht=Ke[mt+1],At=Ke[mt+2],kt=Ke[mt+3],Mt=Ke[mt+4],It=Ke[mt+5],Dt=Ke[mt+6];var er=ut+(Qt=Ke[mt+7]),Zt=ut-Qt,_i=ht+Dt,hn=ht-Dt,Vn=At+It,xs=At-It,rn=kt+Mt,Ws=kt-Mt,Wn=er+rn,Kr=er-rn,is=_i+Vn,_n=_i-Vn;Ke[mt]=Wn+is,Ke[mt+4]=Wn-is;var Pt=.707106781*(_n+Kr);Ke[mt+2]=Kr+Pt,Ke[mt+6]=Kr-Pt;var un=.382683433*((Wn=Ws+xs)-(_n=hn+Zt)),Es=.5411961*Wn+un,_r=1.306562965*_n+un,ri=.707106781*(is=xs+hn),ss=Zt+ri,xt=Zt-ri;Ke[mt+5]=xt+Es,Ke[mt+3]=xt-Es,Ke[mt+1]=ss+_r,Ke[mt+7]=ss-_r,mt+=8}for(mt=0,Rt=0;Rt<8;++Rt){ut=Ke[mt],ht=Ke[mt+8],At=Ke[mt+16],kt=Ke[mt+24],Mt=Ke[mt+32],It=Ke[mt+40],Dt=Ke[mt+48];var ji=ut+(Qt=Ke[mt+56]),Br=ut-Qt,wr=ht+Dt,dr=ht-Dt,ur=At+It,z=At-It,ce=kt+Mt,re=kt-Mt,se=ji+ce,le=ji-ce,ue=wr+ur,Ce=wr-ur;Ke[mt]=se+ue,Ke[mt+32]=se-ue;var Oe=.707106781*(Ce+le);Ke[mt+16]=le+Oe,Ke[mt+48]=le-Oe;var ke=.382683433*((se=re+z)-(Ce=dr+Br)),Ie=.5411961*se+ke,Re=1.306562965*Ce+ke,Xe=.707106781*(ue=z+dr),st=Br+Xe,gt=Br-Xe;Ke[mt+40]=gt+Ie,Ke[mt+24]=gt-Ie,Ke[mt+8]=st+Re,Ke[mt+56]=st-Re,mt++}for(Rt=0;Rt<64;++Rt)Gt=Ke[Rt]*it[Rt],f[Rt]=Gt>0?Gt+.5|0:Gt-.5|0;return f}(N,M),Me=0;Me<64;++Me)v[T[Me]]=Ee[Me];var We=v[0]-j;j=v[0],We==0?ee(U[0]):(ee(U[d[ie=32767+We]]),ee(h[ie]));for(var tt=63;tt>0&&v[tt]==0;)tt--;if(tt==0)return ee(ge),j;for(var at,Fe=1;Fe<=tt;){for(var pe=Fe;v[Fe]==0&&Fe<=tt;)++Fe;var Ye=Fe-pe;if(Ye>=16){at=Ye>>4;for(var _t=1;_t<=at;++_t)ee(ve);Ye&=15}ie=32767+v[Fe],ee(Q[(Ye<<4)+d[ie]]),ee(h[ie]),Fe++}return tt!=63&&ee(ge),j}function Ae(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(M){for(var j=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],U=0;U<64;U++){var Q=o((j[U]*M+50)/100);Q=Math.min(Math.max(Q,1),255),a[T[U]]=Q}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ve=o((ie[ge]*M+50)/100);ve=Math.min(Math.max(ve,1),255),l[T[ge]]=ve}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,We=0;We<8;We++)for(var tt=0;tt<8;tt++)c[Me]=1/(a[T[Me]]*Ee[We]*Ee[tt]*8),u[Me]=1/(l[T[Me]]*Ee[We]*Ee[tt]*8),Me++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,M){M&&Ae(M),g=new Array,E=0,_=7,Z(65496),Z(65504),Z(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),Z(1),Z(1),K(0),K(0),function(){Z(65499),Z(132),K(0);for(var ht=0;ht<64;ht++)K(a[ht]);K(1);for(var At=0;At<64;At++)K(l[At])}(),function(ht,At){Z(65472),Z(17),K(8),Z(At),Z(ht),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(N.width,N.height),function(){Z(65476),Z(418),K(0);for(var ht=0;ht<16;ht++)K(b[ht+1]);for(var At=0;At<=11;At++)K(I[At]);K(16);for(var kt=0;kt<16;kt++)K(L[kt+1]);for(var Mt=0;Mt<=161;Mt++)K(A[Mt]);K(1);for(var It=0;It<16;It++)K(C[It+1]);for(var Dt=0;Dt<=11;Dt++)K(D[Dt]);K(17);for(var Qt=0;Qt<16;Qt++)K(q[Qt+1]);for(var Rt=0;Rt<=161;Rt++)K(he[Rt])}(),Z(65498),Z(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var j=0,U=0,Q=0;E=0,_=7,this.encode.displayName="_encode_";for(var ie,ge,ve,Ee,Me,We,tt,at,Fe,pe=N.data,Ye=N.width,_t=N.height,Ke=4*Ye,it=0;it<_t;){for(ie=0;ie<Ke;){for(Me=Ke*it+ie,tt=-1,at=0,Fe=0;Fe<64;Fe++)We=Me+(at=Fe>>3)*Ke+(tt=4*(7&Fe)),it+at>=_t&&(We-=Ke*(it+1+at-_t)),ie+tt>=Ke&&(We-=ie+tt-Ke+4),ge=pe[We++],ve=pe[We++],Ee=pe[We++],w[Fe]=(V[ge]+V[ve+256>>0]+V[Ee+512>>0]>>16)-128,x[Fe]=(V[ge+768>>0]+V[ve+1024>>0]+V[Ee+1280>>0]>>16)-128,R[Fe]=(V[ge+1280>>0]+V[ve+1536>>0]+V[Ee+1792>>0]>>16)-128;j=me(w,c,j,e,r),U=me(x,u,U,t,i),Q=me(R,u,Q,t,i),ie+=32}it+=8}if(_>=0){var ut=[];ut[1]=_+1,ut[0]=(1<<_+1)-1,ee(ut)}return Z(65497),new Uint8Array(g)},n=n||50,function(){for(var N=String.fromCharCode,M=0;M<256;M++)B[M]=N(M)}(),e=ne(b,I),t=ne(C,D),r=ne(L,A),i=ne(q,he),function(){for(var N=1,M=2,j=1;j<=15;j++){for(var U=N;U<M;U++)d[32767+U]=j,h[32767+U]=[],h[32767+U][1]=j,h[32767+U][0]=U;for(var Q=-(M-1);Q<=-N;Q++)d[32767+Q]=j,h[32767+Q]=[],h[32767+Q][1]=j,h[32767+Q][0]=M-1+Q;N<<=1,M<<=1}}(),function(){for(var N=0;N<256;N++)V[N]=19595*N,V[N+256>>0]=38470*N,V[N+512>>0]=7471*N+32768,V[N+768>>0]=-11059*N,V[N+1024>>0]=-21709*N,V[N+1280>>0]=32768*N+8421375,V[N+1536>>0]=-27439*N,V[N+1792>>0]=-5329*N}(),Ae(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hk(n){function e(b){if(!b)throw Error("assert :P")}function t(b,I,L){for(var A=0;4>A;A++)if(b[I+A]!=L.charCodeAt(A))return!0;return!1}function r(b,I,L,A,C){for(var D=0;D<C;D++)b[I+D]=L[A+D]}function i(b,I,L,A){for(var C=0;C<A;C++)b[I+C]=L}function s(b){return new Int32Array(b)}function o(b,I){for(var L=[],A=0;A<b;A++)L.push(new I);return L}function a(b,I){var L=[];return function A(C,D,q){for(var he=q[D],ne=0;ne<he&&(C.push(q.length>D+1?[]:new I),!(q.length<D+1));ne++)A(C[ne],D+1,q)}(L,0,b),L}var l=function(){var b=this;function I(p,y){for(var k=1<<y-1>>>0;p&k;)k>>>=1;return k?(p&k-1)+k:p}function L(p,y,k,O,H){e(!(O%k));do p[y+(O-=k)]=H;while(0<O)}function A(p,y,k,O,H){if(e(2328>=H),512>=H)var Y=s(512);else if((Y=s(H))==null)return 0;return function(G,J,te,oe,_e,Ne){var Pe,be,$e=J,Be=1<<te,we=s(16),xe=s(16);for(e(_e!=0),e(oe!=null),e(G!=null),e(0<te),be=0;be<_e;++be){if(15<oe[be])return 0;++we[oe[be]]}if(we[0]==_e)return 0;for(xe[1]=0,Pe=1;15>Pe;++Pe){if(we[Pe]>1<<Pe)return 0;xe[Pe+1]=xe[Pe]+we[Pe]}for(be=0;be<_e;++be)Pe=oe[be],0<oe[be]&&(Ne[xe[Pe]++]=be);if(xe[15]==1)return(oe=new C).g=0,oe.value=Ne[0],L(G,$e,1,Be,oe),Be;var ze,Qe=-1,qe=Be-1,wt=0,dt=1,Lt=1,vt=1<<te;for(be=0,Pe=1,_e=2;Pe<=te;++Pe,_e<<=1){if(dt+=Lt<<=1,0>(Lt-=we[Pe]))return 0;for(;0<we[Pe];--we[Pe])(oe=new C).g=Pe,oe.value=Ne[be++],L(G,$e+wt,_e,vt,oe),wt=I(wt,Pe)}for(Pe=te+1,_e=2;15>=Pe;++Pe,_e<<=1){if(dt+=Lt<<=1,0>(Lt-=we[Pe]))return 0;for(;0<we[Pe];--we[Pe]){if(oe=new C,(wt&qe)!=Qe){for($e+=vt,ze=1<<(Qe=Pe)-te;15>Qe&&!(0>=(ze-=we[Qe]));)++Qe,ze<<=1;Be+=vt=1<<(ze=Qe-te),G[J+(Qe=wt&qe)].g=ze+te,G[J+Qe].value=$e-J-Qe}oe.g=Pe-te,oe.value=Ne[be++],L(G,$e+(wt>>te),_e,vt,oe),wt=I(wt,Pe)}}return dt!=2*xe[15]-1?0:Be}(p,y,k,O,H,Y)}function C(){this.value=this.g=0}function D(){this.value=this.g=0}function q(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Si,D)}function he(p,y,k,O){e(p!=null),e(y!=null),e(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=k,p.Jd=y,p.Yc=k+O,p.Zc=4<=O?k+O-4+1:k,ie(p)}function ne(p,y){for(var k=0;0<y--;)k|=ve(p,128)<<y;return k}function ee(p,y){var k=ne(p,y);return ge(p)?-k:k}function K(p,y,k,O){var H,Y=0;for(e(p!=null),e(y!=null),e(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),H=0;H<O;++H)Y+=y[k+H]<<8*H;p.Ra=Y,p.bb=O,p.oa=y,p.pa=k}function Z(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<kf-8>>>0,++p.bb,p.u-=8;j(p)&&(p.h=1,p.u=0)}function me(p,y){if(e(0<=y),!p.h&&y<=Cf){var k=M(p)&Af[y];return p.u+=y,Z(p),k}return p.h=1,p.u=0}function Ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(p){return p.Ra>>>(p.u&kf-1)>>>0}function j(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>kf}function U(p,y){p.u=y,p.h=j(p)}function Q(p){p.u>=Np&&(e(p.u>=Np),Z(p))}function ie(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ge(p){return ne(p,1)}function ve(p,y){var k=p.Ca;0>p.b&&ie(p);var O=p.b,H=k*y>>>8,Y=(p.I>>>O>H)+0;for(Y?(k-=H,p.I-=H+1<<O>>>0):k=H+1,O=k,H=0;256<=O;)H+=8,O>>=8;return O=7^H+bs[O],p.b-=O,p.Ca=(k<<O)-1,Y}function Ee(p,y,k){p[y+0]=k>>24&255,p[y+1]=k>>16&255,p[y+2]=k>>8&255,p[y+3]=k>>0&255}function Me(p,y){return p[y+0]<<0|p[y+1]<<8}function We(p,y){return Me(p,y)|p[y+2]<<16}function tt(p,y){return Me(p,y)|Me(p,y+2)<<16}function at(p,y){var k=1<<y;return e(p!=null),e(0<y),p.X=s(k),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Fe(p,y){e(p!=null),e(y!=null),e(p.Xa==y.Xa),r(y.X,0,p.X,0,1<<y.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function Ye(p,y,k,O){e(k!=null),e(O!=null);var H=k[0],Y=O[0];return H==0&&(H=(p*Y+y/2)/y),Y==0&&(Y=(y*H+p/2)/p),0>=H||0>=Y?0:(k[0]=H,O[0]=Y,1)}function _t(p,y){return p+(1<<y)-1>>>y}function Ke(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function it(p,y){b[y]=function(k,O,H,Y,G,J,te){var oe;for(oe=0;oe<G;++oe){var _e=b[p](J[te+oe-1],H,Y+oe);J[te+oe]=Ke(k[O+oe],_e)}}}function ut(){this.ud=this.hd=this.jd=0}function ht(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function At(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function kt(p,y){return At(p+(p-y+.5>>1))}function Mt(p,y,k){return Math.abs(y-k)-Math.abs(p-k)}function It(p,y,k,O,H,Y,G){for(O=Y[G-1],k=0;k<H;++k)Y[G+k]=O=Ke(p[y+k],O)}function Dt(p,y,k,O,H){var Y;for(Y=0;Y<k;++Y){var G=p[y+Y],J=G>>8&255,te=16711935&(te=(te=16711935&G)+((J<<16)+J));O[H+Y]=(4278255360&G)+te>>>0}}function Qt(p,y){y.jd=p>>0&255,y.hd=p>>8&255,y.ud=p>>16&255}function Rt(p,y,k,O,H,Y){var G;for(G=0;G<O;++G){var J=y[k+G],te=J>>>8,oe=J,_e=255&(_e=(_e=J>>>16)+((p.jd<<24>>24)*(te<<24>>24)>>>5));oe=255&(oe=(oe=oe+((p.hd<<24>>24)*(te<<24>>24)>>>5))+((p.ud<<24>>24)*(_e<<24>>24)>>>5)),H[Y+G]=(4278255360&J)+(_e<<16)+oe}}function Gt(p,y,k,O,H){b[y]=function(Y,G,J,te,oe,_e,Ne,Pe,be){for(te=Ne;te<Pe;++te)for(Ne=0;Ne<be;++Ne)oe[_e++]=H(J[O(Y[G++])])},b[p]=function(Y,G,J,te,oe,_e,Ne){var Pe=8>>Y.b,be=Y.Ea,$e=Y.K[0],Be=Y.w;if(8>Pe)for(Y=(1<<Y.b)-1,Be=(1<<Pe)-1;G<J;++G){var we,xe=0;for(we=0;we<be;++we)we&Y||(xe=O(te[oe++])),_e[Ne++]=H($e[xe&Be]),xe>>=Pe}else b["VP8LMapColor"+k](te,oe,$e,Be,_e,Ne,G,J,be)}}function mt(p,y,k,O,H){for(k=y+k;y<k;){var Y=p[y++];O[H++]=Y>>16&255,O[H++]=Y>>8&255,O[H++]=Y>>0&255}}function er(p,y,k,O,H){for(k=y+k;y<k;){var Y=p[y++];O[H++]=Y>>16&255,O[H++]=Y>>8&255,O[H++]=Y>>0&255,O[H++]=Y>>24&255}}function Zt(p,y,k,O,H){for(k=y+k;y<k;){var Y=(G=p[y++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;O[H++]=Y,O[H++]=G}}function _i(p,y,k,O,H){for(k=y+k;y<k;){var Y=(G=p[y++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;O[H++]=Y,O[H++]=G}}function hn(p,y,k,O,H){for(k=y+k;y<k;){var Y=p[y++];O[H++]=Y>>0&255,O[H++]=Y>>8&255,O[H++]=Y>>16&255}}function Vn(p,y,k,O,H,Y){if(Y==0)for(k=y+k;y<k;)Ee(O,((Y=p[y++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),H+=32;else r(O,H,p,y,k)}function xs(p,y){b[y][0]=b[p+"0"],b[y][1]=b[p+"1"],b[y][2]=b[p+"2"],b[y][3]=b[p+"3"],b[y][4]=b[p+"4"],b[y][5]=b[p+"5"],b[y][6]=b[p+"6"],b[y][7]=b[p+"7"],b[y][8]=b[p+"8"],b[y][9]=b[p+"9"],b[y][10]=b[p+"10"],b[y][11]=b[p+"11"],b[y][12]=b[p+"12"],b[y][13]=b[p+"13"],b[y][14]=b[p+"0"],b[y][15]=b[p+"0"]}function rn(p){return p==x_||p==E_||p==Bg||p==S_}function Ws(){this.eb=[],this.size=this.A=this.fb=0}function Wn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ws,this.f.kb=new Wn,this.sd=null}function is(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _n(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function un(p,y){var k=p.T,O=y.ba.f.RGBA,H=O.eb,Y=O.fb+p.ka*O.A,G=xo[y.ba.S],J=p.y,te=p.O,oe=p.f,_e=p.N,Ne=p.ea,Pe=p.W,be=y.cc,$e=y.dc,Be=y.Mc,we=y.Nc,xe=p.ka,ze=p.ka+p.T,Qe=p.U,qe=Qe+1>>1;for(xe==0?G(J,te,null,null,oe,_e,Ne,Pe,oe,_e,Ne,Pe,H,Y,null,null,Qe):(G(y.ec,y.fc,J,te,be,$e,Be,we,oe,_e,Ne,Pe,H,Y-O.A,H,Y,Qe),++k);xe+2<ze;xe+=2)be=oe,$e=_e,Be=Ne,we=Pe,_e+=p.Rc,Pe+=p.Rc,Y+=2*O.A,G(J,(te+=2*p.fa)-p.fa,J,te,be,$e,Be,we,oe,_e,Ne,Pe,H,Y-O.A,H,Y,Qe);return te+=p.fa,p.j+ze<p.o?(r(y.ec,y.fc,J,te,Qe),r(y.cc,y.dc,oe,_e,qe),r(y.Mc,y.Nc,Ne,Pe,qe),k--):1&ze||G(J,te,null,null,oe,_e,Ne,Pe,oe,_e,Ne,Pe,H,Y+O.A,null,null,Qe),k}function Es(p,y,k){var O=p.F,H=[p.J];if(O!=null){var Y=p.U,G=y.ba.S,J=G==Mg||G==Bg;y=y.ba.f.RGBA;var te=[0],oe=p.ka;te[0]=p.T,p.Kb&&(oe==0?--te[0]:(--oe,H[0]-=p.width),p.j+p.ka+p.T==p.o&&(te[0]=p.o-p.j-oe));var _e=y.eb;oe=y.fb+oe*y.A,p=Xn(O,H[0],p.width,Y,te,_e,oe+(J?0:3),y.A),e(k==te),p&&rn(G)&&_o(_e,oe,J,Y,te,y.A)}return 0}function _r(p){var y=p.ma,k=y.ba.S,O=11>k,H=k==Og||k==Fg||k==Mg||k==w_||k==12||rn(k);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!kp(y.Oa,p,H?11:12))return 0;if(H&&rn(k)&&Je(),p.da)alert("todo:use_scaling");else{if(O){if(y.Ib=Pt,p.Kb){if(k=p.U+1>>1,y.memory=s(p.U+2*k),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+k,y.Ib=un,Je()}}else alert("todo:EmitYUV");H&&(y.Jb=Es,O&&Te())}if(O&&!Ob){for(p=0;256>p;++p)VF[p]=89858*(p-128)+Ug>>jg,zF[p]=-22014*(p-128)+Ug,HF[p]=-45773*(p-128),WF[p]=113618*(p-128)+Ug>>jg;for(p=Mp;p<A_;++p)y=76283*(p-16)+Ug>>jg,qF[p-Mp]=An(y,255),$F[p-Mp]=An(y+8>>4,15);Ob=1}return 1}function ri(p){var y=p.ma,k=p.U,O=p.T;return e(!(1&p.ka)),0>=k||0>=O?0:(k=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,k),y.Dc+=k,1)}function ss(p){p.ma.memory=null}function xt(p,y,k,O){return me(p,8)!=47?0:(y[0]=me(p,14)+1,k[0]=me(p,14)+1,O[0]=me(p,1),me(p,3)!=0?0:!p.h)}function ji(p,y){if(4>p)return p+1;var k=p-2>>1;return(2+(1&p)<<k)+me(y,k)+1}function Br(p,y){return 120<y?y-120:1<=(k=((k=CF[y-1])>>4)*p+(8-(15&k)))?k:1;var k}function wr(p,y,k){var O=M(k),H=p[y+=255&O].g-8;return 0<H&&(U(k,k.u+8),O=M(k),y+=p[y].value,y+=O&(1<<H)-1),U(k,k.u+p[y].g),p[y].value}function dr(p,y,k){return k.g+=p.g,k.value+=p.value<<y>>>0,e(8>=k.g),p.g}function ur(p,y,k){var O=p.xc;return e((y=O==0?0:p.vc[p.md*(k>>O)+(y>>O)])<p.Wb),p.Ya[y]}function z(p,y,k,O){var H=p.ab,Y=p.c*y,G=p.C;y=G+y;var J=k,te=O;for(O=p.Ta,k=p.Ua;0<H--;){var oe=p.gc[H],_e=G,Ne=y,Pe=J,be=te,$e=(te=O,J=k,oe.Ea);switch(e(_e<Ne),e(Ne<=oe.nc),oe.hc){case 2:kg(Pe,be,(Ne-_e)*$e,te,J);break;case 0:var Be=_e,we=Ne,xe=te,ze=J,Qe=(vt=oe).Ea;Be==0&&(y_(Pe,be,null,null,1,xe,ze),It(Pe,be+1,0,0,Qe-1,xe,ze+1),be+=Qe,ze+=Qe,++Be);for(var qe=1<<vt.b,wt=qe-1,dt=_t(Qe,vt.b),Lt=vt.K,vt=vt.w+(Be>>vt.b)*dt;Be<we;){var wn=Lt,kn=vt,mn=1;for(Pp(Pe,be,xe,ze-Qe,1,xe,ze);mn<Qe;){var an=(mn&~wt)+qe;an>Qe&&(an=Qe),(0,yc[wn[kn++]>>8&15])(Pe,be+ +mn,xe,ze+mn-Qe,an-mn,xe,ze+mn),mn=an}be+=Qe,ze+=Qe,++Be&wt||(vt+=dt)}Ne!=oe.nc&&r(te,J-$e,te,J+(Ne-_e-1)*$e,$e);break;case 1:for($e=Pe,we=be,Qe=(Pe=oe.Ea)-(ze=Pe&~(xe=(be=1<<oe.b)-1)),Be=_t(Pe,oe.b),qe=oe.K,oe=oe.w+(_e>>oe.b)*Be;_e<Ne;){for(wt=qe,dt=oe,Lt=new ut,vt=we+ze,wn=we+Pe;we<vt;)Qt(wt[dt++],Lt),eh(Lt,$e,we,be,te,J),we+=be,J+=be;we<wn&&(Qt(wt[dt++],Lt),eh(Lt,$e,we,Qe,te,J),we+=Qe,J+=Qe),++_e&xe||(oe+=Be)}break;case 3:if(Pe==te&&be==J&&0<oe.b){for(we=te,Pe=$e=J+(Ne-_e)*$e-(ze=(Ne-_e)*_t(oe.Ea,oe.b)),be=te,xe=J,Be=[],ze=(Qe=ze)-1;0<=ze;--ze)Be[ze]=be[xe+ze];for(ze=Qe-1;0<=ze;--ze)we[Pe+ze]=Be[ze];go(oe,_e,Ne,te,$e,te,J)}else go(oe,_e,Ne,Pe,be,te,J)}J=O,te=k}te!=k&&r(O,k,J,te,Y)}function ce(p,y){var k=p.V,O=p.Ba+p.c*p.C,H=y-p.C;if(e(y<=p.l.o),e(16>=H),0<H){var Y=p.l,G=p.Ta,J=p.Ua,te=Y.width;if(z(p,H,k,O),H=J=[J],e((k=p.C)<(O=y)),e(Y.v<Y.va),O>Y.o&&(O=Y.o),k<Y.j){var oe=Y.j-k;k=Y.j,H[0]+=oe*te}if(k>=O?k=0:(H[0]+=4*Y.v,Y.ka=k-Y.j,Y.U=Y.va-Y.v,Y.T=O-k,k=1),k){if(J=J[0],11>(k=p.ca).S){var _e=k.f.RGBA,Ne=(O=k.S,H=Y.U,Y=Y.T,oe=_e.eb,_e.A),Pe=Y;for(_e=_e.fb+p.Ma*_e.A;0<Pe--;){var be=G,$e=J,Be=H,we=oe,xe=_e;switch(O){case Lg:As(be,$e,Be,we,xe);break;case Og:ls(be,$e,Be,we,xe);break;case x_:ls(be,$e,Be,we,xe),_o(we,xe,0,Be,1,0);break;case bb:fl(be,$e,Be,we,xe);break;case Fg:Vn(be,$e,Be,we,xe,1);break;case E_:Vn(be,$e,Be,we,xe,1),_o(we,xe,0,Be,1,0);break;case Mg:Vn(be,$e,Be,we,xe,0);break;case Bg:Vn(be,$e,Be,we,xe,0),_o(we,xe,1,Be,1,0);break;case w_:_c(be,$e,Be,we,xe);break;case S_:_c(be,$e,Be,we,xe),Qn(we,xe,Be,1,0);break;case Ab:hl(be,$e,Be,we,xe);break;default:e(0)}J+=te,_e+=Ne}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=k.height)}}p.C=y,e(p.C<=p.i)}function re(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var k=p.Ya[y].G,O=p.Ya[y].H;if(0<k[1][O[1]+0].g||0<k[2][O[2]+0].g||0<k[3][O[3]+0].g)return 0}return 1}function se(p,y,k,O,H,Y){if(p.Z!=0){var G=p.qd,J=p.rd;for(e(Sc[p.Z]!=null);y<k;++y)Sc[p.Z](G,J,O,H,O,H,Y),G=O,J=H,H+=Y;p.qd=G,p.rd=J}}function le(p,y){var k=p.l.ma,O=k.Z==0||k.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,e(y<=p.l.o),y>O){var H=p.l.width,Y=k.ca,G=k.tb+H*O,J=p.V,te=p.Ba+p.c*O,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),Ig(oe[0],O,y,J,te,Y,G),se(k,O,y,Y,G,H)}p.C=p.Ma=y}function ue(p,y,k,O,H,Y,G){var J=p.$/O,te=p.$%O,oe=p.m,_e=p.s,Ne=k+p.$,Pe=Ne;H=k+O*H;var be=k+O*Y,$e=280+_e.ua,Be=p.Pb?J:16777216,we=0<_e.ua?_e.Wa:null,xe=_e.wc,ze=Ne<be?ur(_e,te,J):null;e(p.C<Y),e(be<=H);var Qe=!1;e:for(;;){for(;Qe||Ne<be;){var qe=0;if(J>=Be){var wt=Ne-k;e((Be=p).Pb),Be.wd=Be.m,Be.xd=wt,0<Be.s.ua&&Fe(Be.s.Wa,Be.s.vb),Be=J+IF}if(te&xe||(ze=ur(_e,te,J)),e(ze!=null),ze.Qb&&(y[Ne]=ze.qb,Qe=!0),!Qe)if(Q(oe),ze.jc){qe=oe,wt=y;var dt=Ne,Lt=ze.pd[M(qe)&Si-1];e(ze.jc),256>Lt.g?(U(qe,qe.u+Lt.g),wt[dt]=Lt.value,qe=0):(U(qe,qe.u+Lt.g-256),e(256<=Lt.value),qe=Lt.value),qe==0&&(Qe=!0)}else qe=wr(ze.G[0],ze.H[0],oe);if(oe.h)break;if(Qe||256>qe){if(!Qe)if(ze.nd)y[Ne]=(ze.qb|qe<<8)>>>0;else{if(Q(oe),Qe=wr(ze.G[1],ze.H[1],oe),Q(oe),wt=wr(ze.G[2],ze.H[2],oe),dt=wr(ze.G[3],ze.H[3],oe),oe.h)break;y[Ne]=(dt<<24|Qe<<16|qe<<8|wt)>>>0}if(Qe=!1,++Ne,++te>=O&&(te=0,++J,G!=null&&J<=Y&&!(J%16)&&G(p,J),we!=null))for(;Pe<Ne;)qe=y[Pe++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else if(280>qe){if(qe=ji(qe-256,oe),wt=wr(ze.G[4],ze.H[4],oe),Q(oe),wt=Br(O,wt=ji(wt,oe)),oe.h)break;if(Ne-k<wt||H-Ne<qe)break e;for(dt=0;dt<qe;++dt)y[Ne+dt]=y[Ne+dt-wt];for(Ne+=qe,te+=qe;te>=O;)te-=O,++J,G!=null&&J<=Y&&!(J%16)&&G(p,J);if(e(Ne<=H),te&xe&&(ze=ur(_e,te,J)),we!=null)for(;Pe<Ne;)qe=y[Pe++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else{if(!(qe<$e))break e;for(Qe=qe-280,e(we!=null);Pe<Ne;)qe=y[Pe++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe;qe=Ne,e(!(Qe>>>(wt=we).Xa)),y[qe]=wt.X[Qe],Qe=!0}Qe||e(oe.h==j(oe))}if(p.Pb&&oe.h&&Ne<H)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Fe(p.s.vb,p.s.Wa);else{if(oe.h)break e;G!=null&&G(p,J>Y?Y:J),p.a=0,p.$=Ne-k}return 1}return p.a=3,0}function Ce(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,e(p!=null)}function Oe(){var p=new Tf;return p==null?null:(p.a=0,p.xb=Ib,xs("Predictor","VP8LPredictors"),xs("Predictor","VP8LPredictors_C"),xs("PredictorAdd","VP8LPredictorsAdd"),xs("PredictorAdd","VP8LPredictorsAdd_C"),kg=Dt,eh=Rt,As=mt,ls=er,_c=Zt,hl=_i,fl=hn,b.VP8LMapColor32b=If,b.VP8LMapColor8b=Ng,p)}function ke(p,y,k,O,H){var Y=1,G=[p],J=[y],te=O.m,oe=O.s,_e=null,Ne=0;e:for(;;){if(k)for(;Y&&me(te,1);){var Pe=G,be=J,$e=O,Be=1,we=$e.m,xe=$e.gc[$e.ab],ze=me(we,2);if($e.Oc&1<<ze)Y=0;else{switch($e.Oc|=1<<ze,xe.hc=ze,xe.Ea=Pe[0],xe.nc=be[0],xe.K=[null],++$e.ab,e(4>=$e.ab),ze){case 0:case 1:xe.b=me(we,3)+2,Be=ke(_t(xe.Ea,xe.b),_t(xe.nc,xe.b),0,$e,xe.K),xe.K=xe.K[0];break;case 3:var Qe,qe=me(we,8)+1,wt=16<qe?0:4<qe?1:2<qe?2:3;if(Pe[0]=_t(xe.Ea,wt),xe.b=wt,Qe=Be=ke(qe,1,0,$e,xe.K)){var dt,Lt=qe,vt=xe,wn=1<<(8>>vt.b),kn=s(wn);if(kn==null)Qe=0;else{var mn=vt.K[0],an=vt.w;for(kn[0]=vt.K[0][0],dt=1;dt<1*Lt;++dt)kn[dt]=Ke(mn[an+dt],kn[dt-1]);for(;dt<4*wn;++dt)kn[dt]=0;vt.K[0]=null,vt.K[0]=kn,Qe=1}}Be=Qe;break;case 2:break;default:e(0)}Y=Be}}if(G=G[0],J=J[0],Y&&me(te,1)&&!(Y=1<=(Ne=me(te,4))&&11>=Ne)){O.a=3;break e}var Yn;if(Yn=Y)t:{var zn,Kt,jr,Cs=O,Ur=G,ks=J,In=Ne,Ks=k,Qs=Cs.m,ii=Cs.s,Ti=[null],us=1,Eo=0,Ta=kF[In];n:for(;;){if(Ks&&me(Qs,1)){var si=me(Qs,3)+2,gl=_t(Ur,si),sh=_t(ks,si),Lf=gl*sh;if(!ke(gl,sh,0,Cs,Ti))break n;for(Ti=Ti[0],ii.xc=si,zn=0;zn<Lf;++zn){var Tc=Ti[zn]>>8&65535;Ti[zn]=Tc,Tc>=us&&(us=Tc+1)}}if(Qs.h)break n;for(Kt=0;5>Kt;++Kt){var Er=Cb[Kt];!Kt&&0<In&&(Er+=1<<In),Eo<Er&&(Eo=Er)}var C_=o(us*Ta,C),Bb=us,jb=o(Bb,q);if(jb==null)var Wg=null;else e(65536>=Bb),Wg=jb;var Bp=s(Eo);if(Wg==null||Bp==null||C_==null){Cs.a=1;break n}var Hg=C_;for(zn=jr=0;zn<us;++zn){var qo=Wg[zn],Of=qo.G,Ff=qo.H,Ub=0,zg=1,Vb=0;for(Kt=0;5>Kt;++Kt){Er=Cb[Kt],Of[Kt]=Hg,Ff[Kt]=jr,!Kt&&0<In&&(Er+=1<<In);i:{var qg,k_=Er,$g=Cs,jp=Bp,KF=Hg,QF=jr,I_=0,bc=$g.m,XF=me(bc,1);if(i(jp,0,0,k_),XF){var JF=me(bc,1)+1,ZF=me(bc,1),Wb=me(bc,ZF==0?1:8);jp[Wb]=1,JF==2&&(jp[Wb=me(bc,8)]=1);var Yg=1}else{var Hb=s(19),zb=me(bc,4)+4;if(19<zb){$g.a=3;var Gg=0;break i}for(qg=0;qg<zb;++qg)Hb[AF[qg]]=me(bc,3);var N_=void 0,Up=void 0,qb=$g,e8=Hb,Kg=k_,$b=jp,P_=0,Ac=qb.m,Yb=8,Gb=o(128,C);r:for(;A(Gb,0,7,e8,19);){if(me(Ac,1)){var t8=2+2*me(Ac,3);if((N_=2+me(Ac,t8))>Kg)break r}else N_=Kg;for(Up=0;Up<Kg&&N_--;){Q(Ac);var Kb=Gb[0+(127&M(Ac))];U(Ac,Ac.u+Kb.g);var Mf=Kb.value;if(16>Mf)$b[Up++]=Mf,Mf!=0&&(Yb=Mf);else{var n8=Mf==16,Qb=Mf-16,r8=TF[Qb],Xb=me(Ac,SF[Qb])+r8;if(Up+Xb>Kg)break r;for(var i8=n8?Yb:0;0<Xb--;)$b[Up++]=i8}}P_=1;break r}P_||(qb.a=3),Yg=P_}(Yg=Yg&&!bc.h)&&(I_=A(KF,QF,8,jp,k_)),Yg&&I_!=0?Gg=I_:($g.a=3,Gg=0)}if(Gg==0)break n;if(zg&&bF[Kt]==1&&(zg=Hg[jr].g==0),Ub+=Hg[jr].g,jr+=Gg,3>=Kt){var Vp,D_=Bp[0];for(Vp=1;Vp<Er;++Vp)Bp[Vp]>D_&&(D_=Bp[Vp]);Vb+=D_}}if(qo.nd=zg,qo.Qb=0,zg&&(qo.qb=(Of[3][Ff[3]+0].value<<24|Of[1][Ff[1]+0].value<<16|Of[2][Ff[2]+0].value)>>>0,Ub==0&&256>Of[0][Ff[0]+0].value&&(qo.Qb=1,qo.qb+=Of[0][Ff[0]+0].value<<8)),qo.jc=!qo.Qb&&6>Vb,qo.jc){var Qg,vl=qo;for(Qg=0;Qg<Si;++Qg){var Cc=Qg,kc=vl.pd[Cc],Xg=vl.G[0][vl.H[0]+Cc];256<=Xg.value?(kc.g=Xg.g+256,kc.value=Xg.value):(kc.g=0,kc.value=0,Cc>>=dr(Xg,8,kc),Cc>>=dr(vl.G[1][vl.H[1]+Cc],16,kc),Cc>>=dr(vl.G[2][vl.H[2]+Cc],0,kc),dr(vl.G[3][vl.H[3]+Cc],24,kc))}}}ii.vc=Ti,ii.Wb=us,ii.Ya=Wg,ii.yc=C_,Yn=1;break t}Yn=0}if(!(Y=Yn)){O.a=3;break e}if(0<Ne){if(oe.ua=1<<Ne,!at(oe.Wa,Ne)){O.a=1,Y=0;break e}}else oe.ua=0;var R_=O,Jb=G,s8=J,L_=R_.s,O_=L_.xc;if(R_.c=Jb,R_.i=s8,L_.md=_t(Jb,O_),L_.wc=O_==0?-1:(1<<O_)-1,k){O.xb=FF;break e}if((_e=s(G*J))==null){O.a=1,Y=0;break e}Y=(Y=ue(O,_e,0,G,J,J,null))&&!te.h;break e}return Y?(H!=null?H[0]=_e:(e(_e==null),e(k)),O.$=0,k||Ce(oe)):Ce(oe),Y}function Ie(p,y){var k=p.c*p.i,O=k+y+16*y;return e(p.c<=y),p.V=s(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+k+y,1)}function Re(p,y){var k=p.C,O=y-k,H=p.V,Y=p.Ba+p.c*k;for(e(y<=p.l.o);0<O;){var G=16<O?16:O,J=p.l.ma,te=p.l.width,oe=te*G,_e=J.ca,Ne=J.tb+te*k,Pe=p.Ta,be=p.Ua;z(p,G,H,Y),Ir(Pe,be,_e,Ne,oe),se(J,k,k+G,_e,Ne,te),O-=G,H+=G*p.c,k+=G}e(k==y),p.C=p.Ma=y}function Xe(){this.ub=this.yd=this.td=this.Rb=0}function st(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function nt(){this.Yb=function(){var p=[];return function y(k,O,H){for(var Y=H[O],G=0;G<Y&&(k.push(H.length>O+1?[]:0),!(H.length<O+1));G++)y(k[G],O+1,H)}(p,0,[3,11]),p}()}function ft(){this.jb=s(3),this.Wc=a([4,8],nt),this.Xc=a([4,17],nt)}function Ft(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function fn(){this.ld=this.La=this.dd=this.tc=0}function dn(){this.Na=this.la=0}function Hn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function os(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fo(){this.uc=this.M=this.Nb=0,this.wa=Array(new fn),this.Y=0,this.ya=Array(new os),this.aa=0,this.l=new zs}function Hs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ss(){this.cb=this.a=0,this.sc="",this.m=new Ae,this.Od=new Xe,this.Kc=new st,this.ed=new Ft,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new Fo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ae),this.ia=0,this.pb=o(4,Hn),this.Pa=new ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hs),this.Hd=0,this.rb=Array(new dn),this.sb=0,this.wa=Array(new fn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new os),this.L=this.aa=0,this.gd=a([4,2],fn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function wi(){var p=new Ss;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Fp||(Fp=vf)),p}function tr(p,y,k){return p.a==0&&(p.a=y,p.sc=k,p.cb=0),0}function Wu(p,y,k){return 3<=k&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function Hu(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return tr(p,2,"null VP8Io passed to VP8GetHeaders()");var k=y.data,O=y.w,H=y.ha;if(4>H)return tr(p,7,"Truncated header.");var Y=k[O+0]|k[O+1]<<8|k[O+2]<<16,G=p.Od;if(G.Rb=!(1&Y),G.td=Y>>1&7,G.yd=Y>>4&1,G.ub=Y>>5,3<G.td)return tr(p,3,"Incorrect keyframe parameters.");if(!G.yd)return tr(p,4,"Frame not displayable.");O+=3,H-=3;var J=p.Kc;if(G.Rb){if(7>H)return tr(p,7,"cannot parse picture header");if(!Wu(k,O,H))return tr(p,3,"Bad code word");J.c=16383&(k[O+4]<<8|k[O+3]),J.Td=k[O+4]>>6,J.i=16383&(k[O+6]<<8|k[O+5]),J.Ud=k[O+6]>>6,O+=7,H-=7,p.za=J.c+15>>4,p.Ub=J.i+15>>4,y.width=J.c,y.height=J.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(G.ub>H)return tr(p,7,"bad partition length");he(Y=p.m,k,O,G.ub),O+=G.ub,H-=G.ub,G.Rb&&(J.Ld=ge(Y),J.Kd=ge(Y)),J=p.Qa;var te,oe=p.Pa;if(e(Y!=null),e(J!=null),J.Cb=ge(Y),J.Cb){if(J.Bb=ge(Y),ge(Y)){for(J.Fb=ge(Y),te=0;4>te;++te)J.Zb[te]=ge(Y)?ee(Y,7):0;for(te=0;4>te;++te)J.Lb[te]=ge(Y)?ee(Y,6):0}if(J.Bb)for(te=0;3>te;++te)oe.jb[te]=ge(Y)?ne(Y,8):255}else J.Bb=0;if(Y.Ka)return tr(p,3,"cannot parse segment header");if((J=p.ed).zd=ge(Y),J.Tb=ne(Y,6),J.wb=ne(Y,3),J.Pc=ge(Y),J.Pc&&ge(Y)){for(oe=0;4>oe;++oe)ge(Y)&&(J.vd[oe]=ee(Y,6));for(oe=0;4>oe;++oe)ge(Y)&&(J.od[oe]=ee(Y,6))}if(p.L=J.Tb==0?0:J.zd?1:2,Y.Ka)return tr(p,3,"cannot parse filter header");var _e=H;if(H=te=O,O=te+_e,J=_e,p.Xb=(1<<ne(p.m,2))-1,_e<3*(oe=p.Xb))k=7;else{for(te+=3*oe,J-=3*oe,_e=0;_e<oe;++_e){var Ne=k[H+0]|k[H+1]<<8|k[H+2]<<16;Ne>J&&(Ne=J),he(p.Jc[+_e],k,te,Ne),te+=Ne,J-=Ne,H+=3}he(p.Jc[+oe],k,te,J),k=te<O?0:5}if(k!=0)return tr(p,k,"cannot parse partitions");for(k=ne(te=p.m,7),H=ge(te)?ee(te,4):0,O=ge(te)?ee(te,4):0,J=ge(te)?ee(te,4):0,oe=ge(te)?ee(te,4):0,te=ge(te)?ee(te,4):0,_e=p.Qa,Ne=0;4>Ne;++Ne){if(_e.Cb){var Pe=_e.Zb[Ne];_e.Fb||(Pe+=k)}else{if(0<Ne){p.pb[Ne]=p.pb[0];continue}Pe=k}var be=p.pb[Ne];be.Sc[0]=T_[An(Pe+H,127)],be.Sc[1]=b_[An(Pe+0,127)],be.Eb[0]=2*T_[An(Pe+O,127)],be.Eb[1]=101581*b_[An(Pe+J,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=T_[An(Pe+oe,117)],be.Qc[1]=b_[An(Pe+te,127)],be.lc=Pe+te}if(!G.Rb)return tr(p,4,"Not a key frame.");for(ge(Y),G=p.Pa,k=0;4>k;++k){for(H=0;8>H;++H)for(O=0;3>O;++O)for(J=0;11>J;++J)oe=ve(Y,LF[k][H][O][J])?ne(Y,8):DF[k][H][O][J],G.Wc[k][H].Yb[O][J]=oe;for(H=0;17>H;++H)G.Xc[k][H]=G.Wc[k][OF[H]]}return p.kc=ge(Y),p.kc&&(p.Bd=ne(Y,8)),p.cb=1}function vf(p,y,k,O,H,Y,G){var J=y[H].Yb[k];for(k=0;16>H;++H){if(!ve(p,J[k+0]))return H;for(;!ve(p,J[k+1]);)if(J=y[++H].Yb[0],k=0,H==16)return 16;var te=y[H+1].Yb;if(ve(p,J[k+2])){var oe=p,_e=0;if(ve(oe,(Pe=J)[(Ne=k)+3]))if(ve(oe,Pe[Ne+6])){for(J=0,Ne=2*(_e=ve(oe,Pe[Ne+8]))+(Pe=ve(oe,Pe[Ne+9+_e])),_e=0,Pe=NF[Ne];Pe[J];++J)_e+=_e+ve(oe,Pe[J]);_e+=3+(8<<Ne)}else ve(oe,Pe[Ne+7])?(_e=7+2*ve(oe,165),_e+=ve(oe,145)):_e=5+ve(oe,159);else _e=ve(oe,Pe[Ne+4])?3+ve(oe,Pe[Ne+5]):2;J=te[2]}else _e=1,J=te[1];te=G+PF[H],0>(oe=p).b&&ie(oe);var Ne,Pe=oe.b,be=(Ne=oe.Ca>>1)-(oe.I>>Pe)>>31;--oe.b,oe.Ca+=be,oe.Ca|=1,oe.I-=(Ne+1&be)<<Pe,Y[te]=((_e^be)-be)*O[(0<H)+0]}return 16}function zu(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function yf(p,y){if(p==null)return 0;if(y==null)return tr(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Hu(p,y))return 0;if(e(p.cb),y.ac==null||y.ac(y)){y.ob&&(p.L=0);var k=Vg[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=y.v-k>>4,p.zb=y.j-k>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=y.o+15+k>>4,p.Hb=y.va+15+k>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var O=p.ed;for(k=0;4>k;++k){var H;if(p.Qa.Cb){var Y=p.Qa.Lb[k];p.Qa.Fb||(Y+=O.Tb)}else Y=O.Tb;for(H=0;1>=H;++H){var G=p.gd[k][H],J=Y;if(O.Pc&&(J+=O.vd[0],H&&(J+=O.od[0])),0<(J=0>J?0:63<J?63:J)){var te=J;0<O.wb&&(te=4<O.wb?te>>2:te>>1)>9-O.wb&&(te=9-O.wb),1>te&&(te=1),G.dd=te,G.tc=2*J+te,G.ld=40<=J?2:15<=J?1:0}else G.tc=0;G.La=H}}}k=0}else tr(p,6,"Frame setup failed"),k=p.a;if(k=k==0){if(k){p.$c=0,0<p.Aa||(p.Ic=GF);e:{k=p.Ic,O=4*(te=p.za);var oe=32*te,_e=te+1,Ne=0<p.L?te*(0<p.Aa?2:1):0,Pe=(p.Aa==2?2:1)*te;if((G=O+832+(H=3*(16*k+Vg[p.L])/2*oe)+(Y=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=G)k=0;else{if(G>p.Vb){if(p.Vb=0,p.Ec=s(G),p.Fc=0,p.Ec==null){k=tr(p,1,"no memory during frame initialization.");break e}p.Vb=G}G=p.Ec,J=p.Fc,p.Ac=G,p.Bc=J,J+=O,p.Gd=o(oe,Hs),p.Hd=0,p.rb=o(_e+1,dn),p.sb=1,p.wa=Ne?o(Ne,fn):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=te),e(!0),p.oc=G,p.pc=J,J+=832,p.ya=o(Pe,os),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=te),p.R=16*te,p.B=8*te,te=(oe=Vg[p.L])*p.R,oe=oe/2*p.B,p.sa=G,p.ta=J+te,p.qa=p.sa,p.ra=p.ta+16*k*p.R+oe,p.Ha=p.qa,p.Ia=p.ra+8*k*p.B+oe,p.$c=0,J+=H,p.mb=Y?G:null,p.nb=Y?J:null,e(J+Y<=p.Fc+p.Vb),zu(p),i(p.Ac,p.Bc,0,O),k=1}}if(k){if(y.ka=0,y.y=p.sa,y.O=p.ta,y.f=p.qa,y.N=p.ra,y.ea=p.Ha,y.Vd=p.Ia,y.fa=p.R,y.Rc=p.B,y.F=null,y.J=0,!Dg){for(k=-255;255>=k;++k)Xr[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)pl[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Op[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)Rf[255+k]=0>k?0:255<k?255:k;Dg=1}Nf=ol,dl=rc,Dp=qu,cs=Cn,vo=sl,kr=il,Pf=uc,Pg=Vo,Rp=fc,th=Zu,nh=hc,wc=ll,rh=dc,Df=wa,ih=al,xc=Ys,Lp=Qr,yo=Sf,zo[0]=mo,zo[1]=bp,zo[2]=ya,zo[3]=Cp,zo[4]=xf,zo[5]=oc,zo[6]=qs,zo[7]=Yu,zo[8]=lc,zo[9]=ac,Ec[0]=va,Ec[1]=Ap,Ec[2]=Bo,Ec[3]=ic,Ec[4]=nr,Ec[5]=wf,Ec[6]=$u,ml[0]=Uo,ml[1]=_f,ml[2]=Ef,ml[3]=jo,ml[4]=bn,ml[5]=Gu,ml[6]=Ku,k=1}else k=0}k&&(k=function(be,$e){for(be.M=0;be.M<be.Va;++be.M){var Be,we=be.Jc[be.M&be.Xb],xe=be.m,ze=be;for(Be=0;Be<ze.za;++Be){var Qe=xe,qe=ze,wt=qe.Ac,dt=qe.Bc+4*Be,Lt=qe.zc,vt=qe.ya[qe.aa+Be];if(qe.Qa.Bb?vt.$b=ve(Qe,qe.Pa.jb[0])?2+ve(Qe,qe.Pa.jb[2]):ve(Qe,qe.Pa.jb[1]):vt.$b=0,qe.kc&&(vt.Ad=ve(Qe,qe.Bd)),vt.Za=!ve(Qe,145)+0,vt.Za){var wn=vt.Ob,kn=0;for(qe=0;4>qe;++qe){var mn,an=Lt[0+qe];for(mn=0;4>mn;++mn){an=RF[wt[dt+mn]][an];for(var Yn=kb[ve(Qe,an[0])];0<Yn;)Yn=kb[2*Yn+ve(Qe,an[Yn])];an=-Yn,wt[dt+mn]=an}r(wn,kn,wt,dt,4),kn+=4,Lt[0+qe]=an}}else an=ve(Qe,156)?ve(Qe,128)?1:3:ve(Qe,163)?2:0,vt.Ob[0]=an,i(wt,dt,an,4),i(Lt,0,an,4);vt.Dd=ve(Qe,142)?ve(Qe,114)?ve(Qe,183)?1:3:2:0}if(ze.m.Ka)return tr(be,7,"Premature end-of-partition0 encountered.");for(;be.ja<be.za;++be.ja){if(ze=we,Qe=(xe=be).rb[xe.sb-1],wt=xe.rb[xe.sb+xe.ja],Be=xe.ya[xe.aa+xe.ja],dt=xe.kc?Be.Ad:0)Qe.la=wt.la=0,Be.Za||(Qe.Na=wt.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var zn,Kt;if(Qe=wt,wt=ze,dt=xe.Pa.Xc,Lt=xe.ya[xe.aa+xe.ja],vt=xe.pb[Lt.$b],qe=Lt.ad,wn=0,kn=xe.rb[xe.sb-1],an=mn=0,i(qe,wn,0,384),Lt.Za)var jr=0,Cs=dt[3];else{Yn=s(16);var Ur=Qe.Na+kn.Na;if(Ur=Fp(wt,dt[1],Ur,vt.Eb,0,Yn,0),Qe.Na=kn.Na=(0<Ur)+0,1<Ur)Nf(Yn,0,qe,wn);else{var ks=Yn[0]+3>>3;for(Yn=0;256>Yn;Yn+=16)qe[wn+Yn]=ks}jr=1,Cs=dt[0]}var In=15&Qe.la,Ks=15&kn.la;for(Yn=0;4>Yn;++Yn){var Qs=1&Ks;for(ks=Kt=0;4>ks;++ks)In=In>>1|(Qs=(Ur=Fp(wt,Cs,Ur=Qs+(1&In),vt.Sc,jr,qe,wn))>jr)<<7,Kt=Kt<<2|(3<Ur?3:1<Ur?2:qe[wn+0]!=0),wn+=16;In>>=4,Ks=Ks>>1|Qs<<7,mn=(mn<<8|Kt)>>>0}for(Cs=In,jr=Ks>>4,zn=0;4>zn;zn+=2){for(Kt=0,In=Qe.la>>4+zn,Ks=kn.la>>4+zn,Yn=0;2>Yn;++Yn){for(Qs=1&Ks,ks=0;2>ks;++ks)Ur=Qs+(1&In),In=In>>1|(Qs=0<(Ur=Fp(wt,dt[2],Ur,vt.Qc,0,qe,wn)))<<3,Kt=Kt<<2|(3<Ur?3:1<Ur?2:qe[wn+0]!=0),wn+=16;In>>=2,Ks=Ks>>1|Qs<<5}an|=Kt<<4*zn,Cs|=In<<4<<zn,jr|=(240&Ks)<<zn}Qe.la=Cs,kn.la=jr,Lt.Hc=mn,Lt.Gc=an,Lt.ia=43690&an?0:vt.ia,dt=!(mn|an)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[Be.$b][Be.Za],xe.wa[xe.Y+xe.ja].La|=!dt),ze.Ka)return tr(be,7,"Premature end-of-file encountered.")}if(zu(be),xe=$e,ze=1,Be=(we=be).D,Qe=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Be.M=we.M,Be.uc=Qe,Ea(we,Be),ze=1,Be=(Kt=we.D).Nb,Qe=(an=Vg[we.L])*we.R,wt=an/2*we.B,Yn=16*Be*we.R,ks=8*Be*we.B,dt=we.sa,Lt=we.ta-Qe+Yn,vt=we.qa,qe=we.ra-wt+ks,wn=we.Ha,kn=we.Ia-wt+ks,Ks=(In=Kt.M)==0,mn=In>=we.Va-1,we.Aa==2&&Ea(we,Kt),Kt.uc)for(Qs=(Ur=we).D.M,e(Ur.D.uc),Kt=Ur.yb;Kt<Ur.Hb;++Kt){jr=Kt,Cs=Qs;var ii=(Ti=(Er=Ur).D).Nb;zn=Er.R;var Ti=Ti.wa[Ti.Y+jr],us=Er.sa,Eo=Er.ta+16*ii*zn+16*jr,Ta=Ti.dd,si=Ti.tc;if(si!=0)if(e(3<=si),Er.L==1)0<jr&&xc(us,Eo,zn,si+4),Ti.La&&yo(us,Eo,zn,si),0<Cs&&ih(us,Eo,zn,si+4),Ti.La&&Lp(us,Eo,zn,si);else{var gl=Er.B,sh=Er.qa,Lf=Er.ra+8*ii*gl+8*jr,Tc=Er.Ha,Er=Er.Ia+8*ii*gl+8*jr;ii=Ti.ld,0<jr&&(Pg(us,Eo,zn,si+4,Ta,ii),th(sh,Lf,Tc,Er,gl,si+4,Ta,ii)),Ti.La&&(wc(us,Eo,zn,si,Ta,ii),Df(sh,Lf,Tc,Er,gl,si,Ta,ii)),0<Cs&&(Pf(us,Eo,zn,si+4,Ta,ii),Rp(sh,Lf,Tc,Er,gl,si+4,Ta,ii)),Ti.La&&(nh(us,Eo,zn,si,Ta,ii),rh(sh,Lf,Tc,Er,gl,si,Ta,ii))}}if(we.ia&&alert("todo:DitherRow"),xe.put!=null){if(Kt=16*In,In=16*(In+1),Ks?(xe.y=we.sa,xe.O=we.ta+Yn,xe.f=we.qa,xe.N=we.ra+ks,xe.ea=we.Ha,xe.W=we.Ia+ks):(Kt-=an,xe.y=dt,xe.O=Lt,xe.f=vt,xe.N=qe,xe.ea=wn,xe.W=kn),mn||(In-=an),In>xe.o&&(In=xe.o),xe.F=null,xe.J=null,we.Fa!=null&&0<we.Fa.length&&Kt<In&&(xe.J=vc(we,xe,Kt,In-Kt),xe.F=we.mb,xe.F==null&&xe.F.length==0)){ze=tr(we,3,"Could not decode alpha data.");break e}Kt<xe.j&&(an=xe.j-Kt,Kt=xe.j,e(!(1&an)),xe.O+=we.R*an,xe.N+=we.B*(an>>1),xe.W+=we.B*(an>>1),xe.F!=null&&(xe.J+=xe.width*an)),Kt<In&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=Kt-xe.j,xe.U=xe.va-xe.v,xe.T=In-Kt,ze=xe.put(xe))}Be+1!=we.Ic||mn||(r(we.sa,we.ta-Qe,dt,Lt+16*we.R,Qe),r(we.qa,we.ra-wt,vt,qe+8*we.B,wt),r(we.Ha,we.Ia-wt,wn,kn+8*we.B,wt))}if(!ze)return tr(be,6,"Output aborted.")}return 1}(p,y)),y.bc!=null&&y.bc(y),k&=1}return k?(p.cb=0,k):0}function Ts(p,y,k,O,H){H=p[y+k+32*O]+(H>>3),p[y+k+32*O]=-256&H?0>H?0:255:H}function nc(p,y,k,O,H,Y){Ts(p,y,0,k,O+H),Ts(p,y,1,k,O+Y),Ts(p,y,2,k,O-Y),Ts(p,y,3,k,O-H)}function xr(p){return(20091*p>>16)+p}function as(p,y,k,O){var H,Y=0,G=s(16);for(H=0;4>H;++H){var J=p[y+0]+p[y+8],te=p[y+0]-p[y+8],oe=(35468*p[y+4]>>16)-xr(p[y+12]),_e=xr(p[y+4])+(35468*p[y+12]>>16);G[Y+0]=J+_e,G[Y+1]=te+oe,G[Y+2]=te-oe,G[Y+3]=J-_e,Y+=4,y++}for(H=Y=0;4>H;++H)J=(p=G[Y+0]+4)+G[Y+8],te=p-G[Y+8],oe=(35468*G[Y+4]>>16)-xr(G[Y+12]),Ts(k,O,0,0,J+(_e=xr(G[Y+4])+(35468*G[Y+12]>>16))),Ts(k,O,1,0,te+oe),Ts(k,O,2,0,te-oe),Ts(k,O,3,0,J-_e),Y++,O+=32}function il(p,y,k,O){var H=p[y+0]+4,Y=35468*p[y+4]>>16,G=xr(p[y+4]),J=35468*p[y+1]>>16;nc(k,O,0,H+G,p=xr(p[y+1]),J),nc(k,O,1,H+Y,p,J),nc(k,O,2,H-Y,p,J),nc(k,O,3,H-G,p,J)}function rc(p,y,k,O,H){as(p,y,k,O),H&&as(p,y+16,k,O+4)}function qu(p,y,k,O){dl(p,y+0,k,O,1),dl(p,y+32,k,O+128,1)}function Cn(p,y,k,O){var H;for(p=p[y+0]+4,H=0;4>H;++H)for(y=0;4>y;++y)Ts(k,O,y,H,p)}function sl(p,y,k,O){p[y+0]&&cs(p,y+0,k,O),p[y+16]&&cs(p,y+16,k,O+4),p[y+32]&&cs(p,y+32,k,O+128),p[y+48]&&cs(p,y+48,k,O+128+4)}function ol(p,y,k,O){var H,Y=s(16);for(H=0;4>H;++H){var G=p[y+0+H]+p[y+12+H],J=p[y+4+H]+p[y+8+H],te=p[y+4+H]-p[y+8+H],oe=p[y+0+H]-p[y+12+H];Y[0+H]=G+J,Y[8+H]=G-J,Y[4+H]=oe+te,Y[12+H]=oe-te}for(H=0;4>H;++H)G=(p=Y[0+4*H]+3)+Y[3+4*H],J=Y[1+4*H]+Y[2+4*H],te=Y[1+4*H]-Y[2+4*H],oe=p-Y[3+4*H],k[O+0]=G+J>>3,k[O+16]=oe+te>>3,k[O+32]=G-J>>3,k[O+48]=oe-te>>3,O+=64}function Mo(p,y,k){var O,H=y-32,Y=Gs,G=255-p[H-1];for(O=0;O<k;++O){var J,te=Y,oe=G+p[y-1];for(J=0;J<k;++J)p[y+J]=te[oe+p[H+J]];y+=32}}function bp(p,y){Mo(p,y,4)}function _f(p,y){Mo(p,y,8)}function Ap(p,y){Mo(p,y,16)}function Bo(p,y){var k;for(k=0;16>k;++k)r(p,y+32*k,p,y-32,16)}function ic(p,y){var k;for(k=16;0<k;--k)i(p,y,p[y-1],16),y+=32}function sc(p,y,k){var O;for(O=0;16>O;++O)i(y,k+32*O,p,16)}function va(p,y){var k,O=16;for(k=0;16>k;++k)O+=p[y-1+32*k]+p[y+k-32];sc(O>>5,p,y)}function nr(p,y){var k,O=8;for(k=0;16>k;++k)O+=p[y-1+32*k];sc(O>>4,p,y)}function wf(p,y){var k,O=8;for(k=0;16>k;++k)O+=p[y+k-32];sc(O>>4,p,y)}function $u(p,y){sc(128,p,y)}function jt(p,y,k){return p+2*y+k+2>>2}function ya(p,y){var k,O=y-32;for(O=new Uint8Array([jt(p[O-1],p[O+0],p[O+1]),jt(p[O+0],p[O+1],p[O+2]),jt(p[O+1],p[O+2],p[O+3]),jt(p[O+2],p[O+3],p[O+4])]),k=0;4>k;++k)r(p,y+32*k,O,0,O.length)}function Cp(p,y){var k=p[y-1],O=p[y-1+32],H=p[y-1+64],Y=p[y-1+96];Ee(p,y+0,16843009*jt(p[y-1-32],k,O)),Ee(p,y+32,16843009*jt(k,O,H)),Ee(p,y+64,16843009*jt(O,H,Y)),Ee(p,y+96,16843009*jt(H,Y,Y))}function mo(p,y){var k,O=4;for(k=0;4>k;++k)O+=p[y+k-32]+p[y-1+32*k];for(O>>=3,k=0;4>k;++k)i(p,y+32*k,O,4)}function xf(p,y){var k=p[y-1+0],O=p[y-1+32],H=p[y-1+64],Y=p[y-1-32],G=p[y+0-32],J=p[y+1-32],te=p[y+2-32],oe=p[y+3-32];p[y+0+96]=jt(O,H,p[y-1+96]),p[y+1+96]=p[y+0+64]=jt(k,O,H),p[y+2+96]=p[y+1+64]=p[y+0+32]=jt(Y,k,O),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=jt(G,Y,k),p[y+3+64]=p[y+2+32]=p[y+1+0]=jt(J,G,Y),p[y+3+32]=p[y+2+0]=jt(te,J,G),p[y+3+0]=jt(oe,te,J)}function qs(p,y){var k=p[y+1-32],O=p[y+2-32],H=p[y+3-32],Y=p[y+4-32],G=p[y+5-32],J=p[y+6-32],te=p[y+7-32];p[y+0+0]=jt(p[y+0-32],k,O),p[y+1+0]=p[y+0+32]=jt(k,O,H),p[y+2+0]=p[y+1+32]=p[y+0+64]=jt(O,H,Y),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=jt(H,Y,G),p[y+3+32]=p[y+2+64]=p[y+1+96]=jt(Y,G,J),p[y+3+64]=p[y+2+96]=jt(G,J,te),p[y+3+96]=jt(J,te,te)}function oc(p,y){var k=p[y-1+0],O=p[y-1+32],H=p[y-1+64],Y=p[y-1-32],G=p[y+0-32],J=p[y+1-32],te=p[y+2-32],oe=p[y+3-32];p[y+0+0]=p[y+1+64]=Y+G+1>>1,p[y+1+0]=p[y+2+64]=G+J+1>>1,p[y+2+0]=p[y+3+64]=J+te+1>>1,p[y+3+0]=te+oe+1>>1,p[y+0+96]=jt(H,O,k),p[y+0+64]=jt(O,k,Y),p[y+0+32]=p[y+1+96]=jt(k,Y,G),p[y+1+32]=p[y+2+96]=jt(Y,G,J),p[y+2+32]=p[y+3+96]=jt(G,J,te),p[y+3+32]=jt(J,te,oe)}function Yu(p,y){var k=p[y+0-32],O=p[y+1-32],H=p[y+2-32],Y=p[y+3-32],G=p[y+4-32],J=p[y+5-32],te=p[y+6-32],oe=p[y+7-32];p[y+0+0]=k+O+1>>1,p[y+1+0]=p[y+0+64]=O+H+1>>1,p[y+2+0]=p[y+1+64]=H+Y+1>>1,p[y+3+0]=p[y+2+64]=Y+G+1>>1,p[y+0+32]=jt(k,O,H),p[y+1+32]=p[y+0+96]=jt(O,H,Y),p[y+2+32]=p[y+1+96]=jt(H,Y,G),p[y+3+32]=p[y+2+96]=jt(Y,G,J),p[y+3+64]=jt(G,J,te),p[y+3+96]=jt(J,te,oe)}function ac(p,y){var k=p[y-1+0],O=p[y-1+32],H=p[y-1+64],Y=p[y-1+96];p[y+0+0]=k+O+1>>1,p[y+2+0]=p[y+0+32]=O+H+1>>1,p[y+2+32]=p[y+0+64]=H+Y+1>>1,p[y+1+0]=jt(k,O,H),p[y+3+0]=p[y+1+32]=jt(O,H,Y),p[y+3+32]=p[y+1+64]=jt(H,Y,Y),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=Y}function lc(p,y){var k=p[y-1+0],O=p[y-1+32],H=p[y-1+64],Y=p[y-1+96],G=p[y-1-32],J=p[y+0-32],te=p[y+1-32],oe=p[y+2-32];p[y+0+0]=p[y+2+32]=k+G+1>>1,p[y+0+32]=p[y+2+64]=O+k+1>>1,p[y+0+64]=p[y+2+96]=H+O+1>>1,p[y+0+96]=Y+H+1>>1,p[y+3+0]=jt(J,te,oe),p[y+2+0]=jt(G,J,te),p[y+1+0]=p[y+3+32]=jt(k,G,J),p[y+1+32]=p[y+3+64]=jt(O,k,G),p[y+1+64]=p[y+3+96]=jt(H,O,k),p[y+1+96]=jt(Y,H,O)}function Ef(p,y){var k;for(k=0;8>k;++k)r(p,y+32*k,p,y-32,8)}function jo(p,y){var k;for(k=0;8>k;++k)i(p,y,p[y-1],8),y+=32}function $s(p,y,k){var O;for(O=0;8>O;++O)i(y,k+32*O,p,8)}function Uo(p,y){var k,O=8;for(k=0;8>k;++k)O+=p[y+k-32]+p[y-1+32*k];$s(O>>4,p,y)}function Gu(p,y){var k,O=4;for(k=0;8>k;++k)O+=p[y+k-32];$s(O>>3,p,y)}function bn(p,y){var k,O=4;for(k=0;8>k;++k)O+=p[y-1+32*k];$s(O>>3,p,y)}function Ku(p,y){$s(128,p,y)}function cc(p,y,k){var O=p[y-k],H=p[y+0],Y=3*(H-O)+__[1020+p[y-2*k]-p[y+k]],G=Rg[112+(Y+4>>3)];p[y-k]=Gs[255+O+Rg[112+(Y+3>>3)]],p[y+0]=Gs[255+H-G]}function Qu(p,y,k,O){var H=p[y+0],Y=p[y+k];return wo[255+p[y-2*k]-p[y-k]]>O||wo[255+Y-H]>O}function Xu(p,y,k,O){return 4*wo[255+p[y-k]-p[y+0]]+wo[255+p[y-2*k]-p[y+k]]<=O}function Ju(p,y,k,O,H){var Y=p[y-3*k],G=p[y-2*k],J=p[y-k],te=p[y+0],oe=p[y+k],_e=p[y+2*k],Ne=p[y+3*k];return 4*wo[255+J-te]+wo[255+G-oe]>O?0:wo[255+p[y-4*k]-Y]<=H&&wo[255+Y-G]<=H&&wo[255+G-J]<=H&&wo[255+Ne-_e]<=H&&wo[255+_e-oe]<=H&&wo[255+oe-te]<=H}function al(p,y,k,O){var H=2*O+1;for(O=0;16>O;++O)Xu(p,y+O,k,H)&&cc(p,y+O,k)}function Ys(p,y,k,O){var H=2*O+1;for(O=0;16>O;++O)Xu(p,y+O*k,1,H)&&cc(p,y+O*k,1)}function Qr(p,y,k,O){var H;for(H=3;0<H;--H)al(p,y+=4*k,k,O)}function Sf(p,y,k,O){var H;for(H=3;0<H;--H)Ys(p,y+=4,k,O)}function _a(p,y,k,O,H,Y,G,J){for(Y=2*Y+1;0<H--;){if(Ju(p,y,k,Y,G))if(Qu(p,y,k,J))cc(p,y,k);else{var te=p,oe=y,_e=k,Ne=te[oe-2*_e],Pe=te[oe-_e],be=te[oe+0],$e=te[oe+_e],Be=te[oe+2*_e],we=27*(ze=__[1020+3*(be-Pe)+__[1020+Ne-$e]])+63>>7,xe=18*ze+63>>7,ze=9*ze+63>>7;te[oe-3*_e]=Gs[255+te[oe-3*_e]+ze],te[oe-2*_e]=Gs[255+Ne+xe],te[oe-_e]=Gs[255+Pe+we],te[oe+0]=Gs[255+be-we],te[oe+_e]=Gs[255+$e-xe],te[oe+2*_e]=Gs[255+Be-ze]}y+=O}}function xi(p,y,k,O,H,Y,G,J){for(Y=2*Y+1;0<H--;){if(Ju(p,y,k,Y,G))if(Qu(p,y,k,J))cc(p,y,k);else{var te=p,oe=y,_e=k,Ne=te[oe-_e],Pe=te[oe+0],be=te[oe+_e],$e=Rg[112+((Be=3*(Pe-Ne))+4>>3)],Be=Rg[112+(Be+3>>3)],we=$e+1>>1;te[oe-2*_e]=Gs[255+te[oe-2*_e]+we],te[oe-_e]=Gs[255+Ne+Be],te[oe+0]=Gs[255+Pe-$e],te[oe+_e]=Gs[255+be-we]}y+=O}}function uc(p,y,k,O,H,Y){_a(p,y,k,1,16,O,H,Y)}function Vo(p,y,k,O,H,Y){_a(p,y,1,k,16,O,H,Y)}function hc(p,y,k,O,H,Y){var G;for(G=3;0<G;--G)xi(p,y+=4*k,k,1,16,O,H,Y)}function ll(p,y,k,O,H,Y){var G;for(G=3;0<G;--G)xi(p,y+=4,1,k,16,O,H,Y)}function fc(p,y,k,O,H,Y,G,J){_a(p,y,H,1,8,Y,G,J),_a(k,O,H,1,8,Y,G,J)}function Zu(p,y,k,O,H,Y,G,J){_a(p,y,1,H,8,Y,G,J),_a(k,O,1,H,8,Y,G,J)}function dc(p,y,k,O,H,Y,G,J){xi(p,y+4*H,H,1,8,Y,G,J),xi(k,O+4*H,H,1,8,Y,G,J)}function wa(p,y,k,O,H,Y,G,J){xi(p,y+4,1,H,8,Y,G,J),xi(k,O+4,1,H,8,Y,G,J)}function cl(){this.ba=new Kr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _n,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ul(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mc(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new C}function Tf(){this.xb=this.a=0,this.l=new zs,this.ca=new Kr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mc,this.ab=0,this.gc=o(4,ul),this.Oc=0}function Wo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xa(p,y,k,O,H,Y,G){for(p=p==null?0:p[y+0],y=0;y<G;++y)H[Y+y]=p+k[O+y]&255,p=H[Y+y]}function gc(p,y,k,O,H,Y,G){var J;if(p==null)xa(null,null,k,O,H,Y,G);else for(J=0;J<G;++J)H[Y+J]=p[y+J]+k[O+J]&255}function Ui(p,y,k,O,H,Y,G){if(p==null)xa(null,null,k,O,H,Y,G);else{var J,te=p[y+0],oe=te,_e=te;for(J=0;J<G;++J)oe=_e+(te=p[y+J])-oe,_e=k[O+J]+(-256&oe?0>oe?0:255:oe)&255,oe=te,H[Y+J]=_e}}function vc(p,y,k,O){var H=y.width,Y=y.o;if(e(p!=null&&y!=null),0>k||0>=O||k+O>Y)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Wo,(G=p.ga==null)||(G=y.width*y.o,e(p.Gb.length==0),p.Gb=s(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var J=p.Fa,te=p.P,oe=p.qc,_e=p.mb,Ne=p.nb,Pe=te+1,be=oe-1,$e=G.l;if(e(J!=null&&_e!=null&&y!=null),Sc[0]=null,Sc[1]=xa,Sc[2]=gc,Sc[3]=Ui,G.ca=_e,G.tb=Ne,G.c=y.width,G.i=y.height,e(0<G.c&&0<G.i),1>=oe)y=0;else if(G.$a=J[te+0]>>0&3,G.Z=J[te+0]>>2&3,G.Lc=J[te+0]>>4&3,te=J[te+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||te)y=0;else if($e.put=ri,$e.ac=_r,$e.bc=ss,$e.ma=G,$e.width=y.width,$e.height=y.height,$e.Da=y.Da,$e.v=y.v,$e.va=y.va,$e.j=y.j,$e.o=y.o,G.$a)e:{e(G.$a==1),y=Oe();t:for(;;){if(y==null){y=0;break e}if(e(G!=null),G.mc=y,y.c=G.c,y.i=G.i,y.l=G.l,y.l.ma=G,y.l.width=G.c,y.l.height=G.i,y.a=0,K(y.m,J,Pe,be),!ke(G.c,G.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&re(y.s)?(G.ic=1,J=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(J),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(G.ic=0,y=Ie(y,G.c)),!y))break t;y=1;break e}G.mc=null,y=0}else y=be>=G.c*G.i;G=!y}if(G)return null;p.ga.Lc!=1?p.Ga=0:O=Y-k}e(p.ga!=null),e(k+O<=Y);e:{if(y=(J=p.ga).c,Y=J.l.o,J.$a==0){if(Pe=p.rc,be=p.Vc,$e=p.Fa,te=p.P+1+k*y,oe=p.mb,_e=p.nb+k*y,e(te<=p.P+p.qc),J.Z!=0)for(e(Sc[J.Z]!=null),G=0;G<O;++G)Sc[J.Z](Pe,be,$e,te,oe,_e,y),Pe=oe,be=_e,_e+=y,te+=y;else for(G=0;G<O;++G)r(oe,_e,$e,te,y),Pe=oe,be=_e,_e+=y,te+=y;p.rc=Pe,p.Vc=be}else{if(e(J.mc!=null),y=k+O,e((G=J.mc)!=null),e(y<=G.i),G.C>=y)y=1;else if(J.ic||Te(),J.ic){J=G.V,Pe=G.Ba,be=G.c;var Be=G.i,we=($e=1,te=G.$/be,oe=G.$%be,_e=G.m,Ne=G.s,G.$),xe=be*Be,ze=be*y,Qe=Ne.wc,qe=we<ze?ur(Ne,oe,te):null;e(we<=xe),e(y<=Be),e(re(Ne));t:for(;;){for(;!_e.h&&we<ze;){if(oe&Qe||(qe=ur(Ne,oe,te)),e(qe!=null),Q(_e),256>(Be=wr(qe.G[0],qe.H[0],_e)))J[Pe+we]=Be,++we,++oe>=be&&(oe=0,++te<=y&&!(te%16)&&le(G,te));else{if(!(280>Be)){$e=0;break t}Be=ji(Be-256,_e);var wt,dt=wr(qe.G[4],qe.H[4],_e);if(Q(_e),!(we>=(dt=Br(be,dt=ji(dt,_e)))&&xe-we>=Be)){$e=0;break t}for(wt=0;wt<Be;++wt)J[Pe+we+wt]=J[Pe+we+wt-dt];for(we+=Be,oe+=Be;oe>=be;)oe-=be,++te<=y&&!(te%16)&&le(G,te);we<ze&&oe&Qe&&(qe=ur(Ne,oe,te))}e(_e.h==j(_e))}le(G,te>y?y:te);break t}!$e||_e.h&&we<xe?($e=0,G.a=_e.h?5:3):G.$=we,y=$e}else y=ue(G,G.V,G.Ba,G.c,G.i,y,Re);if(!y){O=0;break e}}k+O>=Y&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+k*H}function S(p,y,k,O,H,Y){for(;0<H--;){var G,J=p,te=y+(k?1:0),oe=p,_e=y+(k?0:3);for(G=0;G<O;++G){var Ne=oe[_e+4*G];Ne!=255&&(Ne*=32897,J[te+4*G+0]=J[te+4*G+0]*Ne>>23,J[te+4*G+1]=J[te+4*G+1]*Ne>>23,J[te+4*G+2]=J[te+4*G+2]*Ne>>23)}y+=Y}}function W(p,y,k,O,H){for(;0<O--;){var Y;for(Y=0;Y<k;++Y){var G=p[y+2*Y+0],J=15&(oe=p[y+2*Y+1]),te=4369*J,oe=(240&oe|oe>>4)*te>>16;p[y+2*Y+0]=(240&G|G>>4)*te>>16&240|(15&G|G<<4)*te>>16>>4&15,p[y+2*Y+1]=240&oe|J}y+=H}}function fe(p,y,k,O,H,Y,G,J){var te,oe,_e=255;for(oe=0;oe<H;++oe){for(te=0;te<O;++te){var Ne=p[y+te];Y[G+4*te]=Ne,_e&=Ne}y+=k,G+=J}return _e!=255}function ye(p,y,k,O,H){var Y;for(Y=0;Y<H;++Y)k[O+Y]=p[y+Y]>>8}function Te(){_o=S,Qn=W,Xn=fe,Ir=ye}function Ue(p,y,k){b[p]=function(O,H,Y,G,J,te,oe,_e,Ne,Pe,be,$e,Be,we,xe,ze,Qe){var qe,wt=Qe-1>>1,dt=J[te+0]|oe[_e+0]<<16,Lt=Ne[Pe+0]|be[$e+0]<<16;e(O!=null);var vt=3*dt+Lt+131074>>2;for(y(O[H+0],255&vt,vt>>16,Be,we),Y!=null&&(vt=3*Lt+dt+131074>>2,y(Y[G+0],255&vt,vt>>16,xe,ze)),qe=1;qe<=wt;++qe){var wn=J[te+qe]|oe[_e+qe]<<16,kn=Ne[Pe+qe]|be[$e+qe]<<16,mn=dt+wn+Lt+kn+524296,an=mn+2*(wn+Lt)>>3;vt=an+dt>>1,dt=(mn=mn+2*(dt+kn)>>3)+wn>>1,y(O[H+2*qe-1],255&vt,vt>>16,Be,we+(2*qe-1)*k),y(O[H+2*qe-0],255&dt,dt>>16,Be,we+(2*qe-0)*k),Y!=null&&(vt=mn+Lt>>1,dt=an+kn>>1,y(Y[G+2*qe-1],255&vt,vt>>16,xe,ze+(2*qe-1)*k),y(Y[G+2*qe+0],255&dt,dt>>16,xe,ze+(2*qe+0)*k)),dt=wn,Lt=kn}1&Qe||(vt=3*dt+Lt+131074>>2,y(O[H+Qe-1],255&vt,vt>>16,Be,we+(Qe-1)*k),Y!=null&&(vt=3*Lt+dt+131074>>2,y(Y[G+Qe-1],255&vt,vt>>16,xe,ze+(Qe-1)*k)))}}function Je(){xo[Lg]=MF,xo[Og]=Nb,xo[bb]=BF,xo[Fg]=Pb,xo[Mg]=Db,xo[w_]=Rb,xo[Ab]=jF,xo[x_]=Nb,xo[E_]=Pb,xo[Bg]=Db,xo[S_]=Rb}function pt(p){return p&~UF?0>p?0:255:p>>Lb}function m(p,y){return pt((19077*p>>8)+(26149*y>>8)-14234)}function P(p,y,k){return pt((19077*p>>8)-(6419*y>>8)-(13320*k>>8)+8708)}function F(p,y){return pt((19077*p>>8)+(33050*y>>8)-17685)}function X(p,y,k,O,H){O[H+0]=m(p,k),O[H+1]=P(p,y,k),O[H+2]=F(p,y)}function Se(p,y,k,O,H){O[H+0]=F(p,y),O[H+1]=P(p,y,k),O[H+2]=m(p,k)}function De(p,y,k,O,H){var Y=P(p,y,k);y=Y<<3&224|F(p,y)>>3,O[H+0]=248&m(p,k)|Y>>5,O[H+1]=y}function Ze(p,y,k,O,H){var Y=240&F(p,y)|15;O[H+0]=240&m(p,k)|P(p,y,k)>>4,O[H+1]=Y}function Ht(p,y,k,O,H){O[H+0]=255,X(p,y,k,O,H+1)}function on(p,y,k,O,H){Se(p,y,k,O,H),O[H+3]=255}function zt(p,y,k,O,H){X(p,y,k,O,H),O[H+3]=255}function An(p,y){return 0>p?0:p>y?y:p}function $n(p,y,k){b[p]=function(O,H,Y,G,J,te,oe,_e,Ne){for(var Pe=_e+(-2&Ne)*k;_e!=Pe;)y(O[H+0],Y[G+0],J[te+0],oe,_e),y(O[H+1],Y[G+0],J[te+0],oe,_e+k),H+=2,++G,++te,_e+=2*k;1&Ne&&y(O[H+0],Y[G+0],J[te+0],oe,_e)}}function Ho(p,y,k){return k==0?p==0?y==0?6:5:y==0?4:0:k}function Ei(p,y,k,O,H){switch(p>>>30){case 3:dl(y,k,O,H,0);break;case 2:kr(y,k,O,H);break;case 1:cs(y,k,O,H)}}function Ea(p,y){var k,O,H=y.M,Y=y.Nb,G=p.oc,J=p.pc+40,te=p.oc,oe=p.pc+584,_e=p.oc,Ne=p.pc+600;for(k=0;16>k;++k)G[J+32*k-1]=129;for(k=0;8>k;++k)te[oe+32*k-1]=129,_e[Ne+32*k-1]=129;for(0<H?G[J-1-32]=te[oe-1-32]=_e[Ne-1-32]=129:(i(G,J-32-1,127,21),i(te,oe-32-1,127,9),i(_e,Ne-32-1,127,9)),O=0;O<p.za;++O){var Pe=y.ya[y.aa+O];if(0<O){for(k=-1;16>k;++k)r(G,J+32*k-4,G,J+32*k+12,4);for(k=-1;8>k;++k)r(te,oe+32*k-4,te,oe+32*k+4,4),r(_e,Ne+32*k-4,_e,Ne+32*k+4,4)}var be=p.Gd,$e=p.Hd+O,Be=Pe.ad,we=Pe.Hc;if(0<H&&(r(G,J-32,be[$e].y,0,16),r(te,oe-32,be[$e].f,0,8),r(_e,Ne-32,be[$e].ea,0,8)),Pe.Za){var xe=G,ze=J-32+16;for(0<H&&(O>=p.za-1?i(xe,ze,be[$e].y[15],4):r(xe,ze,be[$e+1].y,0,4)),k=0;4>k;k++)xe[ze+128+k]=xe[ze+256+k]=xe[ze+384+k]=xe[ze+0+k];for(k=0;16>k;++k,we<<=2)xe=G,ze=J+Fb[k],zo[Pe.Ob[k]](xe,ze),Ei(we,Be,16*+k,xe,ze)}else if(xe=Ho(O,H,Pe.Ob[0]),Ec[xe](G,J),we!=0)for(k=0;16>k;++k,we<<=2)Ei(we,Be,16*+k,G,J+Fb[k]);for(k=Pe.Gc,xe=Ho(O,H,Pe.Dd),ml[xe](te,oe),ml[xe](_e,Ne),we=Be,xe=te,ze=oe,255&(Pe=k>>0)&&(170&Pe?Dp(we,256,xe,ze):vo(we,256,xe,ze)),Pe=_e,we=Ne,255&(k>>=8)&&(170&k?Dp(Be,320,Pe,we):vo(Be,320,Pe,we)),H<p.Ub-1&&(r(be[$e].y,0,G,J+480,16),r(be[$e].f,0,te,oe+224,8),r(be[$e].ea,0,_e,Ne+224,8)),k=8*Y*p.B,be=p.sa,$e=p.ta+16*O+16*Y*p.R,Be=p.qa,Pe=p.ra+8*O+k,we=p.Ha,xe=p.Ia+8*O+k,k=0;16>k;++k)r(be,$e+k*p.R,G,J+32*k,16);for(k=0;8>k;++k)r(Be,Pe+k*p.B,te,oe+32*k,8),r(we,xe+k*p.B,_e,Ne+32*k,8)}}function Sa(p,y,k,O,H,Y,G,J,te){var oe=[0],_e=[0],Ne=0,Pe=te!=null?te.kd:0,be=te??new pc;if(p==null||12>k)return 7;be.data=p,be.w=y,be.ha=k,y=[y],k=[k],be.gb=[be.gb];e:{var $e=y,Be=k,we=be.gb;if(e(p!=null),e(Be!=null),e(we!=null),we[0]=0,12<=Be[0]&&!t(p,$e[0],"RIFF")){if(t(p,$e[0]+8,"WEBP")){we=3;break e}var xe=tt(p,$e[0]+4);if(12>xe||4294967286<xe){we=3;break e}if(Pe&&xe>Be[0]-8){we=7;break e}we[0]=xe,$e[0]+=12,Be[0]-=12}we=0}if(we!=0)return we;for(xe=0<be.gb[0],k=k[0];;){e:{var ze=p;Be=y,we=k;var Qe=oe,qe=_e,wt=$e=[0];if((vt=Ne=[Ne])[0]=0,8>we[0])we=7;else{if(!t(ze,Be[0],"VP8X")){if(tt(ze,Be[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var dt=tt(ze,Be[0]+8),Lt=1+We(ze,Be[0]+12);if(2147483648<=Lt*(ze=1+We(ze,Be[0]+15))){we=3;break e}wt!=null&&(wt[0]=dt),Qe!=null&&(Qe[0]=Lt),qe!=null&&(qe[0]=ze),Be[0]+=18,we[0]-=18,vt[0]=1}we=0}}if(Ne=Ne[0],$e=$e[0],we!=0)return we;if(Be=!!(2&$e),!xe&&Ne)return 3;if(Y!=null&&(Y[0]=!!(16&$e)),G!=null&&(G[0]=Be),J!=null&&(J[0]=0),G=oe[0],$e=_e[0],Ne&&Be&&te==null){we=0;break}if(4>k){we=7;break}if(xe&&Ne||!xe&&!Ne&&!t(p,y[0],"ALPH")){k=[k],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{dt=p,we=y,xe=k;var vt=be.gb;Qe=be.na,qe=be.P,wt=be.Sa,Lt=22,e(dt!=null),e(xe!=null),ze=we[0];var wn=xe[0];for(e(Qe!=null),e(wt!=null),Qe[0]=null,qe[0]=null,wt[0]=0;;){if(we[0]=ze,xe[0]=wn,8>wn){we=7;break e}var kn=tt(dt,ze+4);if(4294967286<kn){we=3;break e}var mn=8+kn+1&-2;if(Lt+=mn,0<vt&&Lt>vt){we=3;break e}if(!t(dt,ze,"VP8 ")||!t(dt,ze,"VP8L")){we=0;break e}if(wn[0]<mn){we=7;break e}t(dt,ze,"ALPH")||(Qe[0]=dt,qe[0]=ze+8,wt[0]=kn),ze+=mn,wn-=mn}}if(k=k[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],we!=0)break}k=[k],be.Ja=[be.Ja],be.xa=[be.xa];e:if(vt=p,we=y,xe=k,Qe=be.gb[0],qe=be.Ja,wt=be.xa,dt=we[0],ze=!t(vt,dt,"VP8 "),Lt=!t(vt,dt,"VP8L"),e(vt!=null),e(xe!=null),e(qe!=null),e(wt!=null),8>xe[0])we=7;else{if(ze||Lt){if(vt=tt(vt,dt+4),12<=Qe&&vt>Qe-12){we=3;break e}if(Pe&&vt>xe[0]-8){we=7;break e}qe[0]=vt,we[0]+=8,xe[0]-=8,wt[0]=Lt}else wt[0]=5<=xe[0]&&vt[dt+0]==47&&!(vt[dt+4]>>5),qe[0]=xe[0];we=0}if(k=k[0],be.Ja=be.Ja[0],be.xa=be.xa[0],y=y[0],we!=0)break;if(4294967286<be.Ja)return 3;if(J==null||Be||(J[0]=be.xa?2:1),G=[G],$e=[$e],be.xa){if(5>k){we=7;break}J=G,Pe=$e,Be=Y,p==null||5>k?p=0:5<=k&&p[y+0]==47&&!(p[y+4]>>5)?(xe=[0],vt=[0],Qe=[0],K(qe=new N,p,y,k),xt(qe,xe,vt,Qe)?(J!=null&&(J[0]=xe[0]),Pe!=null&&(Pe[0]=vt[0]),Be!=null&&(Be[0]=Qe[0]),p=1):p=0):p=0}else{if(10>k){we=7;break}J=$e,p==null||10>k||!Wu(p,y+3,k-3)?p=0:(Pe=p[y+0]|p[y+1]<<8|p[y+2]<<16,Be=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=be.Ja||!Be||!p?p=0:(G&&(G[0]=Be),J&&(J[0]=p),p=1))}if(!p||(G=G[0],$e=$e[0],Ne&&(oe[0]!=G||_e[0]!=$e)))return 3;te!=null&&(te[0]=be,te.offset=y-te.w,e(4294967286>y-te.w),e(te.offset==te.ha-k));break}return we==0||we==7&&Ne&&te==null?(Y!=null&&(Y[0]|=be.na!=null&&0<be.na.length),O!=null&&(O[0]=G),H!=null&&(H[0]=$e),0):we}function kp(p,y,k){var O=y.width,H=y.height,Y=0,G=0,J=O,te=H;if(y.Da=p!=null&&0<p.Da,y.Da&&(J=p.cd,te=p.bd,Y=p.v,G=p.j,11>k||(Y&=-2,G&=-2),0>Y||0>G||0>=J||0>=te||Y+J>O||G+te>H))return 0;if(y.v=Y,y.j=G,y.va=Y+J,y.o=G+te,y.U=J,y.T=te,y.da=p!=null&&0<p.da,y.da){if(!Ye(J,te,k=[p.ib],Y=[p.hb]))return 0;y.ib=k[0],y.hb=Y[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*O/4&&y.hb<3*H/4,y.Kb=0),1}function Ip(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function bf(p,y,k,O){if(O==null||0>=p||0>=y)return 2;if(k!=null){if(k.Da){var H=k.cd,Y=k.bd,G=-2&k.v,J=-2&k.j;if(0>G||0>J||0>=H||0>=Y||G+H>p||J+Y>y)return 2;p=H,y=Y}if(k.da){if(!Ye(p,y,H=[k.ib],Y=[k.hb]))return 2;p=H[0],y=Y[0]}}O.width=p,O.height=y;e:{var te=O.width,oe=O.height;if(p=O.S,0>=te||0>=oe||!(p>=Lg&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){G=Y=H=y=0;var _e=(J=te*Mb[p])*oe;if(11>p||(Y=(oe+1)/2*(y=(te+1)/2),p==12&&(G=(H=te)*oe)),(oe=s(_e+2*Y+G))==null){p=1;break e}O.sd=oe,11>p?((te=O.f.RGBA).eb=oe,te.fb=0,te.A=J,te.size=_e):((te=O.f.kb).y=oe,te.O=0,te.fa=J,te.Fd=_e,te.f=oe,te.N=0+_e,te.Ab=y,te.Cd=Y,te.ea=oe,te.W=0+_e+Y,te.Db=y,te.Ed=Y,p==12&&(te.F=oe,te.J=0+_e+2*Y),te.Tc=G,te.lb=H)}if(y=1,H=O.S,Y=O.width,G=O.height,H>=Lg&&13>H)if(11>H)p=O.f.RGBA,y&=(J=Math.abs(p.A))*(G-1)+Y<=p.size,y&=J>=Y*Mb[H],y&=p.eb!=null;else{p=O.f.kb,J=(Y+1)/2,_e=(G+1)/2,te=Math.abs(p.fa),oe=Math.abs(p.Ab);var Ne=Math.abs(p.Db),Pe=Math.abs(p.lb),be=Pe*(G-1)+Y;y&=te*(G-1)+Y<=p.Fd,y&=oe*(_e-1)+J<=p.Cd,y=(y&=Ne*(_e-1)+J<=p.Ed)&te>=Y&oe>=J&Ne>=J,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,H==12&&(y&=Pe>=Y,y&=be<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||k!=null&&k.fd&&(p=Ip(O)),p}var Si=64,Af=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cf=24,kf=32,Np=8,bs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(p){return p},b.Predictor2=function(p,y,k){return y[k+0]},b.Predictor3=function(p,y,k){return y[k+1]},b.Predictor4=function(p,y,k){return y[k-1]},b.Predictor5=function(p,y,k){return ht(ht(p,y[k+1]),y[k+0])},b.Predictor6=function(p,y,k){return ht(p,y[k-1])},b.Predictor7=function(p,y,k){return ht(p,y[k+0])},b.Predictor8=function(p,y,k){return ht(y[k-1],y[k+0])},b.Predictor9=function(p,y,k){return ht(y[k+0],y[k+1])},b.Predictor10=function(p,y,k){return ht(ht(p,y[k-1]),ht(y[k+0],y[k+1]))},b.Predictor11=function(p,y,k){var O=y[k+0];return 0>=Mt(O>>24&255,p>>24&255,(y=y[k-1])>>24&255)+Mt(O>>16&255,p>>16&255,y>>16&255)+Mt(O>>8&255,p>>8&255,y>>8&255)+Mt(255&O,255&p,255&y)?O:p},b.Predictor12=function(p,y,k){var O=y[k+0];return(At((p>>24&255)+(O>>24&255)-((y=y[k-1])>>24&255))<<24|At((p>>16&255)+(O>>16&255)-(y>>16&255))<<16|At((p>>8&255)+(O>>8&255)-(y>>8&255))<<8|At((255&p)+(255&O)-(255&y)))>>>0},b.Predictor13=function(p,y,k){var O=y[k-1];return(kt((p=ht(p,y[k+0]))>>24&255,O>>24&255)<<24|kt(p>>16&255,O>>16&255)<<16|kt(p>>8&255,O>>8&255)<<8|kt(p>>0&255,O>>0&255))>>>0};var y_=b.PredictorAdd0;b.PredictorAdd1=It,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Pp=b.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var kg,go=b.ColorIndexInverseTransform,If=b.MapARGB,Ig=b.VP8LColorIndexInverseTransformAlpha,Ng=b.MapAlpha,yc=b.VP8LPredictorsAdd=[];yc.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var eh,As,ls,_c,hl,fl,Nf,dl,kr,Dp,cs,vo,Pf,Pg,Rp,th,nh,wc,rh,Df,ih,xc,Lp,yo,_o,Qn,Xn,Ir,Xr=s(511),pl=s(2041),Op=s(225),Rf=s(767),Dg=0,__=pl,Rg=Op,Gs=Rf,wo=Xr,Lg=0,Og=1,bb=2,Fg=3,Mg=4,w_=5,Ab=6,x_=7,E_=8,Bg=9,S_=10,SF=[2,3,7],TF=[3,3,11],Cb=[280,256,256,256,40],bF=[0,1,1,1,0],AF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],CF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],kF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],IF=8,T_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],b_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fp=null,NF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],PF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],OF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ec=[],zo=[],ml=[],FF=1,Ib=2,Sc=[],xo=[];Ue("UpsampleRgbLinePair",X,3),Ue("UpsampleBgrLinePair",Se,3),Ue("UpsampleRgbaLinePair",zt,4),Ue("UpsampleBgraLinePair",on,4),Ue("UpsampleArgbLinePair",Ht,4),Ue("UpsampleRgba4444LinePair",Ze,2),Ue("UpsampleRgb565LinePair",De,2);var MF=b.UpsampleRgbLinePair,BF=b.UpsampleBgrLinePair,Nb=b.UpsampleRgbaLinePair,Pb=b.UpsampleBgraLinePair,Db=b.UpsampleArgbLinePair,Rb=b.UpsampleRgba4444LinePair,jF=b.UpsampleRgb565LinePair,jg=16,Ug=1<<jg-1,Mp=-227,A_=482,Lb=6,UF=(256<<Lb)-1,Ob=0,VF=s(256),WF=s(256),HF=s(256),zF=s(256),qF=s(A_-Mp),$F=s(A_-Mp);$n("YuvToRgbRow",X,3),$n("YuvToBgrRow",Se,3),$n("YuvToRgbaRow",zt,4),$n("YuvToBgraRow",on,4),$n("YuvToArgbRow",Ht,4),$n("YuvToRgba4444Row",Ze,2),$n("YuvToRgb565Row",De,2);var Fb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vg=[0,2,8],YF=[8,7,6,4,4,2,2,2,1,1,1,1],GF=1;this.WebPDecodeRGBA=function(p,y,k,O,H){var Y=Og,G=new cl,J=new Kr;G.ba=J,J.S=Y,J.width=[J.width],J.height=[J.height];var te=J.width,oe=J.height,_e=new is;if(_e==null||p==null)var Ne=2;else e(_e!=null),Ne=Sa(p,y,k,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ne!=0?te=0:(te!=null&&(te[0]=_e.width[0]),oe!=null&&(oe[0]=_e.height[0]),te=1),te){J.width=J.width[0],J.height=J.height[0],O!=null&&(O[0]=J.width),H!=null&&(H[0]=J.height);e:{if(O=new zs,(H=new pc).data=p,H.w=y,H.ha=k,H.kd=1,y=[0],e(H!=null),((p=Sa(H.data,H.w,H.ha,null,null,null,y,null,H))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(e(G!=null),O.data=H.data,O.w=H.w+H.offset,O.ha=H.ha-H.offset,O.put=ri,O.ac=_r,O.bc=ss,O.ma=G,H.xa){if((p=Oe())==null){G=1;break e}if(function(Pe,be){var $e=[0],Be=[0],we=[0];t:for(;;){if(Pe==null)return 0;if(be==null)return Pe.a=2,0;if(Pe.l=be,Pe.a=0,K(Pe.m,be.data,be.w,be.ha),!xt(Pe.m,$e,Be,we)){Pe.a=3;break t}if(Pe.xb=Ib,be.width=$e[0],be.height=Be[0],!ke($e[0],Be[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(p,O)){if(O=(y=bf(O.width,O.height,G.Oa,G.ba))==0){t:{O=p;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((k=O.l)!=null),e((H=k.ma)!=null),O.xb!=0){if(O.ca=H.ba,O.tb=H.tb,e(O.ca!=null),!kp(H.Oa,k,Fg)){O.a=2;break n}if(!Ie(O,k.width)||k.da)break n;if((k.da||rn(O.ca.S))&&Te(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Te()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!at(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!ue(O,O.V,O.Ba,O.c,O.i,k.o,ce))break n;H.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(y=p.a)}else y=p.a}else{if((p=new wi)==null){G=1;break e}if(p.Fa=H.na,p.P=H.P,p.qc=H.Sa,Hu(p,O)){if((y=bf(O.width,O.height,G.Oa,G.ba))==0){if(p.Aa=0,k=G.Oa,e((H=p)!=null),k!=null){if(0<(te=0>(te=k.Md)?0:100<te?255:255*te/100)){for(oe=_e=0;4>oe;++oe)12>(Ne=H.pb[oe]).lc&&(Ne.ia=te*YF[0>Ne.lc?0:Ne.lc]>>3),_e|=Ne.ia;_e&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=k.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}yf(p,O)||(y=p.a)}}else y=p.a}y==0&&G.Oa!=null&&G.Oa.fd&&(y=Ip(G.ba))}G=y}Y=G!=0?null:11>Y?J.f.RGBA.eb:J.f.kb.y}else Y=null;return Y};var Mb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(b,I){for(var L="",A=0;A<4;A++)L+=String.fromCharCode(b[I++]);return L}function u(b,I){return(b[I+0]<<0|b[I+1]<<8|b[I+2]<<16)>>>0}function h(b,I){return(b[I+0]<<0|b[I+1]<<8|b[I+2]<<16|b[I+3]<<24)>>>0}new l;var d=[0],f=[0],v=[],g=new l,E=n,_=function(b,I){var L={},A=0,C=!1,D=0,q=0;if(L.frames=[],!function(M,j,U,Q){for(var ie=0;ie<Q;ie++)if(M[j+ie]!=U.charCodeAt(ie))return!0;return!1}(b,I,"RIFF",4)){var he,ne;for(h(b,I+=4),I+=8;I<b.length;){var ee=c(b,I),K=h(b,I+=4);I+=4;var Z=K+(1&K);switch(ee){case"VP8 ":case"VP8L":L.frames[A]===void 0&&(L.frames[A]={}),(N=L.frames[A]).src_off=C?q:I-8,N.src_size=D+K+8,A++,C&&(C=!1,D=0,q=0);break;case"VP8X":(N=L.header={}).feature_flags=b[I];var me=I+4;N.canvas_width=1+u(b,me),me+=3,N.canvas_height=1+u(b,me),me+=3;break;case"ALPH":C=!0,D=Z+8,q=I-8;break;case"ANIM":(N=L.header).bgcolor=h(b,I),me=I+4,N.loop_count=(he=b)[(ne=me)+0]<<0|he[ne+1]<<8,me+=2;break;case"ANMF":var Ae,N;(N=L.frames[A]={}).offset_x=2*u(b,I),I+=3,N.offset_y=2*u(b,I),I+=3,N.width=1+u(b,I),I+=3,N.height=1+u(b,I),I+=3,N.duration=u(b,I),I+=3,Ae=b[I++],N.dispose=1&Ae,N.blend=Ae>>1&1}ee!="ANMF"&&(I+=Z)}return L}}(E,0);_.response=E,_.rgbaoutput=!0,_.dataurl=!1;var w=_.header?_.header:null,x=_.frames?_.frames:null;if(w){w.loop_counter=w.loop_count,d=[w.canvas_height],f=[w.canvas_width];for(var R=0;R<x.length&&x[R].blend!=0;R++);}var B=x[0],V=g.WebPDecodeRGBA(E,B.src_off,B.src_size,f,d);B.rgba=V,B.imgwidth=f[0],B.imgheight=d[0];for(var T=0;T<f[0]*d[0]*4;T++)v[T]=V[T];return this.width=f,this.height=d,this.data=v,this}(function(n){var e=function(){return typeof q5=="function"},t=function(d,f,v,g){var E=4,_=o;switch(g){case n.image_compression.FAST:E=1,_=s;break;case n.image_compression.MEDIUM:E=6,_=a;break;case n.image_compression.SLOW:E=9,_=l}d=r(d,f,v,_);var w=q5(d,{level:E});return n.__addimage__.arrayBufferToBinaryString(w)},r=function(d,f,v,g){for(var E,_,w,x=d.length/f,R=new Uint8Array(d.length+x),B=u(),V=0;V<x;V+=1){if(w=V*f,E=d.subarray(w,w+f),g)R.set(g(E,v,_),w+V);else{for(var T,b=B.length,I=[];T<b;T+=1)I[T]=B[T](E,v,_);var L=h(I.concat());R.set(I[L],w+V)}_=E}return R},i=function(d){var f=Array.apply([],d);return f.unshift(0),f},s=function(d,f){var v,g=[],E=d.length;g[0]=1;for(var _=0;_<E;_+=1)v=d[_-f]||0,g[_+1]=d[_]-v+256&255;return g},o=function(d,f,v){var g,E=[],_=d.length;E[0]=2;for(var w=0;w<_;w+=1)g=v&&v[w]||0,E[w+1]=d[w]-g+256&255;return E},a=function(d,f,v){var g,E,_=[],w=d.length;_[0]=3;for(var x=0;x<w;x+=1)g=d[x-f]||0,E=v&&v[x]||0,_[x+1]=d[x]+256-(g+E>>>1)&255;return _},l=function(d,f,v){var g,E,_,w,x=[],R=d.length;x[0]=4;for(var B=0;B<R;B+=1)g=d[B-f]||0,E=v&&v[B]||0,_=v&&v[B-f]||0,w=c(g,E,_),x[B+1]=d[B]-w+256&255;return x},c=function(d,f,v){if(d===f&&f===v)return d;var g=Math.abs(f-v),E=Math.abs(d-v),_=Math.abs(d+f-v-v);return g<=E&&g<=_?d:E<=_?f:v},u=function(){return[i,s,o,a,l]},h=function(d){var f=d.map(function(v){return v.reduce(function(g,E){return g+Math.abs(E)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(d,f,v,g){var E,_,w,x,R,B,V,T,b,I,L,A,C,D,q,he=this.decode.FLATE_DECODE,ne="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(w=new Bte(d)).imgData,_=w.bits,E=w.colorSpace,R=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){b=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,L=new Uint8Array(b*w.colors),I=new Uint8Array(b);var ee,K=w.pixelBitlength-w.bits;for(D=0,q=0;D<b;D++){for(C=T[D],ee=0;ee<K;)L[q++]=C>>>ee&255,ee+=w.bits;I[D]=C>>>ee&255}}if(w.bits===16){b=(T=new Uint32Array(w.decodePixels().buffer)).length,L=new Uint8Array(b*(32/w.pixelBitlength)*w.colors),I=new Uint8Array(b*(32/w.pixelBitlength)),A=w.colors>1,D=0,q=0;for(var Z=0;D<b;)C=T[D++],L[q++]=C>>>0&255,A&&(L[q++]=C>>>16&255,C=T[D++],L[q++]=C>>>0&255),I[Z++]=C>>>16&255;_=8}g!==n.image_compression.NONE&&e()?(d=t(L,w.width*w.colors,w.colors,g),V=t(I,w.width,1,g)):(d=L,V=I,he=void 0)}if(w.colorType===3&&(E=this.color_spaces.INDEXED,B=w.palette,w.transparency.indexed)){var me=w.transparency.indexed,Ae=0;for(D=0,b=me.length;D<b;++D)Ae+=me[D];if((Ae/=255)===b-1&&me.indexOf(0)!==-1)x=[me.indexOf(0)];else if(Ae!==b){for(T=w.decodePixels(),I=new Uint8Array(T.length),D=0,b=T.length;D<b;D++)I[D]=me[T[D]];V=t(I,w.width,1)}}var N=function(M){var j;switch(M){case n.image_compression.FAST:j=11;break;case n.image_compression.MEDIUM:j=13;break;case n.image_compression.SLOW:j=14;break;default:j=12}return j}(g);return he===this.decode.FLATE_DECODE&&(ne="/Predictor "+N+" "),ne+="/Colors "+R+" /BitsPerComponent "+_+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:v,data:d,index:f,filter:he,decodeParameters:ne,transparency:x,palette:B,sMask:V,predictor:N,width:w.width,height:w.height,bitsPerComponent:_,colorSpace:E}}}})(Ot.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new jte(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new qw(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(Ot.API),Qo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Gn.log("bit decode error:"+t)}},Qo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Qo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Qo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Qo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},Qo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Qo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Qo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Qo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Qo(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new qw(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Ot.API),hk.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new hk(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new qw(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Ot.API),Ot.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],d=r[c+2],f=r[c+3];s[a++]=u,s[a++]=h,s[a++]=d,o[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ot.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zf=Ot.API,R1=zf.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,d=0,f=n.length,v=0,g=a[0]||l,E=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=h&&Fn(c[r])==="object"&&!isNaN(parseInt(c[r][v],10))?c[r][v]/u:0,E.push((a[r]||g)/l+d)),v=r;return E},ak=zf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zf.processArabic&&(n=zf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:R1.apply(this,arguments).reduce(function(s,o){return s+o},0)},lk=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},ck=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],h=[u],d=t.textIndent||0,f=0,v=0,g=n.split(" "),E=R1.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var _=Array(l).join(" "),w=[];g.map(function(R){(R=R.split(/\s*\n/)).length>1?w=w.concat(R.map(function(B,V){return(V&&B.length?`
`:"")+B})):w.push(R[0])}),g=w,l=ak.apply(this,[_,t])}for(s=0,o=g.length;s<o;s++){var x=0;if(r=g[s],l&&r[0]==`
`&&(r=r.substr(1),x=1),d+f+(v=(i=R1.apply(this,[r,t])).reduce(function(R,B){return R+B},0))>e||x){if(v>e){for(a=lk.apply(this,[r,i,e-(d+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);v=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(R,B){return R+B},0)}else u=[r];h.push(u),d=v+l,f=E}else u.push(r),d+=f+v,f=E}return c=l?function(R,B){return(B?_:"")+R.join(" ")}:function(R){return R.join(" ")},h.map(c)},zf.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(ck.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var d,f,v,g,E=["{"];for(var _ in h){if(d=h[_],isNaN(parseInt(_,10))?f="'"+_+"'":(_=parseInt(_,10),f=(f=s(_).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof d=="number")d<0?(v=s(d).slice(3),g="-"):(v=s(d).slice(2),g=""),v=g+v.slice(0,-1)+r[v.slice(-1)];else{if(Fn(d)!=="object")throw new Error("Don't know what to do with value type "+Fn(d)+".");v=o(d)}E.push(f+v)}return E.push("}"),E.join("")},a=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,f,v,g,E={},_=1,w=E,x=[],R="",B="",V=h.length-1,T=1;T<V;T+=1)(g=h[T])=="'"?d?(v=d.join(""),d=void 0):d=[]:d?d.push(g):g=="{"?(x.push([w,v]),w={},v=void 0):g=="}"?((f=x.pop())[0][f[1]]=w,v=void 0,w=f[0]):g=="-"?_=-1:v===void 0?t.hasOwnProperty(g)?(R+=t[g],v=parseInt(R,16)*_,_=1,R=""):R+=g:t.hasOwnProperty(g)?(B+=t[g],w[v]=parseInt(B,16)*_,_=1,v=void 0,B=""):B+=g;return E},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var d=h.font,f=u.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var v=c.Unicode[d.postScriptName];v&&(d.metadata.Unicode.encoding=v,d.encoding=v.codePages[0])}])}(Ot.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(G0(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ot),function(n){function e(){return(Bt.canvg?Promise.resolve(Bt.canvg):U5(()=>import("./index.es-pxZlGcYz.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ot.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(v){return v.fromString(h,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(d)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),Ot.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ot.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function d(v,g){var E,_=!1;for(E=0;E<v.length;E+=1)v[E]===g&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if(Fn(n)==="object"){for(i in n)if(s=n[i],d(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&d(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?g.push("/"+v+" /"+t[v].value):g.push("/"+v+" "+t[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ot.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,d=s.length;h<d;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(a=Object.keys(s).sort(function(f,v){return f-v})).length;h<d;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",v=0;v<d.length;v++)f+=String.fromCharCode(d[v]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var E=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Xf(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Xf(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+Xf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var v=c();u({data:d,addLength1:!0,objectId:v}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var E=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Xf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Xf(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,v=h.fonts,g=f,E="",_=0,w="",x=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(w=a,g=f,Array.isArray(a)&&(w=a[0]),_=0;_<w.length;_+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[w[_].charCodeAt(0)]),o||w[_].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?E+=w[_]:E+="";var R="";return parseInt(g.slice(1))<14||x==="WinAnsiEncoding"?R=d(E,g).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(R=t(E,v[g])),h.isHex=!0,{text:R,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Ot),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ot.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var R=function(A){var C=A.charCodeAt(),D=C>>8,q=g[D];return q!==void 0?h[256*q+(255&C)]:D===252||D===253?"AL":_.test(D)?"L":D===8?"R":"N"},B=function(A){for(var C,D=0;D<A.length;D++){if((C=R(A.charAt(D)))==="L")return!1;if(C==="R")return!0}return!1},V=function(A,C,D,q){var he,ne,ee,K,Z=C[q];switch(Z){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Z="AN");break;case"AL":w=!0,Z="R";break;case"WS":Z="N";break;case"CS":q<1||q+1>=C.length||(he=D[q-1])!=="EN"&&he!=="AN"||(ne=C[q+1])!=="EN"&&ne!=="AN"?Z="N":w&&(ne="AN"),Z=ne===he?ne:"N";break;case"ES":Z=(he=q>0?D[q-1]:"B")==="EN"&&q+1<C.length&&C[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&D[q-1]==="EN"){Z="EN";break}if(w){Z="N";break}for(ee=q+1,K=C.length;ee<K&&C[ee]==="ET";)ee++;Z=ee<K&&C[ee]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(K=C.length,ee=q+1;ee<K&&C[ee]==="NSM";)ee++;if(ee<K){var me=A[q],Ae=me>=1425&&me<=2303||me===64286;if(he=C[ee],Ae&&(he==="R"||he==="AL")){Z="R";break}}}Z=q<1||(he=C[q-1])==="B"?"N":D[q-1];break;case"B":w=!1,i=!0,Z=x;break;case"S":s=!0,Z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Z="N"}return Z},T=function(A,C,D){var q=A.split("");return D&&b(q,D,{hiLevel:x}),q.reverse(),C&&C.reverse(),q.join("")},b=function(A,C,D){var q,he,ne,ee,K,Z=-1,me=A.length,Ae=0,N=[],M=x?f:d,j=[];for(w=!1,i=!1,s=!1,he=0;he<me;he++)j[he]=R(A[he]);for(ne=0;ne<me;ne++){if(K=Ae,N[ne]=V(A,j,N,ne),q=240&(Ae=M[K][v[N[ne]]]),Ae&=15,C[ne]=ee=M[Ae][5],q>0)if(q===16){for(he=Z;he<ne;he++)C[he]=1;Z=-1}else Z=-1;if(M[Ae][6])Z===-1&&(Z=ne);else if(Z>-1){for(he=Z;he<ne;he++)C[he]=ee;Z=-1}j[ne]==="B"&&(C[ne]=0),D.hiLevel|=ee}s&&function(U,Q,ie){for(var ge=0;ge<ie;ge++)if(U[ge]==="S"){Q[ge]=x;for(var ve=ge-1;ve>=0&&U[ve]==="WS";ve--)Q[ve]=x}}(j,C,me)},I=function(A,C,D,q,he){if(!(he.hiLevel<A)){if(A===1&&x===1&&!i)return C.reverse(),void(D&&D.reverse());for(var ne,ee,K,Z,me=C.length,Ae=0;Ae<me;){if(q[Ae]>=A){for(K=Ae+1;K<me&&q[K]>=A;)K++;for(Z=Ae,ee=K-1;Z<ee;Z++,ee--)ne=C[Z],C[Z]=C[ee],C[ee]=ne,D&&(ne=D[Z],D[Z]=D[ee],D[ee]=ne);Ae=K}Ae++}}},L=function(A,C,D){var q=A.split(""),he={hiLevel:x};return D||(D=[]),b(q,D,he),function(ne,ee,K){if(K.hiLevel!==0&&u)for(var Z,me=0;me<ne.length;me++)ee[me]===1&&(Z=E.indexOf(ne[me]))>=0&&(ne[me]=E[Z+1])}(q,D,he),I(2,q,C,D,he),I(1,q,C,D,he),q.join("")};return this.__bidiEngine__.doBidiReorder=function(A,C,D){if(function(he,ne){if(ne)for(var ee=0;ee<he.length;ee++)ne[ee]=ee;a===void 0&&(a=B(he)),c===void 0&&(c=B(he))}(A,C),o||!l||c)if(o&&l&&a^c)x=a?1:0,A=T(A,C,D);else if(!o&&l&&c)x=a?1:0,A=L(A,C,D),A=T(A,C);else if(!o||a||l||c){if(o&&!l&&a^c)A=T(A,C),a?(x=0,A=L(A,C,D)):(x=1,A=L(A,C,D),A=T(A,C));else if(o&&a&&!l&&c)x=1,A=L(A,C,D),A=T(A,C);else if(!o&&!l&&a^c){var q=u;a?(x=1,A=L(A,C,D),x=0,u=!1,A=L(A,C,D),u=q):(x=0,A=L(A,C,D),A=T(A,C),x=1,u=!1,A=L(A,C,D),u=q,A=T(A,C))}}else x=0,A=L(A,C,D);else x=a?1:0,A=L(A,C,D);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,l=A.isOutputVisual,a=A.isInputRtl,c=A.isOutputRtl,u=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Ot),Ot.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Iu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ene(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Ute(this.contents),this.head=new Wte(this),this.name=new Yte(this),this.cmap=new FO(this),this.toUnicode={},this.hhea=new Hte(this),this.maxp=new Gte(this),this.hmtx=new Kte(this),this.post=new qte(this),this.os2=new zte(this),this.loca=new Zte(this),this.glyf=new Qte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var ga,Iu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),Ute=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,h,d,f,v,g;for(g in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new Iu).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,v=[],t)for(d=t[g],i.writeString(g),i.writeInt(n(d)),i.writeInt(c),i.writeInt(d.length),v=v.concat(d),g==="head"&&(a=c),c+=d.length;c%4;)v.push(0),c++;return i.write(v),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=MO.call(t);t.length%4;)t.push(0);for(s=new Iu(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Vte={}.hasOwnProperty,nl=function(n,e){for(var t in e)Vte.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ga=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Wte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Iu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),fk=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,d,f,v,g,E,_,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var R,B;for(B=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)B.push(e.readUInt16());return B}(),e.pos+=2,g=function(){var R,B;for(B=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)B.push(e.readUInt16());return B}(),c=function(){var R,B;for(B=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)B.push(e.readUInt16());return B}(),u=function(){var R,B;for(B=[],l=R=0;0<=d?R<d:R>d;l=0<=d?++R:--R)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,a=function(){var R,B;for(B=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)B.push(e.readUInt16());return B}(),l=_=0,x=s.length;_<x;l=++_)for(E=s[l],r=w=v=g[l];v<=E?w<=E:w>=E;r=v<=E?++w:--w)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-v)-(d-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,d,f,v,g,E,_,w,x,R,B,V,T,b,I,L,A,C,D,q,he,ne,ee,K,Z,me,Ae,N,M,j,U,Q,ie,ge,ve,Ee,Me,We;switch(q=new Iu,o=Object.keys(e).sort(function(tt,at){return tt-at}),t){case"macroman":for(g=0,E=function(){var tt=[];for(v=0;v<256;++v)tt.push(0);return tt}(),w={0:0},s={},he=0,Z=o.length;he<Z;he++)w[ve=e[i=o[he]]]==null&&(w[ve]=++g),s[i]={old:e[i],new:w[e[i]]},E[i]=w[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(E),{charMap:s,subtable:q.data,maxGlyphID:g+1};case"unicode":for(C=[],h=[],x=0,w={},r={},_=c=null,ne=0,me=o.length;ne<me;ne++)w[B=e[i=o[ne]]]==null&&(w[B]=++x),r[i]={old:B,new:w[B]},a=w[B]-i,_!=null&&a===c||(_&&h.push(_),C.push(i),c=a),_=i;for(_&&h.push(_),h.push(65535),C.push(65535),L=2*(I=C.length),b=2*Math.pow(Math.log(I)/Math.LN2,2),d=Math.log(b/2)/Math.LN2,T=2*I-b,l=[],V=[],f=[],v=ee=0,Ae=C.length;ee<Ae;v=++ee){if(A=C[v],u=h[v],A===65535){l.push(0),V.push(0);break}if(A-(D=r[A].new)>=32768)for(l.push(0),V.push(2*(f.length+I-v)),i=K=A;A<=u?K<=u:K>=u;i=A<=u?++K:--K)f.push(r[i].new);else l.push(D-A),V.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*I+2*f.length),q.writeUInt16(0),q.writeUInt16(L),q.writeUInt16(b),q.writeUInt16(d),q.writeUInt16(T),ie=0,N=h.length;ie<N;ie++)i=h[ie],q.writeUInt16(i);for(q.writeUInt16(0),ge=0,M=C.length;ge<M;ge++)i=C[ge],q.writeUInt16(i);for(Ee=0,j=l.length;Ee<j;Ee++)a=l[Ee],q.writeUInt16(a);for(Me=0,U=V.length;Me<U;Me++)R=V[Me],q.writeUInt16(R);for(We=0,Q=f.length;We<Q;We++)g=f[We],q.writeUInt16(g);return{charMap:r,subtable:q.data,maxGlyphID:x+1}}},n}(),FO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new fk(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=fk.encode(t,r),(s=new Iu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Hte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),zte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),qte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),$te=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Yte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,h,d,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=h=0,d=i.length;h<d;o=++h)s=i[o],t.pos=s.offset,u=t.readString(s.length),a=new $te(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Gte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Kte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,d,f;for(f=[],u=0,h=(d=this.metrics).length;u<h;u++)o=d[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),MO=[].slice,Qte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,h,d;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Iu(r.read(s))).readShort(),u=l.readShort(),d=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=a===-1?new Jte(l,u,d,c,h):new Xte(l,a,u,d,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),Xte=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Jte=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Iu(MO.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Zte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nl(e,ga),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),ene=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,h,d,f,v,g,E,_;for(i in r=FO.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},_=r.charMap)f[(l=_[i]).old]=l.new;for(v in d=r.maxGlyphID,o)v in f||(f[v]=d++);return u=function(w){var x,R;for(x in R={},w)R[w[x]]=x;return R}(f),h=Object.keys(u).sort(function(w,x){return w-x}),g=function(){var w,x,R;for(R=[],w=0,x=h.length;w<x;w++)a=h[w],R.push(u[a]);return R}(),s=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(s.offsets,g),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},n}();Ot.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const tne=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Dte,AcroFormAppearance:bt,AcroFormButton:ei,AcroFormCheckBox:X0,AcroFormChoiceField:Ah,AcroFormComboBox:kh,AcroFormEditBox:K0,AcroFormListBox:Ch,AcroFormPasswordField:J0,AcroFormPushButton:Q0,AcroFormRadioButton:Ih,AcroFormTextField:hu,GState:zm,ShadingPattern:zc,TilingPattern:wh,default:Ot,jsPDF:Ot},Symbol.toStringTag,{value:"Module"}));var nne={exports:{}};const rne=c8(tne);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(n,e){(function(r,i){n.exports=i(function(){try{return rne}catch{}}())})(typeof globalThis<"u"?globalThis:typeof F_<"u"?F_:typeof window<"u"?window:typeof self<"u"?self:F_,function(t){return function(){var r={172:function(a,l){var c=this&&this.__extends||function(){var d=function(f,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(g[_]=E[_])},d(f,v)};return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(f,v);function g(){this.constructor=f}f.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var u=function(){function d(f,v,g){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=g,this.doc=f.getDocument()}return d}();l.HookData=u;var h=function(d){c(f,d);function f(v,g,E,_,w,x){var R=d.call(this,v,g,x)||this;return R.cell=E,R.row=_,R.column=w,R.section=_.section,R}return f}(u);l.CellHookData=h},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var u=c(4),h=c(136),d=c(744),f=c(776),v=c(664),g=c(972);function E(_){_.API.autoTable=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];var R;w.length===1?R=w[0]:(console.error("Use of deprecated autoTable initiation"),R=w[2]||{},R.columns=w[0],R.body=w[1]);var B=(0,f.parseInput)(this,R),V=(0,g.createTable)(this,B);return(0,v.drawTable)(this,V),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(w,x,R,B){(0,h.default)(w,x,R,B,this)},_.API.autoTableSetDefaults=function(w){return d.DocHandler.setDefaults(w,this),this},_.autoTableSetDefaults=function(w,x){d.DocHandler.setDefaults(w,x)},_.API.autoTableHtmlToJson=function(w,x){var R;if(x===void 0&&(x=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var B=new d.DocHandler(this),V=(0,u.parseHtml)(B,w,window,x,!1),T=V.head,b=V.body,I=((R=T[0])===null||R===void 0?void 0:R.map(function(L){return L.content}))||[];return{columns:I,rows:b,data:b}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},_.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=w,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=E},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(u,h,d,f,v){f=f||{};var g=1.15,E=v.internal.scaleFactor,_=v.internal.getFontSize()/E,w=v.getLineHeightFactor?v.getLineHeightFactor():g,x=_*w,R=/\r\n|\r|\n/g,B="",V=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(B=typeof u=="string"?u.split(R):u,V=B.length||1),d+=_*(2-g),f.valign==="middle"?d-=V/2*x:f.valign==="bottom"&&(d-=V*x),f.halign==="center"||f.halign==="right"){var T=_;if(f.halign==="center"&&(T*=.5),B&&V>=1){for(var b=0;b<B.length;b++)v.text(B[b],h-v.getStringUnitWidth(B[b])*T,d),d+=x;return v}h-=v.getStringUnitWidth(u)*T}return f.halign==="justify"?v.text(u,h,d,{maxWidth:f.maxWidth||100,align:"justify"}):v.text(u,h,d),v}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(v,g,E){E.applyStyles(g,!0);var _=Array.isArray(v)?v:[v],w=_.map(function(x){return E.getTextWidth(x)}).reduce(function(x,R){return Math.max(x,R)},0);return w}l.getStringWidth=c;function u(v,g,E,_){var w=g.settings.tableLineWidth,x=g.settings.tableLineColor;v.applyStyles({lineWidth:w,lineColor:x});var R=h(w,!1);R&&v.rect(E.x,E.y,g.getWidth(v.pageSize().width),_.y-E.y,R)}l.addTableBorder=u;function h(v,g){var E=v>0,_=g||g===0;return E&&_?"DF":E?"S":_?"F":null}l.getFillStyle=h;function d(v,g){var E,_,w,x;if(v=v||g,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=g}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(E=v.left)!==null&&E!==void 0?E:g,top:(_=v.top)!==null&&_!==void 0?_:g,right:(w=v.right)!==null&&w!==void 0?w:g,bottom:(x=v.bottom)!==null&&x!==void 0?x:g}):(typeof v!="number"&&(v=g),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=d;function f(v,g){var E=d(g.settings.margin,0);return v.pageSize().width-(E.left+E.right)}l.getPageAvailableWidth=f},796:function(a,l){var c=this&&this.__extends||function(){var f=function(v,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,_){E.__proto__=_}||function(E,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(E[w]=_[w])},f(v,g)};return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(v,g);function E(){this.constructor=v}v.prototype=g===null?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var u=function(f){c(v,f);function v(g){var E=f.call(this)||this;return E._element=g,E}return v}(Array);l.HtmlRowInput=u;function h(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=h;function d(f){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[f]}l.getTheme=d},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var u=c(420);function h(E,_,w,x,R){var B={},V=1.3333333333333333,T=f(_,function(Z){return R.getComputedStyle(Z).backgroundColor});T!=null&&(B.fillColor=T);var b=f(_,function(Z){return R.getComputedStyle(Z).color});b!=null&&(B.textColor=b);var I=g(x,w);I&&(B.cellPadding=I);var L="borderTopColor",A=V*w,C=x.borderTopWidth;if(x.borderBottomWidth===C&&x.borderRightWidth===C&&x.borderLeftWidth===C){var D=(parseFloat(C)||0)/A;D&&(B.lineWidth=D)}else B.lineWidth={top:(parseFloat(x.borderTopWidth)||0)/A,right:(parseFloat(x.borderRightWidth)||0)/A,bottom:(parseFloat(x.borderBottomWidth)||0)/A,left:(parseFloat(x.borderLeftWidth)||0)/A},B.lineWidth.top||(B.lineWidth.right?L="borderRightColor":B.lineWidth.bottom?L="borderBottomColor":B.lineWidth.left&&(L="borderLeftColor"));var q=f(_,function(Z){return R.getComputedStyle(Z)[L]});q!=null&&(B.lineColor=q);var he=["left","right","center","justify"];he.indexOf(x.textAlign)!==-1&&(B.halign=x.textAlign),he=["middle","bottom","top"],he.indexOf(x.verticalAlign)!==-1&&(B.valign=x.verticalAlign);var ne=parseInt(x.fontSize||"");isNaN(ne)||(B.fontSize=ne/V);var ee=d(x);ee&&(B.fontStyle=ee);var K=(x.fontFamily||"").toLowerCase();return E.indexOf(K)!==-1&&(B.font=K),B}l.parseCss=h;function d(E){var _="";return(E.fontWeight==="bold"||E.fontWeight==="bolder"||parseInt(E.fontWeight)>=700)&&(_="bold"),(E.fontStyle==="italic"||E.fontStyle==="oblique")&&(_+="italic"),_}function f(E,_){var w=v(E,_);if(!w)return null;var x=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!x||!Array.isArray(x))return null;var R=[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])],B=parseInt(x[4]);return B===0||isNaN(R[0])||isNaN(R[1])||isNaN(R[2])?null:R}function v(E,_){var w=_(E);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?E.parentElement==null?null:v(E.parentElement,_):w}function g(E,_){var w=[E.paddingTop,E.paddingRight,E.paddingBottom,E.paddingLeft],x=96/(72/_),R=(parseInt(E.lineHeight)-parseInt(E.fontSize))/_/2,B=w.map(function(T){return parseInt(T||"0")/x}),V=(0,u.parseSpacing)(B,0);return R>V.top&&(V.top=R),R>V.bottom&&(V.bottom=R),V}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},u=function(){function h(d){this.jsPDFDocument=d,this.userStyles={textColor:d.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:d.internal.getFontSize(),fontStyle:d.internal.getFont().fontStyle,font:d.internal.getFont().fontName,lineWidth:d.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:d.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(d,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=d:c=d},h.unifyColor=function(d){return Array.isArray(d)?d:typeof d=="number"?[d,d,d]:typeof d=="string"?[d]:null},h.prototype.applyStyles=function(d,f){var v,g,E;f===void 0&&(f=!1),d.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(d.fontStyle);var _=this.jsPDFDocument.internal.getFont(),w=_.fontStyle,x=_.fontName;if(d.font&&(x=d.font),d.fontStyle){w=d.fontStyle;var R=this.getFontList()[x];R&&R.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(R[0]),w=R[0])}if(this.jsPDFDocument.setFont(x,w),d.fontSize&&this.jsPDFDocument.setFontSize(d.fontSize),!f){var B=h.unifyColor(d.fillColor);B&&(v=this.jsPDFDocument).setFillColor.apply(v,B),B=h.unifyColor(d.textColor),B&&(g=this.jsPDFDocument).setTextColor.apply(g,B),B=h.unifyColor(d.lineColor),B&&(E=this.jsPDFDocument).setDrawColor.apply(E,B),typeof d.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(d.lineWidth)}},h.prototype.splitTextToSize=function(d,f,v){return this.jsPDFDocument.splitTextToSize(d,f,v)},h.prototype.rect=function(d,f,v,g,E){return this.jsPDFDocument.rect(d,f,v,g,E)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(d){return this.jsPDFDocument.getTextWidth(d)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(d){this.jsPDFDocument.setPage(d)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return c||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var d=this.jsPDFDocument.internal.pageSize;return d.width==null&&(d={width:d.getWidth(),height:d.getHeight()}),d},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var d=this.jsPDFDocument;return d.getLineHeightFactor?d.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(d){return d/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var d=this.jsPDFDocument.internal.getCurrentPageInfo();return d?d.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();l.DocHandler=u},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var u=c(903),h=c(796);function d(g,E,_,w,x){var R,B;w===void 0&&(w=!1),x===void 0&&(x=!1);var V;typeof E=="string"?V=_.document.querySelector(E):V=E;var T=Object.keys(g.getFontList()),b=g.scaleFactor(),I=[],L=[],A=[];if(!V)return console.error("Html table could not be found with input: ",E),{head:I,body:L,foot:A};for(var C=0;C<V.rows.length;C++){var D=V.rows[C],q=(B=(R=D==null?void 0:D.parentElement)===null||R===void 0?void 0:R.tagName)===null||B===void 0?void 0:B.toLowerCase(),he=f(T,b,_,D,w,x);he&&(q==="thead"?I.push(he):q==="tfoot"?A.push(he):L.push(he))}return{head:I,body:L,foot:A}}l.parseHtml=d;function f(g,E,_,w,x,R){for(var B=new h.HtmlRowInput(w),V=0;V<w.cells.length;V++){var T=w.cells[V],b=_.getComputedStyle(T);if(x||b.display!=="none"){var I=void 0;R&&(I=(0,u.parseCss)(g,T,E,b,_)),B.push({rowSpan:T.rowSpan,colSpan:T.colSpan,styles:I,_element:T,content:v(T)})}}var L=_.getComputedStyle(w);if(B.length>0&&(x||L.display!=="none"))return B}function v(g){var E=g.cloneNode(!0);return E.innerHTML=E.innerHTML.replace(/\n/g,"").replace(/ +/g," "),E.innerHTML=E.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),E.innerText||E.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var u=c(4),h=c(356),d=c(420),f=c(744),v=c(792);function g(V,T){var b=new f.DocHandler(V),I=b.getDocumentOptions(),L=b.getGlobalOptions();(0,v.default)(b,L,I,T);var A=(0,h.assign)({},L,I,T),C;typeof window<"u"&&(C=window);var D=E(L,I,T),q=_(L,I,T),he=w(b,A),ne=R(b,A,C);return{id:T.tableId,content:ne,hooks:q,styles:D,settings:he}}l.parseInput=g;function E(V,T,b){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},L=function(q){if(q==="columnStyles"){var he=V[q],ne=T[q],ee=b[q];I.columnStyles=(0,h.assign)({},he,ne,ee)}else{var K=[V,T,b],Z=K.map(function(me){return me[q]||{}});I[q]=(0,h.assign)({},Z[0],Z[1],Z[2])}},A=0,C=Object.keys(I);A<C.length;A++){var D=C[A];L(D)}return I}function _(V,T,b){for(var I=[V,T,b],L={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,C=I;A<C.length;A++){var D=C[A];D.didParseCell&&L.didParseCell.push(D.didParseCell),D.willDrawCell&&L.willDrawCell.push(D.willDrawCell),D.didDrawCell&&L.didDrawCell.push(D.didDrawCell),D.willDrawPage&&L.willDrawPage.push(D.willDrawPage),D.didDrawPage&&L.didDrawPage.push(D.didDrawPage)}return L}function w(V,T){var b,I,L,A,C,D,q,he,ne,ee,K,Z,me=(0,d.parseSpacing)(T.margin,40/V.scaleFactor()),Ae=(b=x(V,T.startY))!==null&&b!==void 0?b:me.top,N;T.showFoot===!0?N="everyPage":T.showFoot===!1?N="never":N=(I=T.showFoot)!==null&&I!==void 0?I:"everyPage";var M;T.showHead===!0?M="everyPage":T.showHead===!1?M="never":M=(L=T.showHead)!==null&&L!==void 0?L:"everyPage";var j=(A=T.useCss)!==null&&A!==void 0?A:!1,U=T.theme||(j?"plain":"striped"),Q=!!T.horizontalPageBreak,ie=(C=T.horizontalPageBreakRepeat)!==null&&C!==void 0?C:null;return{includeHiddenHtml:(D=T.includeHiddenHtml)!==null&&D!==void 0?D:!1,useCss:j,theme:U,startY:Ae,margin:me,pageBreak:(q=T.pageBreak)!==null&&q!==void 0?q:"auto",rowPageBreak:(he=T.rowPageBreak)!==null&&he!==void 0?he:"auto",tableWidth:(ne=T.tableWidth)!==null&&ne!==void 0?ne:"auto",showHead:M,showFoot:N,tableLineWidth:(ee=T.tableLineWidth)!==null&&ee!==void 0?ee:0,tableLineColor:(K=T.tableLineColor)!==null&&K!==void 0?K:200,horizontalPageBreak:Q,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(Z=T.horizontalPageBreakBehaviour)!==null&&Z!==void 0?Z:"afterAllRows"}}function x(V,T){var b=V.getLastAutoTable(),I=V.scaleFactor(),L=V.pageNumber(),A=!1;if(b&&b.startPageNumber){var C=b.startPageNumber+b.pageNumber-1;A=C===L}return typeof T=="number"?T:(T==null||T===!1)&&A&&(b==null?void 0:b.finalY)!=null?b.finalY+20/I:null}function R(V,T,b){var I=T.head||[],L=T.body||[],A=T.foot||[];if(T.html){var C=T.includeHiddenHtml;if(b){var D=(0,u.parseHtml)(V,T.html,b,C,T.useCss)||{};I=D.head||I,L=D.body||I,A=D.foot||I}else console.error("Cannot parse html in non browser environment")}var q=T.columns||B(I,L,A);return{columns:q,head:I,body:L,foot:A}}function B(V,T,b){var I=V[0]||T[0]||b[0]||[],L=[];return Object.keys(I).filter(function(A){return A!=="_element"}).forEach(function(A){var C=1,D;Array.isArray(I)?D=I[parseInt(A)]:D=I[A],typeof D=="object"&&!Array.isArray(D)&&(C=(D==null?void 0:D.colSpan)||1);for(var q=0;q<C;q++){var he=void 0;Array.isArray(I)?he=L.length:he=A+(q>0?"_".concat(q):"");var ne={dataKey:he};L.push(ne)}}),L}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,d,f,v){for(var g=function(x){x&&typeof x!="object"&&console.error("The options parameter should be of type object, is: "+typeof x),typeof x.extendWidth<"u"&&(x.tableWidth=x.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof x.margins<"u"&&(typeof x.margin>"u"&&(x.margin=x.margins),console.error("Use of deprecated option: margins, use margin instead.")),x.startY&&typeof x.startY!="number"&&(console.error("Invalid value for startY option",x.startY),delete x.startY),!x.didDrawPage&&(x.afterPageContent||x.beforePageContent||x.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),x.didDrawPage=function(A){h.applyStyles(h.userStyles),x.beforePageContent&&x.beforePageContent(A),h.applyStyles(h.userStyles),x.afterPageContent&&x.afterPageContent(A),h.applyStyles(h.userStyles),x.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){x[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var C=A[0],D=A[1];x[D]&&(console.error("Use of deprecated option ".concat(D,". Use ").concat(C," instead")),x[C]=x[D])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var C=typeof A=="string"?A:A[0],D=typeof A=="string"?A:A[1];typeof x[C]<"u"&&(typeof x.styles[D]>"u"&&(x.styles[D]=x[C]),console.error("Use of deprecated option: "+C+", use the style "+D+" instead."))});for(var R=0,B=["styles","bodyStyles","headStyles","footStyles"];R<B.length;R++){var V=B[R];u(x[V]||{})}for(var T=x.columnStyles||{},b=0,I=Object.keys(T);b<I.length;b++){var L=I[b];u(T[L]||{})}},E=0,_=[d,f,v];E<_.length;E++){var w=_[E];g(w)}}l.default=c;function u(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var u=c(796),h=c(172),d=c(420),f=function(){function _(w,x){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=x.columns,this.head=x.head,this.body=x.body,this.foot=x.foot}return _.prototype.getHeadHeight=function(w){return this.head.reduce(function(x,R){return x+R.getMaxCellHeight(w)},0)},_.prototype.getFootHeight=function(w){return this.foot.reduce(function(x,R){return x+R.getMaxCellHeight(w)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(w,x,R,B,V,T){for(var b=0,I=x;b<I.length;b++){var L=I[b],A=new h.CellHookData(w,this,R,B,V,T),C=L(A)===!1;if(R.text=Array.isArray(R.text)?R.text:[R.text],C)return!1}return!0},_.prototype.callEndPageHooks=function(w,x){w.applyStyles(w.userStyles);for(var R=0,B=this.hooks.didDrawPage;R<B.length;R++){var V=B[R];V(new h.HookData(w,this,x))}},_.prototype.callWillDrawPageHooks=function(w,x){for(var R=0,B=this.hooks.willDrawPage;R<B.length;R++){var V=B[R];V(new h.HookData(w,this,x))}},_.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var x=this.columns.reduce(function(B,V){return B+V.wrappedWidth},0);return x}else{var R=this.settings.margin;return w-R.left-R.right}},_}();l.Table=f;var v=function(){function _(w,x,R,B,V){V===void 0&&(V=!1),this.height=0,this.raw=w,w instanceof u.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=x,this.section=R,this.cells=B,this.spansMultiplePages=V}return _.prototype.getMaxCellHeight=function(w){var x=this;return w.reduce(function(R,B){var V;return Math.max(R,((V=x.cells[B.index])===null||V===void 0?void 0:V.height)||0)},0)},_.prototype.hasRowSpan=function(w){var x=this;return w.filter(function(R){var B=x.cells[R.index];return B?B.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(w,x){return this.getMaxCellHeight(x)<=w},_.prototype.getMinimumRowHeight=function(w,x){var R=this;return w.reduce(function(B,V){var T=R.cells[V.index];if(!T)return 0;var b=x.getLineHeight(T.styles.fontSize),I=T.padding("vertical"),L=I+b;return L>B?L:B},0)},_}();l.Row=v;var g=function(){function _(w,x,R){var B,V;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=x,this.section=R,this.raw=w;var T=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,T=(V=(B=w.content)!==null&&B!==void 0?B:w.title)!==null&&V!==void 0?V:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var b=T!=null?""+T:"",I=/\r\n|\r|\n/g;this.text=b.split(I)}return _.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var x=this.height-this.padding("vertical");w=this.y+x/2+this.padding("top")}var R;if(this.styles.halign==="right")R=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var B=this.width-this.padding("horizontal");R=this.x+B/2+this.padding("left")}else R=this.x+this.padding("left");return{x:R,y:w}},_.prototype.getContentHeight=function(w,x){x===void 0&&(x=1.15);var R=Array.isArray(this.text)?this.text.length:1,B=this.styles.fontSize/w*x,V=R*B+this.padding("vertical");return Math.max(V,this.styles.minCellHeight)},_.prototype.padding=function(w){var x=(0,d.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?x.top+x.bottom:w==="horizontal"?x.left+x.right:x[w]},_}();l.Cell=g;var E=function(){function _(w,x,R){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=x,this.index=R}return _.prototype.getMaxCustomCellWidth=function(w){for(var x=0,R=0,B=w.allRows();R<B.length;R++){var V=B[R],T=V.cells[this.index];T&&typeof T.styles.cellWidth=="number"&&(x=Math.max(x,T.styles.cellWidth))}return x},_}();l.Column=E},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(u,h,d,f,v){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(u),E=1;E<arguments.length;E++){var _=arguments[E];if(_!=null)for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(g[w]=_[w])}return g}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var u=c(744),h=c(260),d=c(324),f=c(796),v=c(356);function g(V,T){var b=new u.DocHandler(V),I=E(T,b.scaleFactor()),L=new h.Table(T,I);return(0,d.calculateWidths)(b,L),b.applyStyles(b.userStyles),L}l.createTable=g;function E(V,T){var b=V.content,I=R(b.columns);if(b.head.length===0){var L=w(I,"head");L&&b.head.push(L)}if(b.foot.length===0){var L=w(I,"foot");L&&b.foot.push(L)}var A=V.settings.theme,C=V.styles;return{columns:I,head:_("head",b.head,I,C,A,T),body:_("body",b.body,I,C,A,T),foot:_("foot",b.foot,I,C,A,T)}}function _(V,T,b,I,L,A){var C={},D=T.map(function(q,he){for(var ne=0,ee={},K=0,Z=0,me=0,Ae=b;me<Ae.length;me++){var N=Ae[me];if(C[N.index]==null||C[N.index].left===0)if(Z===0){var M=void 0;Array.isArray(q)?M=q[N.index-K-ne]:M=q[N.dataKey];var j={};typeof M=="object"&&!Array.isArray(M)&&(j=(M==null?void 0:M.styles)||{});var U=B(V,N,he,L,I,A,j),Q=new h.Cell(M,U,V);ee[N.dataKey]=Q,ee[N.index]=Q,Z=Q.colSpan-1,C[N.index]={left:Q.rowSpan-1,times:Z}}else Z--,K++;else C[N.index].left--,Z=C[N.index].times,ne++}return new h.Row(q,he,V,ee)});return D}function w(V,T){var b={};return V.forEach(function(I){if(I.raw!=null){var L=x(T,I.raw);L!=null&&(b[I.dataKey]=L)}}),Object.keys(b).length>0?b:null}function x(V,T){if(V==="head"){if(typeof T=="object")return T.header||T.title||null;if(typeof T=="string"||typeof T=="number")return T}else if(V==="foot"&&typeof T=="object")return T.footer;return null}function R(V){return V.map(function(T,b){var I,L,A;return typeof T=="object"?A=(L=(I=T.dataKey)!==null&&I!==void 0?I:T.key)!==null&&L!==void 0?L:b:A=b,new h.Column(A,T,b)})}function B(V,T,b,I,L,A,C){var D=(0,f.getTheme)(I),q;V==="head"?q=L.headStyles:V==="body"?q=L.bodyStyles:V==="foot"&&(q=L.footStyles);var he=(0,v.assign)({},D.table,D[V],L.styles,q),ne=L.columnStyles[T.dataKey]||L.columnStyles[T.index]||{},ee=V==="body"?ne:{},K=V==="body"&&b%2===0?(0,v.assign)({},D.alternateRow,L.alternateRowStyles):{},Z=(0,f.defaultStyles)(A),me=(0,v.assign)({},Z,he,K,ee);return(0,v.assign)(me,C)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var u=c(420),h=c(260),d=c(744),f=c(356),v=c(136),g=c(224);function E(ne,ee){var K=ee.settings,Z=K.startY,me=K.margin,Ae={x:me.left,y:Z},N=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns),M=Z+me.bottom+N;if(K.pageBreak==="avoid"){var j=ee.body,U=j.reduce(function(ge,ve){return ge+ve.height},0);M+=U}var Q=new d.DocHandler(ne);(K.pageBreak==="always"||K.startY!=null&&M>Q.pageSize().height)&&(he(Q),Ae.y=me.top),ee.callWillDrawPageHooks(Q,Ae);var ie=(0,f.assign)({},Ae);ee.startPageNumber=Q.pageNumber(),K.horizontalPageBreak?_(Q,ee,ie,Ae):(Q.applyStyles(Q.userStyles),(K.showHead==="firstPage"||K.showHead==="everyPage")&&ee.head.forEach(function(ge){return L(Q,ee,ge,Ae,ee.columns)}),Q.applyStyles(Q.userStyles),ee.body.forEach(function(ge,ve){var Ee=ve===ee.body.length-1;I(Q,ee,ge,Ee,ie,Ae,ee.columns)}),Q.applyStyles(Q.userStyles),(K.showFoot==="lastPage"||K.showFoot==="everyPage")&&ee.foot.forEach(function(ge){return L(Q,ee,ge,Ae,ee.columns)})),(0,u.addTableBorder)(Q,ee,ie,Ae),ee.callEndPageHooks(Q,Ae),ee.finalY=Ae.y,ne.lastAutoTable=ee,ne.previousAutoTable=ee,ne.autoTable&&(ne.autoTable.previous=ee),Q.applyStyles(Q.userStyles)}l.drawTable=E;function _(ne,ee,K,Z){var me=(0,g.calculateAllColumnsCanFitInPage)(ne,ee),Ae=ee.settings;if(Ae.horizontalPageBreakBehaviour==="afterAllRows")me.forEach(function(U,Q){ne.applyStyles(ne.userStyles),Q>0?q(ne,ee,K,Z,U.columns,!0):w(ne,ee,Z,U.columns),x(ne,ee,K,Z,U.columns),B(ne,ee,Z,U.columns)});else for(var N=-1,M=me[0],j=function(){var U=N;if(M){ne.applyStyles(ne.userStyles);var Q=M.columns;N>=0?q(ne,ee,K,Z,Q,!0):w(ne,ee,Z,Q),U=R(ne,ee,N+1,Z,Q),B(ne,ee,Z,Q)}var ie=U-N;me.slice(1).forEach(function(ge){ne.applyStyles(ne.userStyles),q(ne,ee,K,Z,ge.columns,!0),R(ne,ee,N+1,Z,ge.columns,ie),B(ne,ee,Z,ge.columns)}),N=U};N<ee.body.length-1;)j()}function w(ne,ee,K,Z){var me=ee.settings;ne.applyStyles(ne.userStyles),(me.showHead==="firstPage"||me.showHead==="everyPage")&&ee.head.forEach(function(Ae){return L(ne,ee,Ae,K,Z)})}function x(ne,ee,K,Z,me){ne.applyStyles(ne.userStyles),ee.body.forEach(function(Ae,N){var M=N===ee.body.length-1;I(ne,ee,Ae,M,K,Z,me)})}function R(ne,ee,K,Z,me,Ae){ne.applyStyles(ne.userStyles),Ae=Ae??ee.body.length;var N=Math.min(K+Ae,ee.body.length),M=-1;return ee.body.slice(K,N).forEach(function(j,U){var Q=K+U===ee.body.length-1,ie=D(ne,ee,Q,Z);j.canEntireRowFit(ie,me)&&(L(ne,ee,j,Z,me),M=K+U)}),M}function B(ne,ee,K,Z){var me=ee.settings;ne.applyStyles(ne.userStyles),(me.showFoot==="lastPage"||me.showFoot==="everyPage")&&ee.foot.forEach(function(Ae){return L(ne,ee,Ae,K,Z)})}function V(ne,ee,K){var Z=K.getLineHeight(ne.styles.fontSize),me=ne.padding("vertical"),Ae=Math.floor((ee-me)/Z);return Math.max(0,Ae)}function T(ne,ee,K,Z){var me={};ne.spansMultiplePages=!0,ne.height=0;for(var Ae=0,N=0,M=K.columns;N<M.length;N++){var j=M[N],U=ne.cells[j.index];if(U){Array.isArray(U.text)||(U.text=[U.text]);var Q=new h.Cell(U.raw,U.styles,U.section);Q=(0,f.assign)(Q,U),Q.text=[];var ie=V(U,ee,Z);U.text.length>ie&&(Q.text=U.text.splice(ie,U.text.length));var ge=Z.scaleFactor(),ve=Z.getLineHeightFactor();U.contentHeight=U.getContentHeight(ge,ve),U.contentHeight>=ee&&(U.contentHeight=ee,Q.styles.minCellHeight-=ee),U.contentHeight>ne.height&&(ne.height=U.contentHeight),Q.contentHeight=Q.getContentHeight(ge,ve),Q.contentHeight>Ae&&(Ae=Q.contentHeight),me[j.index]=Q}}var Ee=new h.Row(ne.raw,-1,ne.section,me,!0);Ee.height=Ae;for(var Me=0,We=K.columns;Me<We.length;Me++){var j=We[Me],Q=Ee.cells[j.index];Q&&(Q.height=Ee.height);var U=ne.cells[j.index];U&&(U.height=ne.height)}return Ee}function b(ne,ee,K,Z){var me=ne.pageSize().height,Ae=Z.settings.margin,N=Ae.top+Ae.bottom,M=me-N;ee.section==="body"&&(M-=Z.getHeadHeight(Z.columns)+Z.getFootHeight(Z.columns));var j=ee.getMinimumRowHeight(Z.columns,ne),U=j<K;if(j>M)return console.error("Will not be able to print row ".concat(ee.index," correctly since it's minimum height is larger than page height")),!0;if(!U)return!1;var Q=ee.hasRowSpan(Z.columns),ie=ee.getMaxCellHeight(Z.columns)>M;return ie?(Q&&console.error("The content of row ".concat(ee.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Q||Z.settings.rowPageBreak==="avoid")}function I(ne,ee,K,Z,me,Ae,N){var M=D(ne,ee,Z,Ae);if(K.canEntireRowFit(M,N))L(ne,ee,K,Ae,N);else if(b(ne,K,M,ee)){var j=T(K,M,ee,ne);L(ne,ee,K,Ae,N),q(ne,ee,me,Ae,N),I(ne,ee,j,Z,me,Ae,N)}else q(ne,ee,me,Ae,N),I(ne,ee,K,Z,me,Ae,N)}function L(ne,ee,K,Z,me){Z.x=ee.settings.margin.left;for(var Ae=0,N=me;Ae<N.length;Ae++){var M=N[Ae],j=K.cells[M.index];if(!j){Z.x+=M.width;continue}ne.applyStyles(j.styles),j.x=Z.x,j.y=Z.y;var U=ee.callCellHooks(ne,ee.hooks.willDrawCell,j,K,M,Z);if(U===!1){Z.x+=M.width;continue}A(ne,j,Z);var Q=j.getTextPos();(0,v.default)(j.text,Q.x,Q.y,{halign:j.styles.halign,valign:j.styles.valign,maxWidth:Math.ceil(j.width-j.padding("left")-j.padding("right"))},ne.getDocument()),ee.callCellHooks(ne,ee.hooks.didDrawCell,j,K,M,Z),Z.x+=M.width}Z.y+=K.height}function A(ne,ee,K){var Z=ee.styles;if(ne.getDocument().setFillColor(ne.getDocument().getFillColor()),typeof Z.lineWidth=="number"){var me=(0,u.getFillStyle)(Z.lineWidth,Z.fillColor);me&&ne.rect(ee.x,K.y,ee.width,ee.height,me)}else typeof Z.lineWidth=="object"&&(Z.fillColor&&ne.rect(ee.x,K.y,ee.width,ee.height,"F"),C(ne,ee,K,Z.lineWidth))}function C(ne,ee,K,Z){var me,Ae,N,M;Z.top&&(me=K.x,Ae=K.y,N=K.x+ee.width,M=K.y,Z.right&&(N+=.5*Z.right),Z.left&&(me-=.5*Z.left),j(Z.top,me,Ae,N,M)),Z.bottom&&(me=K.x,Ae=K.y+ee.height,N=K.x+ee.width,M=K.y+ee.height,Z.right&&(N+=.5*Z.right),Z.left&&(me-=.5*Z.left),j(Z.bottom,me,Ae,N,M)),Z.left&&(me=K.x,Ae=K.y,N=K.x,M=K.y+ee.height,Z.top&&(Ae-=.5*Z.top),Z.bottom&&(M+=.5*Z.bottom),j(Z.left,me,Ae,N,M)),Z.right&&(me=K.x+ee.width,Ae=K.y,N=K.x+ee.width,M=K.y+ee.height,Z.top&&(Ae-=.5*Z.top),Z.bottom&&(M+=.5*Z.bottom),j(Z.right,me,Ae,N,M));function j(U,Q,ie,ge,ve){ne.getDocument().setLineWidth(U),ne.getDocument().line(Q,ie,ge,ve,"S")}}function D(ne,ee,K,Z){var me=ee.settings.margin.bottom,Ae=ee.settings.showFoot;return(Ae==="everyPage"||Ae==="lastPage"&&K)&&(me+=ee.getFootHeight(ee.columns)),ne.pageSize().height-Z.y-me}function q(ne,ee,K,Z,me,Ae){me===void 0&&(me=[]),Ae===void 0&&(Ae=!1),ne.applyStyles(ne.userStyles),ee.settings.showFoot==="everyPage"&&!Ae&&ee.foot.forEach(function(M){return L(ne,ee,M,Z,me)}),ee.callEndPageHooks(ne,Z);var N=ee.settings.margin;(0,u.addTableBorder)(ne,ee,K,Z),he(ne),ee.pageNumber++,ee.pageCount++,Z.x=N.left,Z.y=N.top,K.y=N.top,ee.callWillDrawPageHooks(ne,Z),ee.settings.showHead==="everyPage"&&(ee.head.forEach(function(M){return L(ne,ee,M,Z,me)}),ne.applyStyles(ne.userStyles))}l.addPage=q;function he(ne){var ee=ne.pageNumber();ne.setPage(ee+1);var K=ne.pageNumber();return K===ee?(ne.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var u=c(420);function h(f,v,g){var E;g===void 0&&(g={});var _=(0,u.getPageAvailableWidth)(f,v),w=new Map,x=[],R=[],B=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?B=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(B=[v.settings.horizontalPageBreakRepeat]),B.forEach(function(I){var L=v.columns.find(function(A){return A.dataKey===I||A.index===I});L&&!w.has(L.index)&&(w.set(L.index,!0),x.push(L.index),R.push(v.columns[L.index]),_-=L.wrappedWidth)});for(var V=!0,T=(E=g==null?void 0:g.start)!==null&&E!==void 0?E:0;T<v.columns.length;){if(w.has(T)){T++;continue}var b=v.columns[T].wrappedWidth;if(V||_>=b)V=!1,x.push(T),R.push(v.columns[T]),_-=b;else break;T++}return{colIndexes:x,columns:R,lastIndex:T-1}}function d(f,v){for(var g=[],E=0;E<v.columns.length;E++){var _=h(f,v,{start:E});_.columns.length&&(g.push(_),E=_.lastIndex)}return g}l.calculateAllColumnsCanFitInPage=d},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var u=c(420);function h(x,R){d(x,R);var B=[],V=0;R.columns.forEach(function(b){var I=b.getMaxCustomCellWidth(R);I?b.width=I:(b.width=b.wrappedWidth,B.push(b)),V+=b.width});var T=R.getWidth(x.pageSize().width)-V;T&&(T=f(B,T,function(b){return Math.max(b.minReadableWidth,b.minWidth)})),T&&(T=f(B,T,function(b){return b.minWidth})),T=Math.abs(T),!R.settings.horizontalPageBreak&&T>.1/x.scaleFactor()&&(T=T<1?T:Math.round(T),console.warn("Of the table content, ".concat(T," units width could not fit page"))),g(R),E(R,x),v(R)}l.calculateWidths=h;function d(x,R){var B=x.scaleFactor(),V=R.settings.horizontalPageBreak,T=(0,u.getPageAvailableWidth)(x,R);R.allRows().forEach(function(b){for(var I=0,L=R.columns;I<L.length;I++){var A=L[I],C=b.cells[A.index];if(C){var D=R.hooks.didParseCell;R.callCellHooks(x,D,C,b,A,null);var q=C.padding("horizontal");C.contentWidth=(0,u.getStringWidth)(C.text,C.styles,x)+q;var he=(0,u.getStringWidth)(C.text.join(" ").split(/[^\S\u00A0]+/),C.styles,x);if(C.minReadableWidth=he+C.padding("horizontal"),typeof C.styles.cellWidth=="number")C.minWidth=C.styles.cellWidth,C.wrappedWidth=C.styles.cellWidth;else if(C.styles.cellWidth==="wrap"||V===!0)C.contentWidth>T?(C.minWidth=T,C.wrappedWidth=T):(C.minWidth=C.contentWidth,C.wrappedWidth=C.contentWidth);else{var ne=10/B;C.minWidth=C.styles.minCellWidth||ne,C.wrappedWidth=C.contentWidth,C.minWidth>C.wrappedWidth&&(C.wrappedWidth=C.minWidth)}}}}),R.allRows().forEach(function(b){for(var I=0,L=R.columns;I<L.length;I++){var A=L[I],C=b.cells[A.index];if(C&&C.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,C.wrappedWidth),A.minWidth=Math.max(A.minWidth,C.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,C.minReadableWidth);else{var D=R.styles.columnStyles[A.dataKey]||R.styles.columnStyles[A.index]||{},q=D.cellWidth||D.minCellWidth;q&&typeof q=="number"&&(A.minWidth=q,A.wrappedWidth=q)}C&&(C.colSpan>1&&!A.minWidth&&(A.minWidth=C.minWidth),C.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=C.minWidth))}})}function f(x,R,B){for(var V=R,T=x.reduce(function(ne,ee){return ne+ee.wrappedWidth},0),b=0;b<x.length;b++){var I=x[b],L=I.wrappedWidth/T,A=V*L,C=I.width+A,D=B(I),q=C<D?D:C;R-=q-I.width,I.width=q}if(R=Math.round(R*1e10)/1e10,R){var he=x.filter(function(ne){return R<0?ne.width>B(ne):!0});he.length&&(R=f(he,R,B))}return R}l.resizeColumns=f;function v(x){for(var R={},B=1,V=x.allRows(),T=0;T<V.length;T++)for(var b=V[T],I=0,L=x.columns;I<L.length;I++){var A=L[I],C=R[A.index];if(B>1)B--,delete b.cells[A.index];else if(C)C.cell.height+=b.height,B=C.cell.colSpan,delete b.cells[A.index],C.left--,C.left<=1&&delete R[A.index];else{var D=b.cells[A.index];if(!D)continue;if(D.height=b.height,D.rowSpan>1){var q=V.length-T,he=D.rowSpan>q?q:D.rowSpan;R[A.index]={cell:D,left:he,row:b}}}}}function g(x){for(var R=x.allRows(),B=0;B<R.length;B++)for(var V=R[B],T=null,b=0,I=0,L=0;L<x.columns.length;L++){var A=x.columns[L];if(I-=1,I>1&&x.columns[L+1])b+=A.width,delete V.cells[A.index];else if(T){var C=T;delete V.cells[A.index],T=null,C.width=A.width+b}else{var C=V.cells[A.index];if(!C)continue;if(I=C.colSpan,b=0,C.colSpan>1){T=C,b+=A.width;continue}C.width=A.width+b}}}function E(x,R){for(var B={count:0,height:0},V=0,T=x.allRows();V<T.length;V++){for(var b=T[V],I=0,L=x.columns;I<L.length;I++){var A=L[I],C=b.cells[A.index];if(C){R.applyStyles(C.styles,!0);var D=C.width-C.padding("horizontal");if(C.styles.overflow==="linebreak")C.text=R.splitTextToSize(C.text,D+1/R.scaleFactor(),{fontSize:C.styles.fontSize});else if(C.styles.overflow==="ellipsize")C.text=_(C.text,D,C.styles,R,"...");else if(C.styles.overflow==="hidden")C.text=_(C.text,D,C.styles,R,"");else if(typeof C.styles.overflow=="function"){var q=C.styles.overflow(C.text,D);typeof q=="string"?C.text=[q]:C.text=q}C.contentHeight=C.getContentHeight(R.scaleFactor(),R.getLineHeightFactor());var he=C.contentHeight/C.rowSpan;C.rowSpan>1&&B.count*B.height<he*C.rowSpan?B={height:he,count:C.rowSpan}:B&&B.count>0&&B.height>he&&(he=B.height),he>b.height&&(b.height=he)}}B.count--}}function _(x,R,B,V,T){return x.map(function(b){return w(b,R,B,V,T)})}l.ellipsize=_;function w(x,R,B,V,T){var b=1e4*V.scaleFactor();if(R=Math.ceil(R*b)/b,R>=(0,u.getStringWidth)(x,B,V))return x;for(;R<(0,u.getStringWidth)(x+T,B,V)&&!(x.length<=1);)x=x.substring(0,x.length-1);return x.trim()+T}},964:function(a){if(typeof t>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=t}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),u=s(664),h=s(972),d=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return d.Table}});var f=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var v=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return v.Row}});function g(R){(0,l.default)(R)}a.applyPlugin=g;function E(R,B){var V=(0,c.parseInput)(R,B),T=(0,h.createTable)(R,V);(0,u.drawTable)(R,T)}function _(R,B){var V=(0,c.parseInput)(R,B);return(0,h.createTable)(R,V)}a.__createTable=_;function w(R,B){(0,u.drawTable)(R,B)}a.__drawTable=w;try{var x=s(964);x.jsPDF&&(x=x.jsPDF),g(x)}catch{}a.default=E}(),o}()})})(nne);const ine=n=>{const e=new Ot("landscape");e.setFillColor(0,51,153),e.rect(10,10,277,10,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.text("Relatrio de Etiquetas",14,17);const t=new Date().toLocaleDateString("pt-BR");e.text(`Gerado em: ${t}`,200,17),e.setTextColor(0,0,0);const r=["ID",`Data
e Hora`,`Cdigo
da Pea`,"Lote",`Total de
Peas`,`Peas por
Embalagem`,`Embalagem
p/Palete`,`Peas
Extras`,`Etiquetas
Necessrias`,`Etiquetas
Usadas`,"Observaes"],i=n.map(s=>[s.id,s.dateCreated,s.partCode,s.batchNumber,s.totalPieces,s.piecesPerPackage,s.packagesPerPallet,s.extraPieces,s.totalLabels,s.usedLabels,s.notes]);e.autoTable({head:[r],body:i,startY:30,theme:"grid",styles:{fontSize:8,cellPadding:2,minCellHeight:8,valign:"middle",halign:"center"},headStyles:{fillColor:[0,0,128],textColor:[255,255,255],fontSize:9,halign:"center"},alternateRowStyles:{fillColor:[240,240,240]},columnStyles:{0:{cellWidth:20},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:25},5:{cellWidth:25},6:{cellWidth:25},7:{cellWidth:25},8:{cellWidth:25},9:{cellWidth:25},10:{cellWidth:"auto"}},bodyStyles:{fillColor:[255,255,255]},margin:{left:10,right:10}}),e.save(`Relatorio_Etiquetas_${t.replace(/\//g,"-")}.pdf`)},sne=n=>{const e=n.map(o=>({ID:o.id,"Data e Hora":o.dateCreated,"Cdigo da Pea":o.partCode,Lote:o.batchNumber,"Total de Peas":o.totalPieces,"Peas por Embalagem":o.piecesPerPackage,"Embalagem por Palete":o.packagesPerPallet,"Peas Extras":o.extraPieces,"Etiquetas Necessrias":o.totalLabels,"Etiquetas Usadas":o.usedLabels,Observaes:o.notes})),t=Y0.json_to_sheet(e),r=Y0.book_new();Y0.book_append_sheet(r,t,"Etiquetas");const i=[{wch:8},{wch:20},{wch:15},{wch:15},{wch:12},{wch:18},{wch:18},{wch:12},{wch:18},{wch:15},{wch:30}];t["!cols"]=i;const s=new Date().toLocaleDateString("pt-BR").replace(/\//g,"-");Wee(r,`Relatorio_Etiquetas_${s}.xlsx`)},one=n=>{const e=n.map(a=>({ID:a.id,"Data e Hora":a.dateCreated,"Cdigo da Pea":a.partCode,Lote:a.batchNumber,"Total de Peas":a.totalPieces,"Peas por Embalagem":a.piecesPerPackage,"Embalagem por Palete":a.packagesPerPallet,"Peas Extras":a.extraPieces,"Etiquetas Necessrias":a.totalLabels,"Etiquetas Usadas":a.usedLabels,Observaes:a.notes})),t=Y0.json_to_sheet(e),r=Y0.sheet_to_csv(t),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),o=new Date().toLocaleDateString("pt-BR").replace(/\//g,"-");s.href=URL.createObjectURL(i),s.download=`Relatorio_Etiquetas_${o}.csv`,s.click(),URL.revokeObjectURL(s.href)};function BO(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=BO(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Oi(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=BO(n))&&(r&&(r+=" "),r+=e);return r}function Xh(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function St(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function qm(n){if(!Xh(n)&&typeof n!="number")return!1;const e=St(n);return!isNaN(Number(e))}const ane={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lne=(n,e,t)=>{let r;const i=ane[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function $w(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const cne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},une={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fne={date:$w({formats:cne,defaultWidth:"full"}),time:$w({formats:une,defaultWidth:"full"}),dateTime:$w({formats:hne,defaultWidth:"full"})},dne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pne=(n,e,t,r)=>dne[n];function s0(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const mne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_ne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xne=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ene={ordinalNumber:xne,era:s0({values:mne,defaultWidth:"wide"}),quarter:s0({values:gne,defaultWidth:"wide",argumentCallback:n=>n-1}),month:s0({values:vne,defaultWidth:"wide"}),day:s0({values:yne,defaultWidth:"wide"}),dayPeriod:s0({values:_ne,defaultWidth:"wide",formattingValues:wne,defaultFormattingWidth:"wide"})};function o0(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?Tne(a,h=>h.test(o)):Sne(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function Sne(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Tne(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function bne(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Ane=/^(\d+)(th|st|nd|rd)?/i,Cne=/\d+/i,kne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ine={any:[/^b/i,/^(a|c)/i]},Nne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pne={any:[/1/i,/2/i,/3/i,/4/i]},Dne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},One={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bne={ordinalNumber:bne({matchPattern:Ane,parsePattern:Cne,valueCallback:n=>parseInt(n,10)}),era:o0({matchPatterns:kne,defaultMatchWidth:"wide",parsePatterns:Ine,defaultParseWidth:"any"}),quarter:o0({matchPatterns:Nne,defaultMatchWidth:"wide",parsePatterns:Pne,defaultParseWidth:"any",valueCallback:n=>n+1}),month:o0({matchPatterns:Dne,defaultMatchWidth:"wide",parsePatterns:Rne,defaultParseWidth:"any"}),day:o0({matchPatterns:Lne,defaultMatchWidth:"wide",parsePatterns:One,defaultParseWidth:"any"}),dayPeriod:o0({matchPatterns:Fne,defaultMatchWidth:"any",parsePatterns:Mne,defaultParseWidth:"any"})},jO={code:"en-US",formatDistance:lne,formatLong:fne,formatRelative:pne,localize:Ene,match:Bne,options:{weekStartsOn:0,firstWeekContainsDate:1}};let jne={};function gf(){return jne}const UO=6048e5,Une=864e5,l_=6e4,c_=36e5,Vne=1e3;function qa(n){const e=St(n);return e.setHours(0,0,0,0),e}function F2(n){const e=St(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function $m(n,e){const t=qa(n),r=qa(e),i=+t-F2(t),s=+r-F2(r);return Math.round((i-s)/Une)}function Rn(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function u_(n){const e=St(n),t=Rn(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Wne(n){const e=St(n);return $m(e,u_(e))+1}function Jl(n,e){var a,l,c,u;const t=gf(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=St(n),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function np(n){return Jl(n,{weekStartsOn:1})}function VO(n){const e=St(n),t=e.getFullYear(),r=Rn(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=np(r),s=Rn(n,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const o=np(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Hne(n){const e=VO(n),t=Rn(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),np(t)}function hb(n){const e=St(n),t=+np(e)-+Hne(e);return Math.round(t/UO)+1}function fb(n,e){var u,h,d,f;const t=St(n),r=t.getFullYear(),i=gf(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(d=i.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=Rn(n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Jl(o,e),l=Rn(n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Jl(l,e);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function zne(n,e){var a,l,c,u;const t=gf(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=fb(n,e),s=Rn(n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Jl(s,e)}function WO(n,e){const t=St(n),r=+Jl(t,e)-+zne(t,e);return Math.round(r/UO)+1}function Pn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Lc={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Pn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Pn(t+1,2)},d(n,e){return Pn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Pn(n.getHours()%12||12,e.length)},H(n,e){return Pn(n.getHours(),e.length)},m(n,e){return Pn(n.getMinutes(),e.length)},s(n,e){return Pn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Pn(i,e.length)}},qf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dk={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Lc.y(n,e)},Y:function(n,e,t,r){const i=fb(n,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Pn(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Pn(s,e.length)},R:function(n,e){const t=VO(n);return Pn(t,e.length)},u:function(n,e){const t=n.getFullYear();return Pn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Lc.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=WO(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Pn(i,e.length)},I:function(n,e,t){const r=hb(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Pn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Lc.d(n,e)},D:function(n,e,t){const r=Wne(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Pn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Pn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Pn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=qf.noon:r===0?i=qf.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=qf.evening:r>=12?i=qf.afternoon:r>=4?i=qf.morning:i=qf.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Lc.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Lc.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Pn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Pn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Lc.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Lc.s(n,e)},S:function(n,e){return Lc.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mk(r);case"XXXX":case"XX":return hh(r);case"XXXXX":case"XXX":default:return hh(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return mk(r);case"xxxx":case"xx":return hh(r);case"xxxxx":case"xxx":default:return hh(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pk(r,":");case"OOOO":default:return"GMT"+hh(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pk(r,":");case"zzzz":default:return"GMT"+hh(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Pn(r,e.length)},T:function(n,e,t){const r=n.getTime();return Pn(r,e.length)}};function pk(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Pn(s,2)}function mk(n,e){return n%60===0?(n>0?"-":"+")+Pn(Math.abs(n)/60,2):hh(n,e)}function hh(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Pn(Math.trunc(r/60),2),s=Pn(r%60,2);return t+i+e+s}const gk=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},HO=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qne=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return gk(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",gk(r,e)).replace("{{time}}",HO(i,e))},M2={p:HO,P:qne},$ne=/^D+$/,Yne=/^Y+$/,Gne=["D","DD","YY","YYYY"];function zO(n){return $ne.test(n)}function qO(n){return Yne.test(n)}function J5(n,e,t){const r=Kne(n,e,t);if(console.warn(r),Gne.includes(n))throw new RangeError(r)}function Kne(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jne=/^'([^]*?)'?$/,Zne=/''/g,ere=/[a-zA-Z]/;function vk(n,e,t){var u,h,d,f,v,g,E,_;const r=gf(),i=(t==null?void 0:t.locale)??r.locale??jO,s=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((g=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((_=(E=r.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??0,a=St(n);if(!qm(a))throw new RangeError("Invalid time value");let l=e.match(Xne).map(w=>{const x=w[0];if(x==="p"||x==="P"){const R=M2[x];return R(w,i.formatLong)}return w}).join("").match(Qne).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:tre(w)};if(dk[x])return{isToken:!0,value:w};if(x.match(ere))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const x=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&qO(x)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&zO(x))&&J5(x,e,String(n));const R=dk[x[0]];return R(a,x,i.localize,c)}).join("")}function tre(n){const e=n.match(Jne);return e?e[1].replace(Zne,"'"):n}function db(n,e){const t=+St(n);return Rn(n,t+e)}function Z5(n,e){return db(n,e*l_)}function nre(n,e){return db(n,e*c_)}function Vu(n,e){const t=St(n);return isNaN(e)?Rn(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function B2(n,e){const t=e*7;return Vu(n,t)}function pa(n,e){const t=St(n);if(isNaN(e))return Rn(n,NaN);if(!e)return t;const r=t.getDate(),i=Rn(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function pb(n,e){const t=e*3;return pa(n,t)}function Ml(n,e){return pa(n,e*12)}function rre(n,e){return Vu(n,-e)}function yk(n,e){return B2(n,-e)}function rp(n,e){return pa(n,-e)}function $O(n,e){return pb(n,-e)}function ip(n,e){return Ml(n,-e)}function Bl(n){return St(n).getSeconds()}function $a(n){return St(n).getMinutes()}function Ya(n){return St(n).getHours()}function ire(n){return St(n).getDay()}function _k(n){return St(n).getDate()}function ms(n){return St(n).getMonth()}function Nh(n){const e=St(n);return Math.trunc(e.getMonth()/3)+1}function tn(n){return St(n).getFullYear()}function eE(n){return St(n).getTime()}function hv(n,e){const t=St(n);return t.setSeconds(e),t}function fv(n,e){const t=St(n);return t.setMinutes(e),t}function dv(n,e){const t=St(n);return t.setHours(e),t}function sre(n){const e=St(n),t=e.getFullYear(),r=e.getMonth(),i=Rn(n,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function fs(n,e){const t=St(n),r=t.getFullYear(),i=t.getDate(),s=Rn(n,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=sre(s);return t.setMonth(e,Math.min(i,o)),t}function Jf(n,e){const t=St(n),r=Math.trunc(t.getMonth()/3)+1,i=e-r;return fs(t,t.getMonth()+i*3)}function Na(n,e){const t=St(n);return isNaN(+t)?Rn(n,NaN):(t.setFullYear(e),t)}function wk(n){let e;return n.forEach(t=>{const r=St(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function xk(n){let e;return n.forEach(function(t){const r=St(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function j2(n,e){const t=St(n),r=St(e),i=t.getFullYear()-r.getFullYear(),s=t.getMonth()-r.getMonth();return i*12+s}function U2(n,e){const t=St(n),r=St(e);return t.getFullYear()-r.getFullYear()}function V2(n,e){const t=St(n),r=St(e),i=t.getFullYear()-r.getFullYear(),s=Nh(t)-Nh(r);return i*4+s}function YO(n){const e=St(n);return e.setDate(1),e.setHours(0,0,0,0),e}function tE(n){const e=St(n),t=e.getMonth(),r=t-t%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function nE(n){const e=St(n);return e.setHours(23,59,59,999),e}function ore(n,e){var a,l;const t=gf(),r=t.weekStartsOn??((l=(a=t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=St(n),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function are(n){const e=St(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function GO(n){const e=St(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function lre(n,e){const t=St(n),r=St(e);return+t==+r}function cre(n,e){const t=qa(n),r=qa(e);return+t==+r}function ure(n,e){const t=St(n),r=St(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function hre(n,e){const t=St(n),r=St(e);return t.getFullYear()===r.getFullYear()}function fre(n,e){const t=tE(n),r=tE(e);return+t==+r}function Nu(n,e){const t=St(n),r=St(e);return t.getTime()>r.getTime()}function Jh(n,e){const t=St(n),r=St(e);return+t<+r}function Ym(n,e){const t=+St(n),[r,i]=[+St(e.start),+St(e.end)].sort((s,o)=>s-o);return t>=r&&t<=i}function dre(){return Object.assign({},gf())}function pre(n,e){const t=e instanceof Date?Rn(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const mre=10;class KO{constructor(){Et(this,"subPriority",0)}validate(e,t){return!0}}class gre extends KO{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class vre extends KO{constructor(){super(...arguments);Et(this,"priority",mre);Et(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Rn(t,pre(t,Date))}}class Tn{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new gre(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class yre extends Tn{constructor(){super(...arguments);Et(this,"priority",140);Et(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Fr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ra={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mr(n,e){return n&&{value:e(n.value),rest:n.rest}}function mr(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function La(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(i*c_+s*l_+o*Vne),rest:e.slice(t[0].length)}}function QO(n){return mr(Fr.anyDigitsSigned,n)}function Cr(n,e){switch(n){case 1:return mr(Fr.singleDigit,e);case 2:return mr(Fr.twoDigits,e);case 3:return mr(Fr.threeDigits,e);case 4:return mr(Fr.fourDigits,e);default:return mr(new RegExp("^\\d{1,"+n+"}"),e)}}function W2(n,e){switch(n){case 1:return mr(Fr.singleDigitSigned,e);case 2:return mr(Fr.twoDigitsSigned,e);case 3:return mr(Fr.threeDigitsSigned,e);case 4:return mr(Fr.fourDigitsSigned,e);default:return mr(new RegExp("^-?\\d{1,"+n+"}"),e)}}function mb(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function XO(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=n>=s%100;i=n+o-(a?100:0)}return t?i:1-i}function JO(n){return n%400===0||n%4===0&&n%100!==0}class _re extends Tn{constructor(){super(...arguments);Et(this,"priority",130);Et(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Mr(Cr(4,t),s);case"yo":return Mr(i.ordinalNumber(t,{unit:"year"}),s);default:return Mr(Cr(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const a=XO(i.year,s);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class wre extends Tn{constructor(){super(...arguments);Et(this,"priority",130);Et(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Mr(Cr(4,t),s);case"Yo":return Mr(i.ordinalNumber(t,{unit:"year"}),s);default:return Mr(Cr(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const o=fb(t,s);if(i.isTwoDigitYear){const l=XO(i.year,o);return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Jl(t,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Jl(t,s)}}class xre extends Tn{constructor(){super(...arguments);Et(this,"priority",130);Et(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return W2(r==="R"?4:r.length,t)}set(t,r,i){const s=Rn(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),np(s)}}class Ere extends Tn{constructor(){super(...arguments);Et(this,"priority",130);Et(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return W2(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Sre extends Tn{constructor(){super(...arguments);Et(this,"priority",120);Et(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Cr(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Tre extends Tn{constructor(){super(...arguments);Et(this,"priority",120);Et(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Cr(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class bre extends Tn{constructor(){super(...arguments);Et(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Et(this,"priority",110)}parse(t,r,i){const s=o=>o-1;switch(r){case"M":return Mr(mr(Fr.month,t),s);case"MM":return Mr(Cr(2,t),s);case"Mo":return Mr(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class Are extends Tn{constructor(){super(...arguments);Et(this,"priority",110);Et(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=o=>o-1;switch(r){case"L":return Mr(mr(Fr.month,t),s);case"LL":return Mr(Cr(2,t),s);case"Lo":return Mr(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function Cre(n,e,t){const r=St(n),i=WO(r,t)-e;return r.setDate(r.getDate()-i*7),r}class kre extends Tn{constructor(){super(...arguments);Et(this,"priority",100);Et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return mr(Fr.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Cr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Jl(Cre(t,i,s),s)}}function Ire(n,e){const t=St(n),r=hb(t)-e;return t.setDate(t.getDate()-r*7),t}class Nre extends Tn{constructor(){super(...arguments);Et(this,"priority",100);Et(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return mr(Fr.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Cr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return np(Ire(t,i))}}const Pre=[31,28,31,30,31,30,31,31,30,31,30,31],Dre=[31,29,31,30,31,30,31,31,30,31,30,31];class Rre extends Tn{constructor(){super(...arguments);Et(this,"priority",90);Et(this,"subPriority",1);Et(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return mr(Fr.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Cr(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=JO(i),o=t.getMonth();return s?r>=1&&r<=Dre[o]:r>=1&&r<=Pre[o]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class Lre extends Tn{constructor(){super(...arguments);Et(this,"priority",90);Et(this,"subpriority",1);Et(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return mr(Fr.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Cr(r.length,t)}}validate(t,r){const i=t.getFullYear();return JO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function gb(n,e,t){var h,d,f,v;const r=gf(),i=(t==null?void 0:t.weekStartsOn)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((v=(f=r.locale)==null?void 0:f.options)==null?void 0:v.weekStartsOn)??0,s=St(n),o=s.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return Vu(s,u)}class Ore extends Tn{constructor(){super(...arguments);Et(this,"priority",90);Et(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=gb(t,i,s),t.setHours(0,0,0,0),t}}class Fre extends Tn{constructor(){super(...arguments);Et(this,"priority",90);Et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Mr(Cr(r.length,t),o);case"eo":return Mr(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=gb(t,i,s),t.setHours(0,0,0,0),t}}class Mre extends Tn{constructor(){super(...arguments);Et(this,"priority",90);Et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Mr(Cr(r.length,t),o);case"co":return Mr(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=gb(t,i,s),t.setHours(0,0,0,0),t}}function Bre(n){let t=St(n).getDay();return t===0&&(t=7),t}function jre(n,e){const t=St(n),r=Bre(t),i=e-r;return Vu(t,i)}class Ure extends Tn{constructor(){super(...arguments);Et(this,"priority",90);Et(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Cr(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Mr(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return Mr(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Mr(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Mr(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=jre(t,i),t.setHours(0,0,0,0),t}}class Vre extends Tn{constructor(){super(...arguments);Et(this,"priority",80);Et(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(mb(i),0,0,0),t}}class Wre extends Tn{constructor(){super(...arguments);Et(this,"priority",80);Et(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(mb(i),0,0,0),t}}class Hre extends Tn{constructor(){super(...arguments);Et(this,"priority",80);Et(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(mb(i),0,0,0),t}}class zre extends Tn{constructor(){super(...arguments);Et(this,"priority",70);Et(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return mr(Fr.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Cr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class qre extends Tn{constructor(){super(...arguments);Et(this,"priority",70);Et(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return mr(Fr.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Cr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class $re extends Tn{constructor(){super(...arguments);Et(this,"priority",70);Et(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return mr(Fr.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Cr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class Yre extends Tn{constructor(){super(...arguments);Et(this,"priority",70);Et(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return mr(Fr.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Cr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class Gre extends Tn{constructor(){super(...arguments);Et(this,"priority",60);Et(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return mr(Fr.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Cr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class Kre extends Tn{constructor(){super(...arguments);Et(this,"priority",50);Et(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return mr(Fr.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Cr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class Qre extends Tn{constructor(){super(...arguments);Et(this,"priority",30);Et(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Mr(Cr(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class Xre extends Tn{constructor(){super(...arguments);Et(this,"priority",10);Et(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return La(Ra.basicOptionalMinutes,t);case"XX":return La(Ra.basic,t);case"XXXX":return La(Ra.basicOptionalSeconds,t);case"XXXXX":return La(Ra.extendedOptionalSeconds,t);case"XXX":default:return La(Ra.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Rn(t,t.getTime()-F2(t)-i)}}class Jre extends Tn{constructor(){super(...arguments);Et(this,"priority",10);Et(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return La(Ra.basicOptionalMinutes,t);case"xx":return La(Ra.basic,t);case"xxxx":return La(Ra.basicOptionalSeconds,t);case"xxxxx":return La(Ra.extendedOptionalSeconds,t);case"xxx":default:return La(Ra.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Rn(t,t.getTime()-F2(t)-i)}}class Zre extends Tn{constructor(){super(...arguments);Et(this,"priority",40);Et(this,"incompatibleTokens","*")}parse(t){return QO(t)}set(t,r,i){return[Rn(t,i*1e3),{timestampIsSet:!0}]}}class eie extends Tn{constructor(){super(...arguments);Et(this,"priority",20);Et(this,"incompatibleTokens","*")}parse(t){return QO(t)}set(t,r,i){return[Rn(t,i),{timestampIsSet:!0}]}}const tie={G:new yre,y:new _re,Y:new wre,R:new xre,u:new Ere,Q:new Sre,q:new Tre,M:new bre,L:new Are,w:new kre,I:new Nre,d:new Rre,D:new Lre,E:new Ore,e:new Fre,c:new Mre,i:new Ure,a:new Vre,b:new Wre,B:new Hre,h:new zre,H:new qre,K:new $re,k:new Yre,m:new Gre,s:new Kre,S:new Qre,X:new Xre,x:new Jre,t:new Zre,T:new eie},nie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iie=/^'([^]*?)'?$/,sie=/''/g,oie=/\S/,aie=/[a-zA-Z]/;function Yw(n,e,t,r){var g,E,_,w,x,R,B,V;const i=dre(),s=(r==null?void 0:r.locale)??i.locale??jO,o=(r==null?void 0:r.firstWeekContainsDate)??((E=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:E.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(_=i.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((R=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:R.weekStartsOn)??i.weekStartsOn??((V=(B=i.locale)==null?void 0:B.options)==null?void 0:V.weekStartsOn)??0;if(e==="")return n===""?St(t):Rn(t,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},c=[new vre],u=e.match(rie).map(T=>{const b=T[0];if(b in M2){const I=M2[b];return I(T,s.formatLong)}return T}).join("").match(nie),h=[];for(let T of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&qO(T)&&J5(T,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&zO(T)&&J5(T,e,n);const b=T[0],I=tie[b];if(I){const{incompatibleTokens:L}=I;if(Array.isArray(L)){const C=h.find(D=>L.includes(D.token)||D.token===b);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${T}\` at the same time`)}else if(I.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);h.push({token:b,fullToken:T});const A=I.run(n,T,s.match,l);if(!A)return Rn(t,NaN);c.push(A.setter),n=A.rest}else{if(b.match(aie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(T==="''"?T="'":b==="'"&&(T=lie(T)),n.indexOf(T)===0)n=n.slice(T.length);else return Rn(t,NaN)}}if(n.length>0&&oie.test(n))return Rn(t,NaN);const d=c.map(T=>T.priority).sort((T,b)=>b-T).filter((T,b,I)=>I.indexOf(T)===b).map(T=>c.filter(b=>b.priority===T).sort((b,I)=>I.subPriority-b.subPriority)).map(T=>T[0]);let f=St(t);if(isNaN(f.getTime()))return Rn(t,NaN);const v={};for(const T of d){if(!T.validate(f,l))return Rn(t,NaN);const b=T.set(f,v,l);Array.isArray(b)?(f=b[0],Object.assign(v,b[1])):f=b}return Rn(t,f)}function lie(n){return n.match(iie)[1].replace(sie,"'")}function cie(n,e){const r=die(n);let i;if(r.date){const l=pie(r.date,2);i=mie(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=gie(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=vie(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+o+a)}const L1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function die(n){const e={},t=n.split(L1.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],L1.timeZoneDelimiter.test(e.date)&&(e.date=n.split(L1.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=L1.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function pie(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function mie(n,e){if(e===null)return new Date(NaN);const t=n.match(uie);if(!t)return new Date(NaN);const r=!!t[4],i=a0(t[1]),s=a0(t[2])-1,o=a0(t[3]),a=a0(t[4]),l=a0(t[5])-1;if(r)return Eie(e,a,l)?yie(e,a,l):new Date(NaN);{const c=new Date(0);return!wie(e,s,o)||!xie(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}}function a0(n){return n?parseInt(n):1}function gie(n){const e=n.match(hie);if(!e)return NaN;const t=Gw(e[1]),r=Gw(e[2]),i=Gw(e[3]);return Sie(t,r,i)?t*c_+r*l_+i*1e3:NaN}function Gw(n){return n&&parseFloat(n.replace(",","."))||0}function vie(n){if(n==="Z")return 0;const e=n.match(fie);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Tie(r,i)?t*(r*c_+i*l_):NaN}function yie(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const _ie=[31,null,31,30,31,30,31,31,30,31,30,31];function ZO(n){return n%400===0||n%4===0&&n%100!==0}function wie(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(_ie[e]||(ZO(n)?29:28))}function xie(n,e){return e>=1&&e<=(ZO(n)?366:365)}function Eie(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Sie(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Tie(n,e){return e>=0&&e<=59}function bie(n,e){return db(n,e*1e3)}function Aie(n,e){let t=St(n);return isNaN(+t)?Rn(n,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=fs(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function Cie(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,rE(n,e)}function rE(n,e){return rE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rE(n,e)}function kie(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Ek(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Iie(n,e,t){return n===e?!0:n.correspondingElement?n.correspondingElement.classList.contains(t):n.classList.contains(t)}function Nie(n,e,t){if(n===e)return!0;for(;n.parentNode||n.host;){if(n.parentNode&&Iie(n,e,t))return!0;n=n.parentNode||n.host}return n}function Pie(n){return document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY}var Die=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t),e}};function Rie(n){return n===void 0&&(n=0),function(){return++n}}var Lie=Rie(),iE,O1={},Kw={},Oie=["touchstart","touchmove"],Fie="ignore-react-onclickoutside";function Sk(n,e){var t={},r=Oie.indexOf(e)!==-1;return r&&iE&&(t.passive=!n.props.preventDefault),t}function h_(n,e){var t,r,i=n.displayName||n.name||"Component";return r=t=function(s){Cie(o,s);function o(l){var c;return c=s.call(this,l)||this,c.__outsideClickHandler=function(u){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(u);return}var h=c.getInstance();if(typeof h.props.handleClickOutside=="function"){h.props.handleClickOutside(u);return}if(typeof h.handleClickOutside=="function"){h.handleClickOutside(u);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var u=c.getInstance();return typeof u.setClickOutsideRef=="function"?u.setClickOutsideRef():fy.findDOMNode(u)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||Kw[c._uid])){typeof iE>"u"&&(iE=Die()),Kw[c._uid]=!0;var u=c.props.eventTypes;u.forEach||(u=[u]),O1[c._uid]=function(h){if(c.componentNode!==null&&!(c.initTimeStamp>h.timeStamp)&&(c.props.preventDefault&&h.preventDefault(),c.props.stopPropagation&&h.stopPropagation(),!(c.props.excludeScrollbar&&Pie(h)))){var d=h.composed&&h.composedPath&&h.composedPath().shift()||h.target;Nie(d,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(h)}},u.forEach(function(h){document.addEventListener(h,O1[c._uid],Sk(Ek(c),h))})}},c.disableOnClickOutside=function(){delete Kw[c._uid];var u=O1[c._uid];if(u&&typeof document<"u"){var h=c.props.eventTypes;h.forEach||(h=[h]),h.forEach(function(d){return document.removeEventListener(d,u,Sk(Ek(c),d))}),delete O1[c._uid]}},c.getRef=function(u){return c.instanceRef=u},c._uid=Lie(),c.initTimeStamp=performance.now(),c}var a=o.prototype;return a.getInstance=function(){if(n.prototype&&!n.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var c=this.props;c.excludeScrollbar;var u=kie(c,["excludeScrollbar"]);return n.prototype&&n.prototype.isReactComponent?u.ref=this.getRef:u.wrappedRef=this.getRef,u.disableOnClickOutside=this.disableOnClickOutside,u.enableOnClickOutside=this.enableOnClickOutside,je.createElement(n,u)},o}(je.Component),t.displayName="OnClickOutside("+i+")",t.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:Fie,preventDefault:!1,stopPropagation:!1},t.getClass=function(){return n.getClass?n.getClass():n},r}function f_(){return typeof window<"u"}function Tp(n){return eF(n)?(n.nodeName||"").toLowerCase():"#document"}function co(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function rl(n){var e;return(e=(eF(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function eF(n){return f_()?n instanceof Node||n instanceof co(n).Node:!1}function gs(n){return f_()?n instanceof Element||n instanceof co(n).Element:!1}function Xa(n){return f_()?n instanceof HTMLElement||n instanceof co(n).HTMLElement:!1}function Tk(n){return!f_()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof co(n).ShadowRoot}function bg(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Lo(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Mie(n){return["table","td","th"].includes(Tp(n))}function d_(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function vb(n){const e=yb(),t=gs(n)?Lo(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Bie(n){let e=Pu(n);for(;Xa(e)&&!sp(e);){if(vb(e))return e;if(d_(e))return null;e=Pu(e)}return null}function yb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sp(n){return["html","body","#document"].includes(Tp(n))}function Lo(n){return co(n).getComputedStyle(n)}function p_(n){return gs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Pu(n){if(Tp(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Tk(n)&&n.host||rl(n);return Tk(e)?e.host:e}function tF(n){const e=Pu(n);return sp(e)?n.ownerDocument?n.ownerDocument.body:n.body:Xa(e)&&bg(e)?e:tF(e)}function Gm(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=tF(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=co(i);if(s){const a=sE(o);return e.concat(o,o.visualViewport||[],bg(i)?i:[],a&&t?Gm(a):[])}return e.concat(i,Gm(i,[],t))}function sE(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const op=Math.min,Ph=Math.max,H2=Math.round,F1=Math.floor,Ga=n=>({x:n,y:n}),jie={left:"right",right:"left",bottom:"top",top:"bottom"},Uie={start:"end",end:"start"};function Vie(n,e,t){return Ph(n,op(e,t))}function m_(n,e){return typeof n=="function"?n(e):n}function ap(n){return n.split("-")[0]}function Ag(n){return n.split("-")[1]}function Wie(n){return n==="x"?"y":"x"}function _b(n){return n==="y"?"height":"width"}function Km(n){return["top","bottom"].includes(ap(n))?"y":"x"}function wb(n){return Wie(Km(n))}function Hie(n,e,t){t===void 0&&(t=!1);const r=Ag(n),i=wb(n),s=_b(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=z2(o)),[o,z2(o)]}function zie(n){const e=z2(n);return[oE(n),e,oE(e)]}function oE(n){return n.replace(/start|end/g,e=>Uie[e])}function qie(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function $ie(n,e,t,r){const i=Ag(n);let s=qie(ap(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(oE)))),s}function z2(n){return n.replace(/left|right|bottom|top/g,e=>jie[e])}function Yie(n){return{top:0,right:0,bottom:0,left:0,...n}}function nF(n){return typeof n!="number"?Yie(n):{top:n,right:n,bottom:n,left:n}}function q2(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function bk(n,e,t){let{reference:r,floating:i}=n;const s=Km(e),o=wb(e),a=_b(o),l=ap(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(Ag(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}const Gie=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=bk(c,r,l),d=r,f={},v=0;for(let g=0;g<a.length;g++){const{name:E,fn:_}=a[g],{x:w,y:x,data:R,reset:B}=await _({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=w??u,h=x??h,f={...f,[E]:{...f[E],...R}},B&&v<=50&&(v++,typeof B=="object"&&(B.placement&&(d=B.placement),B.rects&&(c=B.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):B.rects),{x:u,y:h}=bk(c,d,l)),g=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}};async function Kie(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=m_(e,n),v=nF(f),E=a[d?h==="floating"?"reference":"floating":h],_=q2(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},B=q2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:l}):w);return{top:(_.top-B.top+v.top)/R.y,bottom:(B.bottom-_.bottom+v.bottom)/R.y,left:(_.left-B.left+v.left)/R.x,right:(B.right-_.right+v.right)/R.x}}const Qie=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=m_(n,e)||{};if(c==null)return{};const h=nF(u),d={x:t,y:r},f=wb(i),v=_b(f),g=await o.getDimensions(c),E=f==="y",_=E?"top":"left",w=E?"bottom":"right",x=E?"clientHeight":"clientWidth",R=s.reference[v]+s.reference[f]-d[f]-s.floating[v],B=d[f]-s.reference[f],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=V?V[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(V)))&&(T=a.floating[x]||s.floating[v]);const b=R/2-B/2,I=T/2-g[v]/2-1,L=op(h[_],I),A=op(h[w],I),C=L,D=T-g[v]-A,q=T/2-g[v]/2+b,he=Vie(C,q,D),ne=!l.arrow&&Ag(i)!=null&&q!==he&&s.reference[v]/2-(q<C?L:A)-g[v]/2<0,ee=ne?q<C?q-C:q-D:0;return{[f]:d[f]+ee,data:{[f]:he,centerOffset:q-he-ee,...ne&&{alignmentOffset:ee}},reset:ne}}}),Xie=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...E}=m_(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const _=ap(i),w=Km(a),x=ap(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),B=d||(x||!g?[z2(a)]:zie(a)),V=v!=="none";!d&&V&&B.push(...$ie(a,g,v,R));const T=[a,...B],b=await Kie(e,E),I=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&I.push(b[_]),h){const q=Hie(i,o,R);I.push(b[q[0]],b[q[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(q=>q<=0)){var A,C;const q=(((A=s.flip)==null?void 0:A.index)||0)+1,he=T[q];if(he)return{data:{index:q,overflows:L},reset:{placement:he}};let ne=(C=L.filter(ee=>ee.overflows[0]<=0).sort((ee,K)=>ee.overflows[1]-K.overflows[1])[0])==null?void 0:C.placement;if(!ne)switch(f){case"bestFit":{var D;const ee=(D=L.filter(K=>{if(V){const Z=Km(K.placement);return Z===w||Z==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(Z=>Z>0).reduce((Z,me)=>Z+me,0)]).sort((K,Z)=>K[1]-Z[1])[0])==null?void 0:D[0];ee&&(ne=ee);break}case"initialPlacement":ne=a;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};async function Jie(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ap(t),a=Ag(t),l=Km(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=m_(e,n);let{mainAxis:d,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(f=a==="end"?v*-1:v),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const Zie=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Jie(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function rF(n){const e=Lo(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Xa(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=H2(t)!==s||H2(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function xb(n){return gs(n)?n:n.contextElement}function Dd(n){const e=xb(n);if(!Xa(e))return Ga(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=rF(e);let o=(s?H2(t.width):t.width)/r,a=(s?H2(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ese=Ga(0);function iF(n){const e=co(n);return!yb()||!e.visualViewport?ese:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tse(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==co(n)?!1:e}function Zh(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=xb(n);let o=Ga(1);e&&(r?gs(r)&&(o=Dd(r)):o=Dd(n));const a=tse(s,t,r)?iF(s):Ga(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const d=co(s),f=r&&gs(r)?co(r):r;let v=d,g=sE(v);for(;g&&r&&f!==v;){const E=Dd(g),_=g.getBoundingClientRect(),w=Lo(g),x=_.left+(g.clientLeft+parseFloat(w.paddingLeft))*E.x,R=_.top+(g.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,h*=E.y,l+=x,c+=R,v=co(g),g=sE(v)}}return q2({width:u,height:h,x:l,y:c})}function Eb(n,e){const t=p_(n).scrollLeft;return e?e.left+t:Zh(rl(n)).left+t}function sF(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Eb(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function nse(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=rl(r),a=e?d_(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Ga(1);const u=Ga(0),h=Xa(r);if((h||!h&&!s)&&((Tp(r)!=="body"||bg(o))&&(l=p_(r)),Xa(r))){const f=Zh(r);c=Dd(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const d=o&&!h&&!s?sF(o,l,!0):Ga(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function rse(n){return Array.from(n.getClientRects())}function ise(n){const e=rl(n),t=p_(n),r=n.ownerDocument.body,i=Ph(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ph(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Eb(n);const a=-t.scrollTop;return Lo(r).direction==="rtl"&&(o+=Ph(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function sse(n,e){const t=co(n),r=rl(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=yb();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function ose(n,e){const t=Zh(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Xa(n)?Dd(n):Ga(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Ak(n,e,t){let r;if(e==="viewport")r=sse(n,t);else if(e==="document")r=ise(rl(n));else if(gs(e))r=ose(e,t);else{const i=iF(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return q2(r)}function oF(n,e){const t=Pu(n);return t===e||!gs(t)||sp(t)?!1:Lo(t).position==="fixed"||oF(t,e)}function ase(n,e){const t=e.get(n);if(t)return t;let r=Gm(n,[],!1).filter(a=>gs(a)&&Tp(a)!=="body"),i=null;const s=Lo(n).position==="fixed";let o=s?Pu(n):n;for(;gs(o)&&!sp(o);){const a=Lo(o),l=vb(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bg(o)&&!l&&oF(n,o))?r=r.filter(u=>u!==o):i=a,o=Pu(o)}return e.set(n,r),r}function lse(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?d_(e)?[]:ase(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=Ak(e,u,i);return c.top=Ph(h.top,c.top),c.right=op(h.right,c.right),c.bottom=op(h.bottom,c.bottom),c.left=Ph(h.left,c.left),c},Ak(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cse(n){const{width:e,height:t}=rF(n);return{width:e,height:t}}function use(n,e,t){const r=Xa(e),i=rl(e),s=t==="fixed",o=Zh(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ga(0);if(r||!r&&!s)if((Tp(e)!=="body"||bg(i))&&(a=p_(e)),r){const d=Zh(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=Eb(i));const c=i&&!r&&!s?sF(i,a):Ga(0),u=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:u,y:h,width:o.width,height:o.height}}function Qw(n){return Lo(n).position==="static"}function Ck(n,e){if(!Xa(n)||Lo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return rl(n)===t&&(t=t.ownerDocument.body),t}function aF(n,e){const t=co(n);if(d_(n))return t;if(!Xa(n)){let i=Pu(n);for(;i&&!sp(i);){if(gs(i)&&!Qw(i))return i;i=Pu(i)}return t}let r=Ck(n,e);for(;r&&Mie(r)&&Qw(r);)r=Ck(r,e);return r&&sp(r)&&Qw(r)&&!vb(r)?t:r||Bie(n)||t}const hse=async function(n){const e=this.getOffsetParent||aF,t=this.getDimensions,r=await t(n.floating);return{reference:use(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fse(n){return Lo(n).direction==="rtl"}const dse={convertOffsetParentRelativeRectToViewportRelativeRect:nse,getDocumentElement:rl,getClippingRect:lse,getOffsetParent:aF,getElementRects:hse,getClientRects:rse,getDimensions:cse,getScale:Dd,isElement:gs,isRTL:fse};function lF(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function pse(n,e){let t=null,r;const i=rl(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||e(),!d||!f)return;const v=F1(h),g=F1(i.clientWidth-(u+d)),E=F1(i.clientHeight-(h+f)),_=F1(u),x={rootMargin:-v+"px "+-g+"px "+-E+"px "+-_+"px",threshold:Ph(0,op(1,l))||1};let R=!0;function B(V){const T=V[0].intersectionRatio;if(T!==l){if(!R)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!lF(c,n.getBoundingClientRect())&&o(),R=!1}try{t=new IntersectionObserver(B,{...x,root:i.ownerDocument})}catch{t=new IntersectionObserver(B,x)}t.observe(n)}return o(!0),s}function mse(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=xb(n),u=i||s?[...c?Gm(c):[],...Gm(e)]:[];u.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const h=c&&a?pse(c,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(_=>{let[w]=_;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let v,g=l?Zh(n):null;l&&E();function E(){const _=Zh(n);g&&!lF(g,_)&&t(),g=_,v=requestAnimationFrame(E)}return t(),()=>{var _;u.forEach(w=>{i&&w.removeEventListener("scroll",t),s&&w.removeEventListener("resize",t)}),h==null||h(),(_=f)==null||_.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const gse=Zie,vse=Xie,kk=Qie,yse=(n,e,t)=>{const r=new Map,i={platform:dse,...t},s={...i.platform,_c:r};return Gie(n,e,{...i,platform:s})};var pv=typeof document<"u"?je.useLayoutEffect:je.useEffect;function $2(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!$2(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!$2(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function cF(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ik(n,e){const t=cF(n);return Math.round(e*t)/t}function Xw(n){const e=je.useRef(n);return pv(()=>{e.current=n}),e}function _se(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=je.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=je.useState(r);$2(d,r)||f(r);const[v,g]=je.useState(null),[E,_]=je.useState(null),w=je.useCallback(K=>{K!==V.current&&(V.current=K,g(K))},[]),x=je.useCallback(K=>{K!==T.current&&(T.current=K,_(K))},[]),R=s||v,B=o||E,V=je.useRef(null),T=je.useRef(null),b=je.useRef(u),I=l!=null,L=Xw(l),A=Xw(i),C=Xw(c),D=je.useCallback(()=>{if(!V.current||!T.current)return;const K={placement:e,strategy:t,middleware:d};A.current&&(K.platform=A.current),yse(V.current,T.current,K).then(Z=>{const me={...Z,isPositioned:C.current!==!1};q.current&&!$2(b.current,me)&&(b.current=me,fy.flushSync(()=>{h(me)}))})},[d,e,t,A,C]);pv(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(K=>({...K,isPositioned:!1})))},[c]);const q=je.useRef(!1);pv(()=>(q.current=!0,()=>{q.current=!1}),[]),pv(()=>{if(R&&(V.current=R),B&&(T.current=B),R&&B){if(L.current)return L.current(R,B,D);D()}},[R,B,D,L,I]);const he=je.useMemo(()=>({reference:V,floating:T,setReference:w,setFloating:x}),[w,x]),ne=je.useMemo(()=>({reference:R,floating:B}),[R,B]),ee=je.useMemo(()=>{const K={position:t,left:0,top:0};if(!ne.floating)return K;const Z=Ik(ne.floating,u.x),me=Ik(ne.floating,u.y);return a?{...K,transform:"translate("+Z+"px, "+me+"px)",...cF(ne.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:me}},[t,a,ne.floating,u.x,u.y]);return je.useMemo(()=>({...u,update:D,refs:he,elements:ne,floatingStyles:ee}),[u,D,he,ne,ee])}const wse=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?kk({element:r.current,padding:i}).fn(t):{}:r?kk({element:r,padding:i}).fn(t):{}}}},xse=(n,e)=>({...gse(n),options:[n,e]}),Ese=(n,e)=>({...vse(n),options:[n,e]}),Sse=(n,e)=>({...wse(n),options:[n,e]}),uF={...b8},Tse=uF.useInsertionEffect,bse=Tse||(n=>n());function Ase(n){const e=je.useRef(()=>{});return bse(()=>{e.current=n}),je.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Y2=typeof document<"u"?je.useLayoutEffect:je.useEffect;function aE(){return aE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aE.apply(this,arguments)}let Nk=!1,Cse=0;const Pk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Cse++;function kse(){const[n,e]=je.useState(()=>Nk?Pk():void 0);return Y2(()=>{n==null&&e(Pk())},[]),je.useEffect(()=>{Nk=!0},[]),n}const Ise=uF.useId,hF=Ise||kse,Nse=je.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:h,stroke:d,d:f,style:{transform:v,...g}={},...E}=e,_=hF(),[w,x]=je.useState(!1);if(Y2(()=>{if(!i)return;Lo(i).direction==="rtl"&&x(!0)},[i]),!i)return null;const[R,B]=r.split("-"),V=R==="top"||R==="bottom";let T=h;(V&&o!=null&&o.x||!V&&o!=null&&o.y)&&(T=null);const b=u*2,I=b/2,L=a/2*(c/-8+1),A=l/2*c/4,C=!!f,D=T&&B==="end"?"bottom":"top";let q=T&&B==="end"?"right":"left";T&&w&&(q=B==="end"?"left":"right");const he=(s==null?void 0:s.x)!=null?T||s.x:"",ne=(s==null?void 0:s.y)!=null?T||s.y:"",ee=f||"M0,0"+(" H"+a)+(" L"+(a-L)+","+(l-A))+(" Q"+a/2+","+l+" "+L+","+(l-A))+" Z",K={top:C?"rotate(180deg)":"",left:C?"rotate(90deg)":"rotate(-90deg)",bottom:C?"":"rotate(180deg)",right:C?"rotate(-90deg)":"rotate(90deg)"}[R];return je.createElement("svg",aE({},E,{"aria-hidden":!0,ref:t,width:C?a:a+b,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[q]:he,[D]:ne,[R]:V||C?"100%":"calc(100% - "+b/2+"px)",transform:[K,v].filter(Z=>!!Z).join(" "),...g}}),b>0&&je.createElement("path",{clipPath:"url(#"+_+")",fill:"none",stroke:d,strokeWidth:b+(f?0:1),d:ee}),je.createElement("path",{stroke:b&&!f?E.fill:"none",d:ee}),je.createElement("clipPath",{id:_},je.createElement("rect",{x:-I,y:I*(C?-1:1),width:a+b,height:a})))});function Pse(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const Dse=je.createContext(null),Rse=je.createContext(null),Lse=()=>{var n;return((n=je.useContext(Dse))==null?void 0:n.id)||null},Ose=()=>je.useContext(Rse);function Fse(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=hF(),s=je.useRef({}),[o]=je.useState(()=>Pse()),a=Lse()!=null,[l,c]=je.useState(r.reference),u=Ase((f,v,g)=>{s.current.openEvent=f?v:void 0,o.emit("openchange",{open:f,event:v,reason:g,nested:a}),t==null||t(f,v,g)}),h=je.useMemo(()=>({setPositionReference:c}),[]),d=je.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return je.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:d,events:o,floatingId:i,refs:h}),[e,u,d,o,i,h])}function Mse(n){n===void 0&&(n={});const{nodeId:e}=n,t=Fse({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=je.useState(null),[a,l]=je.useState(null),u=(i==null?void 0:i.domReference)||s,h=je.useRef(null),d=Ose();Y2(()=>{u&&(h.current=u)},[u]);const f=_se({...n,elements:{...i,...a&&{reference:a}}}),v=je.useCallback(x=>{const R=gs(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(R),f.refs.setReference(R)},[f.refs]),g=je.useCallback(x=>{(gs(x)||x===null)&&(h.current=x,o(x)),(gs(f.refs.reference.current)||f.refs.reference.current===null||x!==null&&!gs(x))&&f.refs.setReference(x)},[f.refs]),E=je.useMemo(()=>({...f.refs,setReference:g,setPositionReference:v,domReference:h}),[f.refs,g,v]),_=je.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),w=je.useMemo(()=>({...f,...r,refs:E,elements:_,nodeId:e}),[f,E,_,e,r]);return Y2(()=>{r.dataRef.current.floatingContext=w;const x=d==null?void 0:d.nodesRef.current.find(R=>R.id===e);x&&(x.context=w)}),je.useMemo(()=>({...f,context:w,refs:E,elements:_}),[f,E,_,w])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function mi(n,e,t){return e=G2(e),Use(n,fF()?Reflect.construct(e,t||[],G2(n).constructor):e.apply(n,t))}function fF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fF=function(){return!!n})()}function Dk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bse(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dF(n){var e=Bse(n,"string");return typeof e=="symbol"?e:e+""}function lE(n){"@babel/helpers - typeof";return lE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lE(n)}function gi(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rk(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dF(r.key),r)}}function vi(n,e,t){return e&&Rk(n.prototype,e),t&&Rk(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function de(n,e,t){return e=dF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qm(){return Qm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qm.apply(this,arguments)}function yi(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cE(n,e)}function G2(n){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G2(n)}function cE(n,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(n,e)}function jse(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Use(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jse(n)}function Du(n){return Vse(n)||Wse(n)||Hse(n)||zse()}function Vse(n){if(Array.isArray(n))return uE(n)}function Wse(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hse(n,e){if(n){if(typeof n=="string")return uE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uE(n,e)}}function uE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Cg=12,qse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ln(n){var e=n?typeof n=="string"||n instanceof String?cie(n):St(n):new Date;return Mc(e)?e:null}function $se(n,e,t,r,i){var s=null,o=pu(t)||pu(Dh()),a=!0;return Array.isArray(e)?(e.forEach(function(l){var c=Yw(n,l,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(a=Mc(c,i)&&n===ar(c,l,t)),Mc(c,i)&&a&&(s=c)}),s):(s=Yw(n,e,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?a=Mc(s)&&n===ar(s,e,t):Mc(s)||(e=e.match(qse).map(function(l){var c=l[0];if(c==="p"||c==="P"){var u=M2[c];return o?u(l,o.formatLong):c}return l}).join(""),n.length>0&&(s=Yw(n,e.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Mc(s)||(s=new Date(n))),Mc(s)&&a?s:null)}function Mc(n,e){return e=e||new Date("1/1/1000"),qm(n)&&!Jh(n,e)}function ar(n,e,t){if(t==="en")return vk(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=pu(t);return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&Dh()&&pu(Dh())&&(r=pu(Dh())),vk(n,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function bo(n,e){var t=e.dateFormat,r=e.locale;return n&&ar(n,Array.isArray(t)?t[0]:t,r)||""}function Yse(n,e,t){if(!n)return"";var r=bo(n,t),i=e?bo(e,t):"";return"".concat(r," - ").concat(i)}function Gse(n,e){if(!(n!=null&&n.length))return"";var t=bo(n[0],e);if(n.length===1)return t;if(n.length===2){var r=bo(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function Jw(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return dv(fv(hv(n,a),s),r)}function Kse(n,e){return Dh()&&pu(Dh()),hb(n)}function Qse(n,e){return ar(n,"ddd",e)}function Xse(n){return qa(n)}function fu(n,e,t){var r=pu(e||Dh());return Jl(n,{locale:r,weekStartsOn:t})}function du(n){return YO(n)}function w0(n){return u_(n)}function Lk(n){return tE(n)}function Ok(){return qa(Ln())}function Jse(n){return ore(n)}function Pa(n,e){return n&&e?hre(n,e):!n&&!e}function Zs(n,e){return n&&e?ure(n,e):!n&&!e}function K2(n,e){return n&&e?fre(n,e):!n&&!e}function xn(n,e){return n&&e?cre(n,e):!n&&!e}function xh(n,e){return n&&e?lre(n,e):!n&&!e}function x0(n,e,t){var r,i=qa(e),s=nE(t);try{r=Ym(n,{start:i,end:s})}catch{r=!1}return r}function Dh(){var n=typeof window<"u"?window:globalThis;return n.__localeId__}function pu(n){if(typeof n=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[n]:null}else return n}function Zse(n,e,t){return e(ar(n,"EEEE",t))}function eoe(n,e){return ar(n,"EEEEEE",e)}function toe(n,e){return ar(n,"EEE",e)}function Sb(n,e){return ar(fs(Ln(),n),"LLLL",e)}function pF(n,e){return ar(fs(Ln(),n),"LLL",e)}function noe(n,e){return ar(Jf(Ln(),n),"QQQ",e)}function g_(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.excludeDateIntervals,o=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return v_(n,{minDate:t,maxDate:r})||i&&i.some(function(c){return xn(n,c.date?c.date:c)})||s&&s.some(function(c){var u=c.start,h=c.end;return Ym(n,{start:u,end:h})})||o&&!o.some(function(c){return xn(n,c)})||a&&!a.some(function(c){var u=c.start,h=c.end;return Ym(n,{start:u,end:h})})||l&&!l(Ln(n))||!1}function Tb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var s=i.start,o=i.end;return Ym(n,{start:s,end:o})}):t&&t.some(function(i){return xn(n,i.date?i.date:i)})||!1}function mv(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return v_(n,{minDate:YO(t),maxDate:are(r)})||i&&i.some(function(a){return Zs(n,a)})||s&&!s.some(function(a){return Zs(n,a)})||o&&!o(Ln(n))||!1}function M1(n,e,t,r){var i=tn(n),s=ms(n),o=tn(e),a=ms(e),l=tn(r);if(i===o&&i===l)return s<=t&&t<=a;if(i<o)return l===i&&s<=t||l===o&&a>=t||l<o&&l>i}function Zw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return v_(n,{minDate:t,maxDate:r})||i&&i.some(function(a){return K2(n,a)})||s&&!s.some(function(a){return K2(n,a)})||o&&!o(Ln(n))||!1}function B1(n,e,t){if(!qm(e)||!qm(t))return!1;var r=tn(e),i=tn(t);return r<=n&&i>=n}function mF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate,a=new Date(n,0,1);return v_(a,{minDate:u_(t),maxDate:GO(r)})||i&&i.some(function(l){return Pa(a,l)})||s&&!s.some(function(l){return Pa(a,l)})||o&&!o(Ln(a))||!1}function j1(n,e,t,r){var i=tn(n),s=Nh(n),o=tn(e),a=Nh(e),l=tn(r);if(i===o&&i===l)return s<=t&&t<=a;if(i<o)return l===i&&s<=t||l===o&&a>=t||l<o&&l>i}function v_(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate;return t&&$m(n,t)<0||r&&$m(n,r)>0}function Fk(n,e){return e.some(function(t){return Ya(t)===Ya(n)&&$a(t)===$a(n)&&Bl(t)===Bl(n)})}function Mk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.excludeTimes,r=e.includeTimes,i=e.filterTime;return t&&Fk(n,t)||r&&!Fk(n,r)||i&&!i(n)||!1}function Bk(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Ln();i=dv(i,Ya(n)),i=fv(i,$a(n)),i=hv(i,Bl(n));var s=Ln();s=dv(s,Ya(t)),s=fv(s,$a(t)),s=hv(s,Bl(t));var o=Ln();o=dv(o,Ya(r)),o=fv(o,$a(r)),o=hv(o,Bl(r));var a;try{a=!Ym(i,{start:s,end:o})}catch{a=!1}return a}function jk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.includeDates,i=rp(n,1);return t&&j2(t,i)>0||r&&r.every(function(s){return j2(s,i)>0})||!1}function Uk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.includeDates,i=pa(n,1);return t&&j2(i,t)>0||r&&r.every(function(s){return j2(i,s)>0})||!1}function roe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.includeDates,i=u_(n),s=$O(i,1);return t&&V2(t,s)>0||r&&r.every(function(o){return V2(o,s)>0})||!1}function ioe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.includeDates,i=GO(n),s=pb(i,1);return t&&V2(s,t)>0||r&&r.every(function(o){return V2(s,o)>0})||!1}function Vk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.includeDates,i=ip(n,1);return t&&U2(t,i)>0||r&&r.every(function(s){return U2(s,i)>0})||!1}function soe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.yearItemNumber,i=r===void 0?Cg:r,s=w0(ip(n,i)),o=Xc(s,i),a=o.endPeriod,l=t&&tn(t);return l&&l>a||!1}function Wk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.includeDates,i=Ml(n,1);return t&&U2(i,t)>0||r&&r.every(function(s){return U2(i,s)>0})||!1}function ooe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.yearItemNumber,i=r===void 0?Cg:r,s=Ml(n,i),o=Xc(s,i),a=o.startPeriod,l=t&&tn(t);return l&&l<a||!1}function gF(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return $m(i,e)>=0});return wk(r)}else return t?wk(t):e}function vF(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return $m(i,e)<=0});return xk(r)}else return t?xk(t):e}function Hk(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",t=new Map,r=0,i=n.length;r<i;r++){var s=n[r];if(Xh(s)){var o=ar(s,"MM.dd.yyyy"),a=t.get(o)||[];a.includes(e)||(a.push(e),t.set(o,a))}else if(lE(s)==="object"){var l=Object.keys(s),c=l[0],u=s[l[0]];if(typeof c=="string"&&u.constructor===Array)for(var h=0,d=u.length;h<d;h++){var f=ar(u[h],"MM.dd.yyyy"),v=t.get(f)||[];v.includes(c)||(v.push(c),t.set(f,v))}}}return t}function aoe(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function loe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(Xh(i)){var o=ar(i,"MM.dd.yyyy"),a=t.get(o)||{};if(!("className"in a&&a.className===e&&aoe(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?[].concat(Du(l),[s]):[s],t.set(o,a)}}}),t}function coe(n,e,t,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=n;l=nre(l,Ya(i[a])),l=Z5(l,$a(i[a])),l=bie(l,Bl(i[a]));var c=Z5(n,(t+1)*r);Nu(l,e)&&Jh(l,c)&&o.push(i[a])}return o}function zk(n){return n<10?"0".concat(n):"".concat(n)}function Xc(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cg,t=Math.ceil(tn(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function uoe(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function qk(n){var e=n.getSeconds(),t=n.getMilliseconds();return St(n.getTime()-e*1e3-t)}function hoe(n,e){return qk(n).getTime()===qk(e).getTime()}function $k(n){if(!Xh(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function Yk(n,e){if(!Xh(n)||!Xh(e))throw new Error("Invalid date received");var t=$k(n),r=$k(e);return Jh(t,r)}function yF(n){var e=" ";return n.key===e}function foe(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var o=n+e-s,a=!0;t&&(a=tn(t)<=o),r&&a&&(a=tn(r)>=o),a&&i.push(o)}return i}var doe=function(n){function e(t){var r;gi(this,e),r=mi(this,e,[t]),de(r,"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return Le.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?Le.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),c=r.props.minDate?tn(r.props.minDate):null,u=r.props.maxDate?tn(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(h){return h===u}))&&l.unshift(Le.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(Le.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),de(r,"onChange",function(a){r.props.onChange(a)}),de(r,"handleClickOutside",function(){r.props.onCancel()}),de(r,"shiftYears",function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})}),de(r,"incrementYears",function(){return r.shiftYears(1)}),de(r,"decrementYears",function(){return r.shiftYears(-1)});var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:foe(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=je.createRef(),r}return yi(e,n),vi(e,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var i=r.children?Array.from(r.children):null,s=i?i.find(function(o){return o.ariaSelected}):null;r.scrollTop=s?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=Oi({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Le.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(Le.Component),poe=h_(doe),moe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"state",{dropdownVisible:!1}),de(t,"renderSelectOptions",function(){for(var o=t.props.minDate?tn(t.props.minDate):1900,a=t.props.maxDate?tn(t.props.maxDate):2100,l=[],c=o;c<=a;c++)l.push(Le.createElement("option",{key:c,value:c},c));return l}),de(t,"onSelectChange",function(o){t.onChange(o.target.value)}),de(t,"renderSelectMode",function(){return Le.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())}),de(t,"renderReadView",function(o){return Le.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return t.toggleDropdown(l)}},Le.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Le.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))}),de(t,"renderDropdown",function(){return Le.createElement(poe,{key:"dropdown",year:t.props.year,onChange:t.onChange,onCancel:t.toggleDropdown,minDate:t.props.minDate,maxDate:t.props.maxDate,scrollableYearDropdown:t.props.scrollableYearDropdown,yearDropdownItemNumber:t.props.yearDropdownItemNumber})}),de(t,"renderScrollMode",function(){var o=t.state.dropdownVisible,a=[t.renderReadView(!o)];return o&&a.unshift(t.renderDropdown()),a}),de(t,"onChange",function(o){t.toggleDropdown(),o!==t.props.year&&t.props.onChange(o)}),de(t,"toggleDropdown",function(o){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,o)})}),de(t,"handleYearChange",function(o,a){t.onSelect(o,a),t.setOpen()}),de(t,"onSelect",function(o,a){t.props.onSelect&&t.props.onSelect(o,a)}),de(t,"setOpen",function(){t.props.setOpen&&t.props.setOpen(!0)}),t}return yi(e,n),vi(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return Le.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(Le.Component),goe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"isSelectedMonth",function(o){return t.props.month===o}),de(t,"renderOptions",function(){return t.props.monthNames.map(function(o,a){return Le.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?Le.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})}),de(t,"onChange",function(o){return t.props.onChange(o)}),de(t,"handleClickOutside",function(){return t.props.onCancel()}),t}return yi(e,n),vi(e,[{key:"render",value:function(){return Le.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(Le.Component),voe=h_(goe),yoe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"state",{dropdownVisible:!1}),de(t,"renderSelectOptions",function(o){return o.map(function(a,l){return Le.createElement("option",{key:l,value:l},a)})}),de(t,"renderSelectMode",function(o){return Le.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(l){return t.onChange(l.target.value)}},t.renderSelectOptions(o))}),de(t,"renderReadView",function(o,a){return Le.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Le.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Le.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))}),de(t,"renderDropdown",function(o){return Le.createElement(voe,{key:"dropdown",month:t.props.month,monthNames:o,onChange:t.onChange,onCancel:t.toggleDropdown})}),de(t,"renderScrollMode",function(o){var a=t.state.dropdownVisible,l=[t.renderReadView(!a,o)];return a&&l.unshift(t.renderDropdown(o)),l}),de(t,"onChange",function(o){t.toggleDropdown(),o!==t.props.month&&t.props.onChange(o)}),de(t,"toggleDropdown",function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})}),t}return yi(e,n),vi(e,[{key:"render",value:function(){var r=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return pF(o,r.props.locale)}:function(o){return Sb(o,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(i);break;case"select":s=this.renderSelectMode(i);break}return Le.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)}}])}(Le.Component);function _oe(n,e){for(var t=[],r=du(n),i=du(e);!Nu(r,i);)t.push(Ln(r)),r=pa(r,1);return t}var woe=function(n){function e(t){var r;return gi(this,e),r=mi(this,e,[t]),de(r,"renderOptions",function(){return r.state.monthYearsList.map(function(i){var s=eE(i),o=Pa(r.props.date,i)&&Zs(r.props.date,i);return Le.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?Le.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",ar(i,r.props.dateFormat,r.props.locale))})}),de(r,"onChange",function(i){return r.props.onChange(i)}),de(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:_oe(r.props.minDate,r.props.maxDate)},r}return yi(e,n),vi(e,[{key:"render",value:function(){var r=Oi({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Le.createElement("div",{className:r},this.renderOptions())}}])}(Le.Component),xoe=h_(woe),Eoe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"state",{dropdownVisible:!1}),de(t,"renderSelectOptions",function(){for(var o=du(t.props.minDate),a=du(t.props.maxDate),l=[];!Nu(o,a);){var c=eE(o);l.push(Le.createElement("option",{key:c,value:c},ar(o,t.props.dateFormat,t.props.locale))),o=pa(o,1)}return l}),de(t,"onSelectChange",function(o){t.onChange(o.target.value)}),de(t,"renderSelectMode",function(){return Le.createElement("select",{value:eE(du(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())}),de(t,"renderReadView",function(o){var a=ar(t.props.date,t.props.dateFormat,t.props.locale);return Le.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(c){return t.toggleDropdown(c)}},Le.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Le.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),de(t,"renderDropdown",function(){return Le.createElement(xoe,{key:"dropdown",date:t.props.date,dateFormat:t.props.dateFormat,onChange:t.onChange,onCancel:t.toggleDropdown,minDate:t.props.minDate,maxDate:t.props.maxDate,scrollableMonthYearDropdown:t.props.scrollableMonthYearDropdown,locale:t.props.locale})}),de(t,"renderScrollMode",function(){var o=t.state.dropdownVisible,a=[t.renderReadView(!o)];return o&&a.unshift(t.renderDropdown()),a}),de(t,"onChange",function(o){t.toggleDropdown();var a=Ln(parseInt(o));Pa(t.props.date,a)&&Zs(t.props.date,a)||t.props.onChange(a)}),de(t,"toggleDropdown",function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})}),t}return yi(e,n),vi(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return Le.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(Le.Component),Soe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"dayEl",Le.createRef()),de(t,"handleClick",function(o){!t.isDisabled()&&t.props.onClick&&t.props.onClick(o)}),de(t,"handleMouseEnter",function(o){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(o)}),de(t,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),t.props.handleOnKeyDown(o)}),de(t,"isSameDay",function(o){return xn(t.props.day,o)}),de(t,"isKeyboardSelected",function(){var o;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(o=t.props.selectedDates)===null||o===void 0?void 0:o.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected);return!a&&t.isSameDayOrWeek(t.props.preSelection)}),de(t,"isDisabled",function(){return g_(t.props.day,t.props)}),de(t,"isExcluded",function(){return Tb(t.props.day,t.props)}),de(t,"isStartOfWeek",function(){return xn(t.props.day,fu(t.props.day,t.props.locale,t.props.calendarStartDay))}),de(t,"isSameWeek",function(o){return t.props.showWeekPicker&&xn(o,fu(t.props.day,t.props.locale,t.props.calendarStartDay))}),de(t,"isSameDayOrWeek",function(o){return t.isSameDay(o)||t.isSameWeek(o)}),de(t,"getHighLightedClass",function(){var o=t.props,a=o.day,l=o.highlightDates;if(!l)return!1;var c=ar(a,"MM.dd.yyyy");return l.get(c)}),de(t,"getHolidaysClass",function(){var o=t.props,a=o.day,l=o.holidays;if(!l)return!1;var c=ar(a,"MM.dd.yyyy");if(l.has(c))return[l.get(c).className]}),de(t,"isInRange",function(){var o=t.props,a=o.day,l=o.startDate,c=o.endDate;return!l||!c?!1:x0(a,l,c)}),de(t,"isInSelectingRange",function(){var o,a=t.props,l=a.day,c=a.selectsStart,u=a.selectsEnd,h=a.selectsRange,d=a.selectsDisabledDaysInRange,f=a.startDate,v=a.endDate,g=(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection;return!(c||u||h)||!g||!d&&t.isDisabled()?!1:c&&v&&(Jh(g,v)||xh(g,v))?x0(l,g,v):u&&f&&(Nu(g,f)||xh(g,f))||h&&f&&!v&&(Nu(g,f)||xh(g,f))?x0(l,f,g):!1}),de(t,"isSelectingRangeStart",function(){var o;if(!t.isInSelectingRange())return!1;var a=t.props,l=a.day,c=a.startDate,u=a.selectsStart,h=(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection;return u?xn(l,h):xn(l,c)}),de(t,"isSelectingRangeEnd",function(){var o;if(!t.isInSelectingRange())return!1;var a=t.props,l=a.day,c=a.endDate,u=a.selectsEnd,h=a.selectsRange,d=(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection;return u||h?xn(l,d):xn(l,c)}),de(t,"isRangeStart",function(){var o=t.props,a=o.day,l=o.startDate,c=o.endDate;return!l||!c?!1:xn(l,a)}),de(t,"isRangeEnd",function(){var o=t.props,a=o.day,l=o.startDate,c=o.endDate;return!l||!c?!1:xn(c,a)}),de(t,"isWeekend",function(){var o=ire(t.props.day);return o===0||o===6}),de(t,"isAfterMonth",function(){return t.props.month!==void 0&&(t.props.month+1)%12===ms(t.props.day)}),de(t,"isBeforeMonth",function(){return t.props.month!==void 0&&(ms(t.props.day)+1)%12===t.props.month}),de(t,"isCurrentDay",function(){return t.isSameDay(Ln())}),de(t,"isSelected",function(){if(t.props.selectsMultiple){var o;return(o=t.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return t.isSameDayOrWeek(a)})}return t.isSameDayOrWeek(t.props.selected)}),de(t,"getClassNames",function(o){var a=t.props.dayClassName?t.props.dayClassName(o):void 0;return Oi("react-datepicker__day",a,"react-datepicker__day--"+Qse(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass("react-datepicker__day--highlighted"),t.getHolidaysClass())}),de(t,"getAriaLabel",function(){var o=t.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=o.ariaLabelPrefixWhenDisabled,h=u===void 0?"Not available":u,d=t.isDisabled()||t.isExcluded()?h:c;return"".concat(d," ").concat(ar(a,"PPPP",t.props.locale))}),de(t,"getTitle",function(){var o=t.props,a=o.day,l=o.holidays,c=l===void 0?new Map:l,u=o.excludeDates,h=ar(a,"MM.dd.yyyy"),d=[];return c.has(h)&&d.push.apply(d,Du(c.get(h).holidayNames)),t.isExcluded()&&d.push(u==null?void 0:u.filter(function(f){return xn(f.date?f.date:f,a)}).map(function(f){return f.message})),d.join(", ")}),de(t,"getTabIndex",function(o,a){var l=o||t.props.selected,c=a||t.props.preSelection,u=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(l)&&xn(c,l))?0:-1;return u}),de(t,"handleFocusDay",function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;t.getTabIndex()===0&&!a.isInputFocused&&t.isSameDay(t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(l=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()&&(l=!1),t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()&&(l=!1)),l&&((o=t.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),de(t,"renderDayContents",function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(_k(t.props.day),t.props.day):_k(t.props.day)}),de(t,"render",function(){return Le.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Le.createElement("span",{className:"overlay"},t.getTitle()))}),t}return yi(e,n),vi(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(Le.Component),Toe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"weekNumberEl",Le.createRef()),de(t,"handleClick",function(o){t.props.onClick&&t.props.onClick(o)}),de(t,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),t.props.handleOnKeyDown(o)}),de(t,"isKeyboardSelected",function(){return!t.props.disabledKeyboardNavigation&&!xn(t.props.date,t.props.selected)&&xn(t.props.date,t.props.preSelection)}),de(t,"getTabIndex",function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||xn(t.props.date,t.props.selected)&&xn(t.props.preSelection,t.props.selected))?0:-1}),de(t,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;t.getTabIndex()===0&&!o.isInputFocused&&xn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})}),t}return yi(e,n),vi(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,i=r.weekNumber,s=r.ariaLabelPrefix,o=s===void 0?"week ":s,a=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&xn(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return Le.createElement("div",{ref:this.weekNumberEl,className:Oi(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(Le.Component),boe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"handleDayClick",function(o,a){t.props.onDayClick&&t.props.onDayClick(o,a)}),de(t,"handleDayMouseEnter",function(o){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)}),de(t,"handleWeekClick",function(o,a,l){typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(o,a,l),t.props.showWeekPicker&&t.handleDayClick(o,l),t.props.shouldCloseOnSelect&&t.props.setOpen(!1)}),de(t,"formatWeekNumber",function(o){return t.props.formatWeekNumber?t.props.formatWeekNumber(o):Kse(o)}),de(t,"renderDays",function(){var o=t.startOfWeek(),a=[],l=t.formatWeekNumber(o);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,o,l):void 0;a.push(Le.createElement(Toe,{key:"W",weekNumber:l,date:o,onClick:c,selected:t.props.selected,preSelection:t.props.preSelection,ariaLabelPrefix:t.props.ariaLabelPrefix,showWeekPicker:t.props.showWeekPicker,showWeekNumber:t.props.showWeekNumber,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(u){var h=Vu(o,u);return Le.createElement(Soe,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,month:t.props.month,onClick:t.handleDayClick.bind(t,h),usePointerEvent:t.props.usePointerEvent,onMouseEnter:t.handleDayMouseEnter.bind(t,h),minDate:t.props.minDate,maxDate:t.props.maxDate,calendarStartDay:t.props.calendarStartDay,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDates:t.props.includeDates,includeDateIntervals:t.props.includeDateIntervals,highlightDates:t.props.highlightDates,holidays:t.props.holidays,selectingDate:t.props.selectingDate,filterDate:t.props.filterDate,preSelection:t.props.preSelection,selected:t.props.selected,selectsStart:t.props.selectsStart,selectsEnd:t.props.selectsEnd,selectsRange:t.props.selectsRange,showWeekPicker:t.props.showWeekPicker,showWeekNumber:t.props.showWeekNumber,selectsDisabledDaysInRange:t.props.selectsDisabledDaysInRange,selectsMultiple:t.props.selectsMultiple,selectedDates:t.props.selectedDates,startDate:t.props.startDate,endDate:t.props.endDate,dayClassName:t.props.dayClassName,renderDayContents:t.props.renderDayContents,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef,inline:t.props.inline,shouldFocusDayInline:t.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:t.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:t.props.monthShowsDuplicateDaysStart,locale:t.props.locale})}))}),de(t,"startOfWeek",function(){return fu(t.props.day,t.props.locale,t.props.calendarStartDay)}),de(t,"isKeyboardSelected",function(){return!t.props.disabledKeyboardNavigation&&!xn(t.startOfWeek(),t.props.selected)&&xn(t.startOfWeek(),t.props.preSelection)}),t}return yi(e,n),vi(e,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":xn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return Le.createElement("div",{className:Oi(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(Le.Component),Aoe=6,Rd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},ex=de(de(de({},Rd.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Rd.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Rd.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),U1=1;function Gk(n,e){return n?Rd.FOUR_COLUMNS:e?Rd.TWO_COLUMNS:Rd.THREE_COLUMNS}var Coe=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"MONTH_REFS",Du(Array(12)).map(function(){return Le.createRef()})),de(t,"QUARTER_REFS",Du(Array(4)).map(function(){return Le.createRef()})),de(t,"isDisabled",function(o){return g_(o,t.props)}),de(t,"isExcluded",function(o){return Tb(o,t.props)}),de(t,"handleDayClick",function(o,a){t.props.onDayClick&&t.props.onDayClick(o,a,t.props.orderInDisplay)}),de(t,"handleDayMouseEnter",function(o){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)}),de(t,"handleMouseLeave",function(){t.props.onMouseLeave&&t.props.onMouseLeave()}),de(t,"isRangeStartMonth",function(o){var a=t.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Zs(fs(l,o),c)}),de(t,"isRangeStartQuarter",function(o){var a=t.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:K2(Jf(l,o),c)}),de(t,"isRangeEndMonth",function(o){var a=t.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Zs(fs(l,o),u)}),de(t,"isRangeEndQuarter",function(o){var a=t.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:K2(Jf(l,o),u)}),de(t,"isInSelectingRangeMonth",function(o){var a,l=t.props,c=l.day,u=l.selectsStart,h=l.selectsEnd,d=l.selectsRange,f=l.startDate,v=l.endDate,g=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||h||d)||!g?!1:u&&v?M1(g,v,o,c):h&&f||d&&f&&!v?M1(f,g,o,c):!1}),de(t,"isSelectingMonthRangeStart",function(o){var a;if(!t.isInSelectingRangeMonth(o))return!1;var l=t.props,c=l.day,u=l.startDate,h=l.selectsStart,d=fs(c,o),f=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h?Zs(d,f):Zs(d,u)}),de(t,"isSelectingMonthRangeEnd",function(o){var a;if(!t.isInSelectingRangeMonth(o))return!1;var l=t.props,c=l.day,u=l.endDate,h=l.selectsEnd,d=l.selectsRange,f=fs(c,o),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h||d?Zs(f,v):Zs(f,u)}),de(t,"isInSelectingRangeQuarter",function(o){var a,l=t.props,c=l.day,u=l.selectsStart,h=l.selectsEnd,d=l.selectsRange,f=l.startDate,v=l.endDate,g=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||h||d)||!g?!1:u&&v?j1(g,v,o,c):h&&f||d&&f&&!v?j1(f,g,o,c):!1}),de(t,"isWeekInMonth",function(o){var a=t.props.day,l=Vu(o,6);return Zs(o,a)||Zs(l,a)}),de(t,"isCurrentMonth",function(o,a){return tn(o)===tn(Ln())&&a===ms(Ln())}),de(t,"isCurrentQuarter",function(o,a){return tn(o)===tn(Ln())&&a===Nh(Ln())}),de(t,"isSelectedMonth",function(o,a,l){return ms(l)===a&&tn(o)===tn(l)}),de(t,"isSelectedQuarter",function(o,a,l){return Nh(o)===a&&tn(o)===tn(l)}),de(t,"renderWeeks",function(){for(var o=[],a=t.props.fixedHeight,l=0,c=!1,u=fu(du(t.props.day),t.props.locale,t.props.calendarStartDay),h=t.props.showWeekPicker?fu(t.props.selected,t.props.locale,t.props.calendarStartDay):t.props.selected,d=t.props.showWeekPicker?fu(t.props.preSelection,t.props.locale,t.props.calendarStartDay):t.props.preSelection;o.push(Le.createElement(boe,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:t.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:t.props.disabledDayAriaLabelPrefix,key:l,day:u,month:ms(t.props.day),onDayClick:t.handleDayClick,usePointerEvent:t.props.usePointerEvent,onDayMouseEnter:t.handleDayMouseEnter,onWeekSelect:t.props.onWeekSelect,formatWeekNumber:t.props.formatWeekNumber,locale:t.props.locale,minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDates:t.props.includeDates,includeDateIntervals:t.props.includeDateIntervals,inline:t.props.inline,shouldFocusDayInline:t.props.shouldFocusDayInline,highlightDates:t.props.highlightDates,holidays:t.props.holidays,selectingDate:t.props.selectingDate,filterDate:t.props.filterDate,preSelection:d,selected:h,selectsStart:t.props.selectsStart,selectsEnd:t.props.selectsEnd,selectsRange:t.props.selectsRange,selectsDisabledDaysInRange:t.props.selectsDisabledDaysInRange,selectsMultiple:t.props.selectsMultiple,selectedDates:t.props.selectedDates,showWeekNumber:t.props.showWeekNumbers,showWeekPicker:t.props.showWeekPicker,startDate:t.props.startDate,endDate:t.props.endDate,dayClassName:t.props.dayClassName,setOpen:t.props.setOpen,shouldCloseOnSelect:t.props.shouldCloseOnSelect,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,renderDayContents:t.props.renderDayContents,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef,calendarStartDay:t.props.calendarStartDay,monthShowsDuplicateDaysEnd:t.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:t.props.monthShowsDuplicateDaysStart})),!c;){l++,u=B2(u,1);var f=a&&l>=Aoe,v=!a&&!t.isWeekInMonth(u);if(f||v)if(t.props.peekNextMonth)c=!0;else break}return o}),de(t,"onMonthClick",function(o,a){var l=fs(t.props.day,a);mv(l,t.props)||t.handleDayClick(du(l),o)}),de(t,"onMonthMouseEnter",function(o){var a=fs(t.props.day,o);mv(a,t.props)||t.handleDayMouseEnter(du(a))}),de(t,"handleMonthNavigation",function(o,a){t.isDisabled(a)||t.isExcluded(a)||(t.props.setPreSelection(a),t.MONTH_REFS[o].current&&t.MONTH_REFS[o].current.focus())}),de(t,"onMonthKeyDown",function(o,a){var l=t.props,c=l.selected,u=l.preSelection,h=l.disabledKeyboardNavigation,d=l.showTwoColumnMonthYearPicker,f=l.showFourColumnMonthYearPicker,v=l.setPreSelection,g=l.handleOnMonthKeyDown,E=o.key;if(E!=="Tab"&&o.preventDefault(),!h){var _=Gk(f,d),w=ex[_].verticalNavigationOffset,x=ex[_].grid;switch(E){case"Enter":t.onMonthClick(o,a),v(c);break;case"ArrowRight":t.handleMonthNavigation(a===11?0:a+U1,pa(u,U1));break;case"ArrowLeft":t.handleMonthNavigation(a===0?11:a-U1,rp(u,U1));break;case"ArrowUp":t.handleMonthNavigation(x[0].includes(a)?a+12-w:a-w,rp(u,w));break;case"ArrowDown":t.handleMonthNavigation(x[x.length-1].includes(a)?a-12+w:a+w,pa(u,w));break}}g&&g(o)}),de(t,"onQuarterClick",function(o,a){var l=Jf(t.props.day,a);Zw(l,t.props)||t.handleDayClick(Lk(l),o)}),de(t,"onQuarterMouseEnter",function(o){var a=Jf(t.props.day,o);Zw(a,t.props)||t.handleDayMouseEnter(Lk(a))}),de(t,"handleQuarterNavigation",function(o,a){t.isDisabled(a)||t.isExcluded(a)||(t.props.setPreSelection(a),t.QUARTER_REFS[o-1].current&&t.QUARTER_REFS[o-1].current.focus())}),de(t,"onQuarterKeyDown",function(o,a){var l=o.key;if(!t.props.disabledKeyboardNavigation)switch(l){case"Enter":t.onQuarterClick(o,a),t.props.setPreSelection(t.props.selected);break;case"ArrowRight":t.handleQuarterNavigation(a===4?1:a+1,pb(t.props.preSelection,1));break;case"ArrowLeft":t.handleQuarterNavigation(a===1?4:a-1,$O(t.props.preSelection,1));break}}),de(t,"isMonthDisabled",function(o){var a=t.props,l=a.day,c=a.minDate,u=a.maxDate,h=a.excludeDates,d=a.includeDates,f=fs(l,o);return(c||u||h||d)&&mv(f,t.props)}),de(t,"getMonthClassNames",function(o){var a=t.props,l=a.day,c=a.startDate,u=a.endDate,h=a.selected,d=a.preSelection,f=a.monthClassName,v=f?f(fs(l,o)):void 0;return Oi("react-datepicker__month-text","react-datepicker__month-".concat(o),v,{"react-datepicker__month-text--disabled":t.isMonthDisabled(o),"react-datepicker__month-text--selected":t.isSelectedMonth(l,o,h),"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&t.isSelectedMonth(l,o,d),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":M1(c,u,o,l),"react-datepicker__month-text--range-start":t.isRangeStartMonth(o),"react-datepicker__month-text--range-end":t.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":t.isCurrentMonth(l,o)})}),de(t,"getTabIndex",function(o){var a=ms(t.props.preSelection),l=!t.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),de(t,"getQuarterTabIndex",function(o){var a=Nh(t.props.preSelection),l=!t.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),de(t,"getAriaLabel",function(o){var a=t.props,l=a.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=a.disabledDayAriaLabelPrefix,h=u===void 0?"Not available":u,d=a.day,f=a.locale,v=fs(d,o),g=t.isDisabled(v)||t.isExcluded(v)?h:c;return"".concat(g," ").concat(ar(v,"MMMM yyyy",f))}),de(t,"getQuarterClassNames",function(o){var a=t.props,l=a.day,c=a.startDate,u=a.endDate,h=a.selected,d=a.minDate,f=a.maxDate,v=a.preSelection,g=a.disabledKeyboardNavigation;return Oi("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(d||f)&&Zw(Jf(l,o),t.props),"react-datepicker__quarter-text--selected":t.isSelectedQuarter(l,o,h),"react-datepicker__quarter-text--keyboard-selected":!g&&t.isSelectedQuarter(l,o,v),"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":j1(c,u,o,l),"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(o)})}),de(t,"getMonthContent",function(o){var a=t.props,l=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,h=a.day,d=pF(o,u),f=Sb(o,u);return c?c(o,d,f,h):l?f:d}),de(t,"getQuarterContent",function(o){var a=t.props,l=a.renderQuarterContent,c=a.locale,u=noe(o,c);return l?l(o,u):u}),de(t,"renderMonths",function(){var o=t.props,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,c=o.day,u=o.selected,h=ex[Gk(l,a)].grid;return h.map(function(d,f){return Le.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(v,g){return Le.createElement("div",{ref:t.MONTH_REFS[v],key:g,onClick:function(_){t.onMonthClick(_,v)},onKeyDown:function(_){yF(_)&&(_.preventDefault(),_.key="Enter"),t.onMonthKeyDown(_,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:t.getTabIndex(v),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(c,v)?"date":void 0,"aria-selected":t.isSelectedMonth(c,v,u)},t.getMonthContent(v))}))})}),de(t,"renderQuarters",function(){var o=t.props,a=o.day,l=o.selected,c=[1,2,3,4];return Le.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,h){return Le.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(f){t.onQuarterClick(f,u)},onKeyDown:function(f){t.onQuarterKeyDown(f,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":t.isSelectedQuarter(a,u,l),tabIndex:t.getQuarterTabIndex(u),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))}),de(t,"getClassNames",function(){var o=t.props,a=o.selectingDate,l=o.selectsStart,c=o.selectsEnd,u=o.showMonthYearPicker,h=o.showQuarterYearPicker,d=o.showWeekPicker;return Oi("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":d})}),t}return yi(e,n),vi(e,[{key:"render",value:function(){var r=this.props,i=r.showMonthYearPicker,s=r.showQuarterYearPicker,o=r.day,a=r.ariaLabelPrefix,l=a===void 0?"Month ":a,c=l?l.trim()+" ":"";return Le.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(ar(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():s?this.renderQuarters():this.renderWeeks())}}])}(Le.Component),_F=function(n){function e(){var t;gi(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=mi(this,e,[].concat(i)),de(t,"state",{height:null}),de(t,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){t.list&&(t.list.scrollTop=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-t.header.clientHeight:t.list.clientHeight,t.centerLi))})}),de(t,"handleClick",function(o){(t.props.minTime||t.props.maxTime)&&Bk(o,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Mk(o,t.props)||t.props.onChange(o)}),de(t,"isSelectedTime",function(o){return t.props.selected&&hoe(t.props.selected,o)}),de(t,"isDisabledTime",function(o){return(t.props.minTime||t.props.maxTime)&&Bk(o,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Mk(o,t.props)}),de(t,"liClasses",function(o){var a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(o):void 0];return t.isSelectedTime(o)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(o)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ya(o)*3600+$a(o)*60+Bl(o))%(t.props.intervals*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),de(t,"handleOnKeyDown",function(o,a){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&t.handleClick(a),t.props.handleOnKeyDown(o)}),de(t,"renderTimes",function(){for(var o=[],a=t.props.format?t.props.format:"p",l=t.props.intervals,c=t.props.selected||t.props.openToDate||Ln(),u=Xse(c),h=t.props.injectTimes&&t.props.injectTimes.sort(function(w,x){return w-x}),d=60*uoe(c),f=d/l,v=0;v<f;v++){var g=Z5(u,v*l);if(o.push(g),h){var E=coe(u,g,v,l,h);o=o.concat(E)}}var _=o.reduce(function(w,x){return x.getTime()<=c.getTime()?x:w},o[0]);return o.map(function(w,x){return Le.createElement("li",{key:x,onClick:t.handleClick.bind(t,w),className:t.liClasses(w),ref:function(B){w===_&&(t.centerLi=B)},onKeyDown:function(B){t.handleOnKeyDown(B,w)},tabIndex:w===_?0:-1,role:"option","aria-selected":t.isSelectedTime(w)?"true":void 0,"aria-disabled":t.isDisabledTime(w)?"true":void 0},ar(w,a,t.props.locale))})}),t}return yi(e,n),vi(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,i=this.state.height;return Le.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},Le.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},Le.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),Le.createElement("div",{className:"react-datepicker__time"},Le.createElement("div",{className:"react-datepicker__time-box"},Le.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(Le.Component);de(_F,"calcCenterPosition",function(n,e){return e.offsetTop-(n/2-e.clientHeight/2)});var Kk=3,koe=function(n){function e(t){var r;return gi(this,e),r=mi(this,e,[t]),de(r,"YEAR_REFS",Du(Array(r.props.yearItemNumber)).map(function(){return Le.createRef()})),de(r,"isDisabled",function(i){return g_(i,r.props)}),de(r,"isExcluded",function(i){return Tb(i,r.props)}),de(r,"selectingDate",function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection}),de(r,"updateFocusOnPaginate",function(i){var s=(function(){this.YEAR_REFS[i].current.focus()}).bind(r);window.requestAnimationFrame(s)}),de(r,"handleYearClick",function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)}),de(r,"handleYearNavigation",function(i,s){var o=r.props,a=o.date,l=o.yearItemNumber,c=Xc(a,l),u=c.startPeriod;r.isDisabled(s)||r.isExcluded(s)||(r.props.setPreSelection(s),i-u<0?r.updateFocusOnPaginate(l-(u-i)):i-u>=l?r.updateFocusOnPaginate(Math.abs(l-(i-u))):r.YEAR_REFS[i-u].current.focus())}),de(r,"isSameDay",function(i,s){return xn(i,s)}),de(r,"isCurrentYear",function(i){return i===tn(Ln())}),de(r,"isRangeStart",function(i){return r.props.startDate&&r.props.endDate&&Pa(Na(Ln(),i),r.props.startDate)}),de(r,"isRangeEnd",function(i){return r.props.startDate&&r.props.endDate&&Pa(Na(Ln(),i),r.props.endDate)}),de(r,"isInRange",function(i){return B1(i,r.props.startDate,r.props.endDate)}),de(r,"isInSelectingRange",function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,u=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&u?B1(i,r.selectingDate(),u):a&&c||l&&c&&!u?B1(i,c,r.selectingDate()):!1}),de(r,"isSelectingRangeStart",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.startDate,a=s.selectsStart,l=Na(Ln(),i);return a?Pa(l,r.selectingDate()):Pa(l,o)}),de(r,"isSelectingRangeEnd",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.endDate,a=s.selectsEnd,l=s.selectsRange,c=Na(Ln(),i);return a||l?Pa(c,r.selectingDate()):Pa(c,o)}),de(r,"isKeyboardSelected",function(i){var s=w0(Na(r.props.date,i));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!xn(s,w0(r.props.selected))&&xn(s,w0(r.props.preSelection))}),de(r,"onYearClick",function(i,s){var o=r.props.date;r.handleYearClick(w0(Na(o,s)),i)}),de(r,"onYearKeyDown",function(i,s){var o=i.key,a=r.props,l=a.date,c=a.yearItemNumber,u=a.handleOnKeyDown;if(o!=="Tab"&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(o){case"Enter":r.onYearClick(i,s),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(s+1,Ml(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(s-1,ip(r.props.preSelection,1));break;case"ArrowUp":{var h=Xc(l,c),d=h.startPeriod,f=Kk,v=s-f;if(v<d){var g=c%f;s>=d&&s<d+g?f=g:f+=g,v=s-f}r.handleYearNavigation(v,ip(r.props.preSelection,f));break}case"ArrowDown":{var E=Xc(l,c),_=E.endPeriod,w=Kk,x=s+w;if(x>_){var R=c%w;s<=_&&s>_-R?w=R:w+=R,x=s+w}r.handleYearNavigation(x,Ml(r.props.preSelection,w));break}}u&&u(i)}),de(r,"getYearClassNames",function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.selected,u=s.excludeDates,h=s.includeDates,d=s.filterDate,f=s.yearClassName;return Oi("react-datepicker__year-text","react-datepicker__year-".concat(i),f?f(Na(o,i)):void 0,{"react-datepicker__year-text--selected":i===tn(c),"react-datepicker__year-text--disabled":(a||l||u||h||d)&&mF(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})}),de(r,"getYearTabIndex",function(i){if(r.props.disabledKeyboardNavigation)return"-1";var s=tn(r.props.preSelection);return i===s?"0":"-1"}),de(r,"getYearContainerClassNames",function(){var i=r.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return Oi("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||l)})}),de(r,"getYearContent",function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i}),r}return yi(e,n),vi(e,[{key:"render",value:function(){for(var r=this,i=[],s=this.props,o=s.date,a=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave,u=Xc(o,a),h=u.startPeriod,d=u.endPeriod,f=function(E){i.push(Le.createElement("div",{ref:r.YEAR_REFS[E-h],onClick:function(w){r.onYearClick(w,E)},onKeyDown:function(w){yF(w)&&(w.preventDefault(),w.key="Enter"),r.onYearKeyDown(w,E)},tabIndex:r.getYearTabIndex(E),className:r.getYearClassNames(E),onMouseEnter:r.props.usePointerEvent?void 0:function(_){return l(_,E)},onPointerEnter:r.props.usePointerEvent?function(_){return l(_,E)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(_){return c(_,E)},onPointerLeave:r.props.usePointerEvent?function(_){return c(_,E)}:void 0,key:E,"aria-current":r.isCurrentYear(E)?"date":void 0},r.getYearContent(E)))},v=h;v<=d;v++)f(v);return Le.createElement("div",{className:this.getYearContainerClassNames()},Le.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))}}])}(Le.Component),Ioe=function(n){function e(t){var r;return gi(this,e),r=mi(this,e,[t]),de(r,"onTimeChange",function(i){r.setState({time:i});var s=r.props.date,o=s instanceof Date&&!isNaN(s),a=o?s:new Date;a.setHours(i.split(":")[0]),a.setMinutes(i.split(":")[1]),r.props.onChange(a)}),de(r,"renderTimeInput",function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?Le.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):Le.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||a)}})}),r.state={time:r.props.timeString},r}return yi(e,n),vi(e,[{key:"render",value:function(){return Le.createElement("div",{className:"react-datepicker__input-time-container"},Le.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Le.createElement("div",{className:"react-datepicker-time__input-container"},Le.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.timeString!==i.time?{time:r.timeString}:null}}])}(Le.Component);function Noe(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,o=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Le.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)}var Poe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Doe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=(e.className||"").split(/\s+/);return Poe.some(function(r){return t.indexOf(r)>=0})},Roe=function(n){function e(t){var r;return gi(this,e),r=mi(this,e,[t]),de(r,"handleClickOutside",function(i){r.props.onClickOutside(i)}),de(r,"setClickOutsideRef",function(){return r.containerRef.current}),de(r,"handleDropdownFocus",function(i){Doe(i.target)&&r.props.onDropdownFocus()}),de(r,"getDateInView",function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=gF(r.props),c=vF(r.props),u=Ln(),h=a||o||s;return h||(l&&Jh(u,l)?l:c&&Nu(u,c)?c:u)}),de(r,"increaseMonth",function(){r.setState(function(i){var s=i.date;return{date:pa(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),de(r,"decreaseMonth",function(){r.setState(function(i){var s=i.date;return{date:rp(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),de(r,"handleDayClick",function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)}),de(r,"handleDayMouseEnter",function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)}),de(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),de(r,"handleYearMouseEnter",function(i,s){r.setState({selectingDate:Na(Ln(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)}),de(r,"handleYearMouseLeave",function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)}),de(r,"handleYearChange",function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),de(r,"handleMonthChange",function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),de(r,"handleCustomMonthChange",function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))}),de(r,"handleMonthYearChange",function(i){r.handleYearChange(i),r.handleMonthChange(i)}),de(r,"changeYear",function(i){r.setState(function(s){var o=s.date;return{date:Na(o,i)}},function(){return r.handleYearChange(r.state.date)})}),de(r,"changeMonth",function(i){r.setState(function(s){var o=s.date;return{date:fs(o,i)}},function(){return r.handleMonthChange(r.state.date)})}),de(r,"changeMonthYear",function(i){r.setState(function(s){var o=s.date;return{date:Na(fs(o,ms(i)),tn(i))}},function(){return r.handleMonthYearChange(r.state.date)})}),de(r,"header",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=fu(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(Le.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Vu(s,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return Le.createElement("div",{key:a,"aria-label":ar(l,"EEEE",r.props.locale),className:Oi("react-datepicker__day-name",u)},c)}))}),de(r,"formatWeekday",function(i,s){return r.props.formatWeekDay?Zse(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?toe(i,s):eoe(i,s)}),de(r,"decreaseYear",function(){r.setState(function(i){var s=i.date;return{date:ip(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),de(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),de(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=Vk(r.state.date,r.props);break;case r.props.showYearPicker:i=soe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=roe(r.state.date,r.props);break;default:i=jk(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],a=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,u=c.previousMonthButtonLabel,h=c.previousYearButtonLabel,d=r.props,f=d.previousMonthAriaLabel,v=f===void 0?typeof u=="string"?u:"Previous Month":f,g=d.previousYearAriaLabel,E=g===void 0?typeof h=="string"?h:"Previous Year":g;return Le.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?E:v},Le.createElement("span",{className:s.join(" ")},l?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),de(r,"increaseYear",function(){r.setState(function(i){var s=i.date;return{date:Ml(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),de(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=Wk(r.state.date,r.props);break;case r.props.showYearPicker:i=ooe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=ioe(r.state.date,r.props);break;default:i=Uk(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,u=c.nextMonthButtonLabel,h=c.nextYearButtonLabel,d=r.props,f=d.nextMonthAriaLabel,v=f===void 0?typeof u=="string"?u:"Next Month":f,g=d.nextYearAriaLabel,E=g===void 0?typeof h=="string"?h:"Next Year":g;return Le.createElement("button",{type:"button",className:s.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?E:v},Le.createElement("span",{className:o.join(" ")},l?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),de(r,"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Le.createElement("div",{className:s.join(" ")},ar(i,r.props.dateFormat,r.props.locale))}),de(r,"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||i))return Le.createElement(moe,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:tn(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),de(r,"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||i))return Le.createElement(yoe,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:ms(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),de(r,"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||i))return Le.createElement(Eoe,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),de(r,"handleTodayButtonClick",function(i){r.props.onSelect(Ok(),i),r.props.setPreSelection&&r.props.setPreSelection(Ok())}),de(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Le.createElement("div",{className:"react-datepicker__today-button",onClick:function(s){return r.handleTodayButtonClick(s)}},r.props.todayButton)}),de(r,"renderDefaultHeader",function(i){var s=i.monthDate,o=i.i;return Le.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),Le.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),Le.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),de(r,"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.monthDate,o=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=jk(r.state.date,r.props),l=Uk(r.state.date,r.props),c=Vk(r.state.date,r.props),u=Wk(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return Le.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(Sl(Sl({},r.state),{},{customHeaderCount:o,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:u})),h&&Le.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),de(r,"renderYearHeader",function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=Xc(s,l),u=c.startPeriod,h=c.endPeriod;return Le.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(u," - ").concat(h):tn(s))}),de(r,"renderHeader",function(i){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}}),de(r,"renderMonths",function(){var i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],o=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ml(r.state.date,o):rp(r.state.date,o),l=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:o,c=0;c<r.props.monthsShown;++c){var u=c-l+o,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ml(a,u):pa(a,u),d="month-".concat(c),f=c<r.props.monthsShown-1,v=c>0;s.push(Le.createElement("div",{key:d,ref:function(E){r.monthContainer=E},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:c}),Le.createElement(Coe,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:h,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:c,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:v})))}return s}}),de(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Le.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Le.createElement(koe,Qm({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),de(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Le.createElement(_F,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),de(r,"renderInputTimeSection",function(){var i=new Date(r.props.selected),s=Mc(i)&&!!r.props.selected,o=s?"".concat(zk(i.getHours()),":").concat(zk(i.getMinutes())):"";if(r.props.showTimeInput)return Le.createElement(Ioe,{date:i,timeString:o,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),de(r,"renderAriaLiveRegion",function(){var i=Xc(r.state.date,r.props.yearItemNumber),s=i.startPeriod,o=i.endPeriod,a;return r.props.showYearPicker?a="".concat(s," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?a=tn(r.state.date):a="".concat(Sb(ms(r.state.date),r.props.locale)," ").concat(tn(r.state.date)),Le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&a)}),de(r,"renderChildren",function(){if(r.props.children)return Le.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=Le.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return yi(e,n),vi(e,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var i=this;if(this.props.preSelection&&(!xn(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!Zs(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!xn(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||Noe;return Le.createElement("div",{style:{display:"contents"},ref:this.containerRef},Le.createElement(r,{className:Oi("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Cg}}}])}(Le.Component),Loe=function(e){var t=e.icon,r=e.className,i=r===void 0?"":r,s=e.onClick,o="react-datepicker__calendar-icon";return Le.isValidElement(t)?Le.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(o," ").concat(i),onClick:function(l){typeof t.props.onClick=="function"&&t.props.onClick(l),typeof s=="function"&&s(l)}}):typeof t=="string"?Le.createElement("i",{className:"".concat(o," ").concat(t," ").concat(i),"aria-hidden":"true",onClick:s}):Le.createElement("svg",{className:"".concat(o," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},Le.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Ooe=Loe,wF=function(n){function e(t){var r;return gi(this,e),r=mi(this,e,[t]),r.el=document.createElement("div"),r}return yi(e,n),vi(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return F7.createPortal(this.props.children,this.el)}}])}(Le.Component),Foe="[tabindex], a, button, input, select, textarea",Moe=function(e){return!e.disabled&&e.tabIndex!==-1},xF=function(n){function e(t){var r;return gi(this,e),r=mi(this,e,[t]),de(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(Foe),1,-1).filter(Moe)}),de(r,"handleFocusStart",function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),de(r,"handleFocusEnd",function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()}),r.tabLoopRef=Le.createRef(),r}return yi(e,n),vi(e,[{key:"render",value:function(){return this.props.enableTabLoop?Le.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Le.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,Le.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(Le.Component);function Boe(n){var e=function(r){var i=Sl(Sl({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),s=Le.useRef(),o=Mse(Sl({open:!i.hidePopper,whileElementsMounted:mse,placement:i.popperPlacement,middleware:[Ese({padding:15}),xse(10),Sse({element:s})].concat(Du(i.popperModifiers))},i.popperProps));return Le.createElement(n,Qm({},i,{popperProps:Sl(Sl({},o),{},{arrowRef:s})}))};return e}var joe=function(n){function e(){return gi(this,e),mi(this,e,arguments)}return yi(e,n),vi(e,[{key:"render",value:function(){var r=this.props,i=r.className,s=r.wrapperClassName,o=r.hidePopper,a=r.popperComponent,l=r.targetComponent,c=r.enableTabLoop,u=r.popperOnKeyDown,h=r.portalId,d=r.portalHost,f=r.popperProps,v=r.showArrow,g;if(!o){var E=Oi("react-datepicker-popper",i);g=Le.createElement(xF,{enableTabLoop:c},Le.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:E,"data-placement":f.placement,onKeyDown:u},a,v&&Le.createElement(Nse,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=Le.createElement(this.props.popperContainer,{},g)),h&&!o&&(g=Le.createElement(wF,{portalId:h,portalHost:d},g));var _=Oi("react-datepicker-wrapper",s);return Le.createElement(Le.Fragment,null,Le.createElement("div",{ref:f.refs.setReference,className:_},l),g)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(Le.Component),Uoe=Boe(joe),Qk="react-datepicker-ignore-onclickoutside",Voe=h_(Roe);function Woe(n,e){return n&&e?ms(n)!==ms(e)||tn(n)!==tn(e):n!==e}var tx="Date input not valid.",Xk=function(n){function e(t){var r;return gi(this,e),r=mi(this,e,[t]),de(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ln()}),de(r,"modifyHolidays",function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return qm(a)?[].concat(Du(s),[Sl(Sl({},o),{},{date:a})]):s},[])}),de(r,"calcInitialState",function(){var i,s=r.getPreSelection(),o=gF(r.props),a=vF(r.props),l=o&&Jh(s,qa(o))?o:a&&Nu(s,nE(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:Hk(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),de(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),de(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),de(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),de(r,"setOpen",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:nx},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})}),de(r,"inputOk",function(){return Xh(r.state.preSelection)}),de(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),de(r,"handleFocus",function(i){r.state.preventFocus||(r.props.onFocus(i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),de(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),de(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),de(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),de(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),de(r,"handleBlur",function(i){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(i),r.setState({focused:!1})}),de(r,"handleCalendarClickOutside",function(i){r.props.inline||r.setOpen(!1),r.props.onClickOutside(i),r.props.withPortal&&i.preventDefault()}),de(r,"handleChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),typeof a.isDefaultPrevented!="function"||a.isDefaultPrevented()))){r.setState({inputValue:a.target.value,lastPreSelectChange:Hoe});var l=$se(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&l&&!xn(l,r.props.selected)&&(l=Aie(r.props.selected,{hours:Ya(l),minutes:$a(l),seconds:Bl(l)})),(l||!a.target.value)&&r.setSelected(l,a,!0)}}),de(r,"handleSelect",function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!Yk(i,l))&&r.setOpen(!1)}}),de(r,"setSelected",function(i,s,o,a){var l=i;if(r.props.showYearPicker){if(l!==null&&mF(tn(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&mv(l,r.props))return}else if(l!==null&&g_(l,r.props))return;var c=r.props,u=c.onChange,h=c.selectsRange,d=c.startDate,f=c.endDate,v=c.selectsMultiple,g=c.selectedDates,E=c.minTime,_=c.swapRange;if(!xh(r.props.selected,l)||r.props.allowSameDay||h||v)if(l!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=Jw(l,{hour:Ya(r.props.selected),minute:$a(r.props.selected),second:Bl(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&E&&(l=Jw(l,{hour:E.getHours(),minute:E.getMinutes(),second:E.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),h){var w=!d&&!f,x=d&&!f,R=d&&f;w?u([l,null],s):x&&(l===null?u([null,null],s):Yk(l,d)?u(_?[l,d]:[l,null],s):u([d,l],s)),R&&u([l,null],s)}else if(v)if(!(g!=null&&g.length))u([l],s);else{var B=g.some(function(T){return xn(T,l)});if(B){var V=g.filter(function(T){return!xn(T,l)});u(V,s)}else u([].concat(Du(g),[l]),s)}else u(l,s);o||(r.props.onSelect(l,s),r.setState({inputValue:null}))}),de(r,"setPreSelection",function(i){var s=typeof r.props.minDate<"u",o=typeof r.props.maxDate<"u",a=!0;if(i){var l=qa(i);if(s&&o)a=x0(i,r.props.minDate,r.props.maxDate);else if(s){var c=qa(r.props.minDate);a=Nu(i,c)||xh(l,c)}else if(o){var u=nE(r.props.maxDate);a=Jh(i,u)||xh(l,u)}}a&&r.setState({preSelection:i})}),de(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),de(r,"handleTimeChange",function(i){var s=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?i:Jw(s,{hour:Ya(i),minute:$a(i)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),de(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),de(r,"onInputKeyDown",function(i){r.props.onKeyDown(i);var s=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(s==="ArrowDown"||s==="ArrowUp"||s==="Enter")&&r.onInputClick();return}if(r.state.open){if(s==="ArrowDown"||s==="ArrowUp"){i.preventDefault();var o=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(o);a&&a.focus({preventScroll:!0});return}var l=Ln(r.state.preSelection);s==="Enter"?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===nx?(r.handleSelect(l,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):s==="Escape"?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):s==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:tx})}}),de(r,"onPortalKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),de(r,"onDayKeyDown",function(i){r.props.onKeyDown(i);var s=i.key,o=i.shiftKey,a=Ln(r.state.preSelection);if(s==="Enter")i.preventDefault(),r.handleSelect(a,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(s==="Escape")i.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:tx});else if(!r.props.disabledKeyboardNavigation){var l;switch(s){case"ArrowLeft":r.props.showWeekPicker?l=yk(a,1):l=rre(a,1);break;case"ArrowRight":r.props.showWeekPicker?l=B2(a,1):l=Vu(a,1);break;case"ArrowUp":l=yk(a,1);break;case"ArrowDown":l=B2(a,1);break;case"PageUp":l=o?ip(a,1):rp(a,1);break;case"PageDown":l=o?Ml(a,1):pa(a,1);break;case"Home":l=fu(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=Jse(a);break;default:l=null;break}if(!l){r.props.onInputError&&r.props.onInputError({code:1,msg:tx});return}if(i.preventDefault(),r.setState({lastPreSelectChange:nx}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var c=ms(a),u=ms(l),h=tn(a),d=tn(l);c!==u||h!==d?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),de(r,"onPopperKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),r.sendFocusBackToInput())}),de(r,"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],i):r.props.onChange(null,i),r.setState({inputValue:null})}),de(r,"clear",function(){r.onClearClick()}),de(r,"onScroll",function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)}),de(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:Le.createElement(Voe,{ref:function(s){r.calendar=s},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:loe(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:Qk,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),de(r,"renderAriaLiveRegion",function(){var i=r.props,s=i.dateFormat,o=i.locale,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(bo(r.props.startDate,{dateFormat:l,locale:o}),". ").concat(r.props.endDate?"End date: "+bo(r.props.endDate,{dateFormat:l,locale:o}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(bo(r.props.selected,{dateFormat:s,locale:o})):r.props.showYearPicker?c="Selected year: ".concat(bo(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?c="Selected month: ".concat(bo(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(bo(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):c="Selected date: ".concat(bo(r.props.selected,{dateFormat:l,locale:o})),Le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)}),de(r,"renderDateInput",function(){var i,s=Oi(r.props.className,de({},Qk,r.state.open)),o=r.props.customInput||Le.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Yse(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?Gse(r.props.selectedDates,r.props):bo(r.props.selected,r.props);return Le.cloneElement(o,(i={},de(de(de(de(de(de(de(de(de(de(i,a,function(c){r.input=c}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),de(de(de(de(de(de(de(de(de(de(i,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",Oi(o.props.className,s)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),de(de(de(i,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),de(r,"renderClearButton",function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,u=i.clearButtonTitle,h=i.clearButtonClassName,d=h===void 0?"":h,f=i.ariaLabelClose,v=f===void 0?"Close":f,g=i.selectedDates;return s&&(a!=null||l!=null||c!=null||g!=null&&g.length)?Le.createElement("button",{type:"button",className:Oi("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:r.onClearClick,title:u,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return yi(e,n),vi(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,i){r.inline&&Woe(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Hk(this.props.highlightDates)}),!i.focused&&!xh(r.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),i.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,i=r.showIcon,s=r.icon,o=r.calendarIconClassname,a=r.toggleCalendarOnIconClick,l=this.state.open;return Le.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&Le.createElement(Ooe,Qm({icon:s,className:"".concat(o," ").concat(l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var i=this.state.open?Le.createElement(xF,{enableTabLoop:this.props.enableTabLoop},Le.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(i=Le.createElement(wF,{portalId:this.props.portalId,portalHost:this.props.portalHost},i)),Le.createElement("div",null,this.renderInputContainer(),i)}return Le.createElement(Uoe,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Cg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(Le.Component),Hoe="input",nx="navigate";const zoe=()=>{const{darkMode:n}=Ja(),[e,t]=je.useState(!1),[r,i]=je.useState(!1),[s,o]=je.useState(!1),[a,l]=je.useState(!1),[c,u]=je.useState(!1),[h,d]=je.useState(""),[f,v]=je.useState(""),[g,E]=je.useState(null),[_,w]=je.useState(null),[x,R]=je.useState(null),[B,V]=je.useState("");je.useEffect(()=>{(async()=>{try{const q=await GS(Po(fr,"SenhaAdmin","SenhaAdmin"));q.exists()&&V(q.data().SenhaAdmin||"")}catch(q){console.error("Error loading admin password:",q)}})()},[]),je.useEffect(()=>{const D=q=>{q.target.classList.contains("modal-overlay")&&T()};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const T=()=>{t(!1),i(!1),o(!1),l(!1),u(!1),d(""),v(""),E(null),w(null),R(null)},b=async(D,q=!1)=>{try{let he=lo(fr,"records");if(q&&g&&_){const K=new Date(_);K.setHours(23,59,59,999),he=fa(he,$l("dateCreated",">=",g.toLocaleDateString("pt-BR")),$l("dateCreated","<=",K.toLocaleDateString("pt-BR")),bm("dateCreated","desc"))}else he=fa(he,bm("id","desc"),Am(100));const ee=(await Eu(he)).docs.map(K=>({id:K.id,...K.data()}));switch(D){case"pdf":ine(ee);break;case"xlsx":sne(ee);break;case"csv":one(ee);break}T()}catch(he){console.error("Erro ao exportar:",he)}},I=D=>{R(D),u(!0)},L=()=>{i(!1),o(!0)},A=()=>{o(!1),l(!0)},C=async()=>{if(h!==B){v("Senha incorreta");return}try{const q=(await Eu(lo(fr,"records"))).docs.map(he=>$D(he.ref));await Promise.all(q),T()}catch(D){console.error("Erro ao excluir registros:",D),v("Erro ao excluir registros. Tente novamente.")}};return ae.jsxs("div",{className:"mb-8",children:[ae.jsxs("div",{className:"flex flex-wrap gap-4 justify-between",children:[ae.jsxs("div",{className:"flex flex-wrap gap-4",children:[ae.jsxs("button",{onClick:()=>I("pdf"),className:"px-4 py-2.5 rounded-lg shadow-lg transition-all duration-300 flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white hover:shadow-blue-500/30",children:[ae.jsx(H7,{size:16}),"PDF"]}),ae.jsxs("button",{onClick:()=>I("xlsx"),className:"px-4 py-2.5 rounded-lg shadow-lg transition-all duration-300 flex items-center gap-2 bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white hover:shadow-blue-400/30",children:[ae.jsx(V7,{size:16}),"XLSX"]}),ae.jsxs("button",{onClick:()=>I("csv"),className:"px-4 py-2.5 rounded-lg shadow-lg transition-all duration-300 flex items-center gap-2 bg-gradient-to-r from-blue-300 to-blue-400 hover:from-blue-400 hover:to-blue-500 text-white hover:shadow-blue-300/30",children:[ae.jsx(W7,{size:16}),"CSV"]})]}),ae.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2.5 rounded-lg shadow-lg transition-all duration-300 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white hover:shadow-red-500/30",children:"Aes"})]}),c&&ae.jsx("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-4",children:"Selecione o Perodo"}),ae.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-2",children:"Data Inicial:"}),ae.jsx(Xk,{selected:g,onChange:D=>E(D),selectsStart:!0,startDate:g,endDate:_,className:`w-full p-2 rounded-md border ${n?"bg-gray-700 text-white":"bg-gray-100 text-gray-800 border-gray-300"}`,dateFormat:"dd/MM/yyyy"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block mb-2",children:"Data Final:"}),ae.jsx(Xk,{selected:_,onChange:D=>w(D),selectsEnd:!0,startDate:g,endDate:_,minDate:g,className:`w-full p-2 rounded-md border ${n?"bg-gray-700 text-white":"bg-gray-100 text-gray-800 border-gray-300"}`,dateFormat:"dd/MM/yyyy"})]})]}),ae.jsxs("div",{className:"flex flex-col space-y-3",children:[ae.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ae.jsx("button",{onClick:()=>{x&&b(x,!1)},className:`px-4 py-2 rounded-md ${n?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Exportar Pgina Atual"}),ae.jsx("button",{onClick:()=>{x&&b(x,!0)},className:`px-4 py-2 rounded-md ${n?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:!g||!_,children:"Exportar Perodo"})]}),ae.jsx("button",{onClick:T,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"})]})]})}),e&&ae.jsx("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-4",children:"Aes"}),ae.jsxs("div",{className:"flex flex-col space-y-4",children:[ae.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Apagar Todos os Registros"}),ae.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"})]})]})}),r&&ae.jsx("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-4",children:"Confirmar Excluso"}),ae.jsx("p",{className:"mb-6",children:"Voc est prestes a iniciar o processo de excluso de TODOS os registros. Esta  uma ao irreversvel. Deseja continuar?"}),ae.jsxs("div",{className:"flex justify-end space-x-4",children:[ae.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"}),ae.jsx("button",{onClick:L,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Continuar"})]})]})}),s&&ae.jsx("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsxs("div",{className:"flex items-center mb-4",children:[ae.jsx(j7,{className:"text-yellow-500 mr-2",size:24}),ae.jsx("h3",{className:"text-xl font-bold",children:"ATENO!"})]}),ae.jsxs("div",{className:"mb-6",children:[ae.jsx("p",{className:"text-red-500 font-bold mb-4",children:"AVISO IMPORTANTE:"}),ae.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[ae.jsx("li",{children:"Esta ao ir excluir PERMANENTEMENTE todos os registros"}),ae.jsx("li",{children:"No ser possvel recuperar os dados aps a excluso"}),ae.jsx("li",{children:"Recomendamos exportar os dados antes de prosseguir"})]})]}),ae.jsxs("div",{className:"flex justify-end space-x-4",children:[ae.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"}),ae.jsx("button",{onClick:A,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Entendi os riscos, continuar"})]})]})}),a&&ae.jsx("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:ae.jsxs("div",{className:`p-6 rounded-lg max-w-md w-full ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h3",{className:"text-xl font-bold mb-4",children:"Senha de Administrador Necessria"}),ae.jsx("p",{className:"mb-4",children:"Por favor, digite a senha de administrador para confirmar a excluso de todos os registros:"}),ae.jsx("input",{type:"password",value:h,onChange:D=>d(D.target.value),className:`w-full p-3 rounded-lg mb-4 ${n?"bg-gray-700 text-white":"bg-white text-gray-800"} border ${f?"border-red-500":"border-gray-300"}`,placeholder:"Digite a senha"}),f&&ae.jsx("p",{className:"text-red-500 mb-4",children:f}),ae.jsxs("div",{className:"flex justify-end space-x-4",children:[ae.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Cancelar"}),ae.jsx("button",{onClick:C,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Apagar Tudo"})]})]})})]})},qoe=()=>{const{darkMode:n}=Ja(),[e,t]=je.useState(""),[r,i]=je.useState(""),[s,o]=je.useState(!1),[a,l]=je.useState(""),[c,u]=je.useState(!1),h=async f=>{f.preventDefault(),l("");try{await AW(Qy,e,r)}catch(v){v.code==="auth/user-not-found"?l("Usurio no encontrado"):v.code==="auth/wrong-password"?l("Senha incorreta"):l("Erro ao fazer login. Tente novamente.")}},d=async f=>{f.preventDefault(),l("");try{const v=fa(lo(fr,"pendingUsers"),$l("email","==",e));if(!(await Eu(v)).empty){l("Este email j est aguardando aprovao");return}const E=fa(lo(fr,"users"),$l("email","==",e));if(!(await Eu(E)).empty){l("Este email j est registrado");return}await g5(Po(lo(fr,"pendingUsers")),{email:e,password:r,requestDate:new Date().toISOString(),status:"pending"}),u(!0),t(""),i("")}catch(v){console.error("Registration error:",v),l("Erro ao registrar. Tente novamente.")}};return c?ae.jsx("div",{className:`min-h-screen flex items-center justify-center ${n?"bg-gray-900":"bg-gray-100"}`,children:ae.jsxs("div",{className:`p-8 rounded-lg shadow-lg w-full max-w-md ${n?"bg-gray-800":"bg-white"}`,children:[ae.jsx("h2",{className:`text-2xl font-bold mb-6 text-center ${n?"text-white":"text-gray-900"}`,children:"Solicitao Enviada"}),ae.jsx("p",{className:`text-center mb-6 ${n?"text-gray-300":"text-gray-600"}`,children:"Sua solicitao de registro foi enviada com sucesso. Aguarde a aprovao do administrador."}),ae.jsx("button",{onClick:()=>{o(!1),u(!1)},className:`w-full py-3 rounded-lg font-medium ${n?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Voltar para Login"})]})}):ae.jsx("div",{className:`min-h-screen flex items-center justify-center ${n?"bg-gray-900":"bg-gray-100"}`,children:ae.jsxs("div",{className:`p-8 rounded-lg shadow-lg w-full max-w-md ${n?"bg-gray-800":"bg-white"}`,children:[ae.jsx("h2",{className:`text-2xl font-bold mb-6 text-center ${n?"text-white":"text-gray-900"}`,children:"QUALIDADE UPTEC"}),ae.jsxs("form",{onSubmit:s?d:h,className:"space-y-4",children:[ae.jsx("div",{children:ae.jsx("input",{type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"Email",className:`w-full p-3 rounded-lg ${n?"bg-gray-700 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} border border-gray-300`,required:!0})}),ae.jsx("div",{children:ae.jsx("input",{type:"password",value:r,onChange:f=>i(f.target.value),placeholder:"Senha",className:`w-full p-3 rounded-lg ${n?"bg-gray-700 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} border border-gray-300`,required:!0})}),a&&ae.jsx("p",{className:"text-red-500 text-sm",children:a}),ae.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg font-medium ${n?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:s?"Registrar":"Login"})]}),ae.jsx("div",{className:"mt-4 text-center",children:ae.jsx("button",{onClick:()=>{o(!s),l("")},className:`text-sm ${n?"text-blue-400":"text-blue-600"} hover:underline`,children:s?"J tem uma conta? Faa login":"No tem uma conta? Registre-se"})})]})})},$oe=()=>{const{darkMode:n}=Ja(),[e,t]=je.useState([]),[r,i]=je.useState(!0),[s,o]=je.useState("");je.useEffect(()=>{a()},[]);const a=async()=>{try{const u=fa(lo(fr,"pendingUsers"),$l("status","==","pending")),d=(await Eu(u)).docs.map(f=>({id:f.id,...f.data()}));t(d)}catch(u){console.error("Error loading pending users:",u),o("Erro ao carregar usurios pendentes")}finally{i(!1)}},l=async u=>{try{const h=await bW(Qy,u.email,u.password);await L0(Po(fr,"users",h.user.uid),{email:u.email,approvedAt:new Date().toISOString()}),await L0(Po(fr,"pendingUsers",u.id),{status:"approved"}),await a()}catch(h){console.error("Error approving user:",h),o("Erro ao aprovar usurio")}},c=async u=>{try{await L0(Po(fr,"pendingUsers",u.id),{status:"rejected"}),await a()}catch(h){console.error("Error rejecting user:",h),o("Erro ao rejeitar usurio")}};return r?ae.jsx("div",{children:"Carregando..."}):ae.jsxs("div",{className:`p-6 ${n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[ae.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Aprovao de Usurios"}),s&&ae.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg",children:s}),e.length===0?ae.jsx("p",{className:"text-gray-500",children:"Nenhuma solicitao pendente"}):ae.jsx("div",{className:"space-y-4",children:e.map(u=>ae.jsx("div",{className:`p-4 rounded-lg border ${n?"border-gray-700":"border-gray-200"}`,children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{children:[ae.jsx("p",{className:"font-medium",children:u.email}),ae.jsxs("p",{className:"text-sm text-gray-500",children:["Solicitado em: ",new Date(u.requestDate).toLocaleString()]})]}),ae.jsxs("div",{className:"space-x-2",children:[ae.jsx("button",{onClick:()=>l(u),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Aprovar"}),ae.jsx("button",{onClick:()=>c(u),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Rejeitar"})]})]})},u.id))})]})};function Yoe(){const[n,e]=je.useState(null),[t,r]=je.useState(!1),[i,s]=je.useState(!1);return je.useEffect(()=>{const o=Qy.onAuthStateChanged(async a=>{if(e(a),a){sY(a);const l=await GS(Po(fr,"users",a.uid));l.exists()&&r(l.data().isAdmin===!0)}});return()=>o()},[]),n?ae.jsx(lA,{children:ae.jsx(oY,{isAdmin:t,onToggleAdminPanel:()=>s(!i),children:i&&t?ae.jsx($oe,{}):ae.jsxs(ae.Fragment,{children:[ae.jsx(uY,{}),ae.jsx(zoe,{}),ae.jsx(hY,{})]})})}):ae.jsx(lA,{children:ae.jsx(qoe,{})})}const EF=document.getElementById("root");if(!EF)throw new Error("Failed to find the root element");hP(EF).render(ae.jsx(je.StrictMode,{children:ae.jsx(Yoe,{})}));export{Fn as _,F_ as c,Jk as g};
